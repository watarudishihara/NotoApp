"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="e63f9057-3c6f-58a5-9199-85cb11ceb354")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[2135],{503801:(e,t,i)=>{if(i.d(t,{A:()=>l,H:()=>s}),443==i.j)var a=i(382629);var r=i(236753),n=i(134798),o=i(649693);function s(e,t){for(let t of Object.values(e))if((0,a.uy)(t)||!(0,o.dA)(t))return!1;for(let i of Object.keys(e))if(!t.includes(i))return!1;return!0}function l(e,t){return(0,r.UL)(e)>=d[t]}let d={pro:n.f8,org:n.WQ,enterprise:1/0}},432135:(e,t,i)=>{i.d(t,{S_:()=>N,cw:()=>k,g_:()=>R,gk:()=>D});var a=i(638004),r=i(883765),n=i(219199),o=i(755444),s=i(572761),l=i(550209),d=i(889438),_=i(432099),p=i(256384),m=i(192075),c=i(281684),u=i(503801),g=i(236753),f=i(111679),h=i(381640),y=i(147046),T=i(366535),v=i(249586),b=i(554886),E=i(853039),x=i(295746),S=i(176203),I=i(984887),A=i(377026),j=i(715458),P=i(483200),w=i(952385),C=i(174461);let R=(0,h.nF)((e,{teamId:t,teamName:i,previousView:a})=>{e.dispatch(y.sf({view:"promoReview",teamId:t,teamName:i,previousView:a}))}),N=(0,h.nF)((e,t)=>{let{promoCode:i,teamId:a,teamName:r,onSuccess:n,onError:o}=t;_.Ay.post("/api/teams/redeem_promo",{promo_code:i,team_id:a}).then(()=>{n(),e.dispatch(p.s.flash((0,m.t)("flash.redeem_promo.success",{teamName:r})))}).catch(t=>{o(),e.dispatch(p.s.error((0,m.t)("flash.redeem_promo.failure")))})}),k=(0,h.nF)((e,t)=>{let{teamId:i,surveyResult:a}=t,r=e.getState(),n=r.user?.id;_.Ay.post(`/api/teams/${i}/pro_trial`).then(()=>{n?e.dispatch(f._l({workspace:{userId:n,orgId:null,teamId:i},view:{view:"allProjects"}})):e.dispatch(y.sf({view:"team",teamId:i})),e.dispatch(p.s.flash((0,m.t)("payments.pro_trial.start_pro_trial_success"))),x.R_.trackInitiationSubmit(a,!0)}).catch(t=>{n?e.dispatch(f._l({workspace:{userId:n,orgId:null,teamId:i},view:{view:"recentsAndSharing"}})):e.dispatch(y.sf({view:"recentsAndSharing"})),e.dispatch(p.s.error((0,m.t)("payments.pro_trial.start_pro_trial_error"))),x.R_.trackInitiationSubmit(a,!1)})}),D=(0,h.nF)((e,{teamName:t,invites:i,teamId:h,selectedCurrency:x,hasSelectedStudentTeam:R,displayedCostBreakdown:N,teamFlowType:k,onSuccess:D,isCampfireCart:O,inStarterTeamLoopholes:U,displayedPriceKeys:W})=>{let L;let F=e.getState(),z=F.user?.id,M=(e,t)=>({annual_quantity:(0,E.fD)(e,t),monthly_quantity:(0,E.Rq)(e,t)}),B=(0,E.ne)(F.payment.billingPeriod);if(!B){e.dispatch(p.s.error((0,m.t)("payments.invalid_billing_interval_error")));return}let G=null,q=null;if(O){let t=F.payment.cartSelections?.selectedUserSeatTypes,i=U?[z]:Object.values(h?F.teamUserByTeamId[h]:{}).map(e=>e.user_id??"");if(t&&(0,u.H)(t,i))q=(0,g.VB)(t)??null,G=F.payment.cartSelections?.countBySeatType??null;else{e.dispatch(p.s.error((0,m.t)("payments.errors.error_processing_upgrade_request"))),(0,l.$D)(a.e.MONETIZATION_UPGRADES,Error("Unable to retrieve valid selectedUserSeatTypes while submitting Pro upgrade request"),{extra:{teamId:h,userIds:i,selectedUserSeatTypes:t}}),e.dispatch(P.I2({submitPending:!1}));return}}else G={design:F.payment.numDesignEditors,figjam:F.payment.numWhiteboardEditors};let V={...M(F.payment.billingPeriod,F.payment.numDesignEditors),annual_whiteboard_quantity:M(F.payment.billingPeriod,F.payment.numWhiteboardEditors).annual_quantity,monthly_whiteboard_quantity:M(F.payment.billingPeriod,F.payment.numWhiteboardEditors).monthly_quantity,editor_status_changes:F.payment.editorStatusChanges,subscription_monthly_quantity_figjam:M(F.payment.billingPeriod,F.payment.numWhiteboardEditors).monthly_quantity,subscription_annual_quantity_figjam:M(F.payment.billingPeriod,F.payment.numWhiteboardEditors).annual_quantity,vat_gst_id:F.payment.vatGstId||null,regional_vat_gst_id:F.payment.regionalVatGstId||null,legal_name:F.payment.legalName||null,display_name:F.payment.displayName||null,selected_user_seat_types:q,count_by_billable_product:G,billing_interval:B,displayed_cost_breakdown:N,displayed_price_keys:W};if(null===h){let e=F.payment.promo,a=!!F.user&&(0,d.cn)(F.user);if(null!=e)L={...V,team_name:t,invite_emails:i,promo_code:e.code};else if(a&&R)L={...V,team_name:t,invite_emails:i,student_team:!0};else{let e=(0,o.DC)();L={...V,team_name:t,invite_emails:i,subscribe_to_pro:!0,address:e?.address,payment_method_id:e?.payment_method_id,selected_currency:x}}}else L={...V,selected_currency:x};let $=h?`/api/subscriptions-2018-11-08/team/${h}`:"/api/teams/create",X=F.selectedView,H=F.payment.upgradingNewTeam;_.Ay.post($,L).then(({data:t})=>{let a="team"in t.meta?t.meta.team:t.meta,o=()=>{if(z){let t={userId:z,teamId:a.id,orgId:null};e.dispatch(f._l({workspace:t,view:{view:"allProjects",isProUpgrade:!0}}))}else e.dispatch(y.sf({view:"team",teamId:a.id})),e.dispatch(T.to({type:j.C,data:{teamId:a.id}}))};h||(0,b.P8)(a,e,{dontRedirect:!0,inviteEmails:i,teamFlowType:k}),e.dispatch(P.I2({submitPending:!1})),e.dispatch(P.Je({editorStatusChanges:{upgrade:{whiteboard:[],design:[],slides:[],sites:[],cooper:[],figmake:[]},downgrade:{whiteboard:[],design:[],slides:[],sites:[],cooper:[],figmake:[]}}})),a&&e.dispatch(w.yJ({team:a,userInitiated:!1})),a.student_team&&e.dispatch(P.Lo({billingPeriod:I.tY.UNSPECIFIED})),F.payment.promo&&((0,s._H)(),e.dispatch(P.Ay({promo:null})));let l=new URLSearchParams(n.Ay.location.search);if(H){if(l.get("onCompleteRedirectFileKey")){let t=decodeURIComponent(l.get("onCompleteRedirectFileKey")),i=decodeURIComponent(l.get("onCompleteRedirectNodeId")),r={view:"fullscreen",fileKey:t,...i?{nodeId:i}:{}};e.dispatch(y.sf({...r,teamToMoveFileToOnNavigate:a.id,editorType:S.nT.Design}))}else o()}else if(e.dispatch(C.Be({teamId:a.id})),l.get("onCompleteRedirectFileKey")){let t=decodeURIComponent(l.get("onCompleteRedirectFileKey")),i=decodeURIComponent(l.get("onCompleteRedirectNodeId")),r={view:"fullscreen",fileKey:t,...i?{nodeId:i}:{}};e.dispatch(y.sf({...r,teamToMoveFileToOnNavigate:a.id,editorType:S.nT.Design}))}else o();(0,r.sx)("Pro Team Purchased (GTM)"),D&&D()}).catch(t=>{let i=(t,i={})=>{let a=new URLSearchParams(n.Ay.location.search),r=a.get("onCompleteRedirectFileKey"),o=a.get("onCompleteRedirectNodeId");e.dispatch(y.sf({...X,view:"teamUpgrade",teamFlowType:t?A.SC.UPGRADE_EXISTING_TEAM:A.SC.CREATE_AND_UPGRADE,teamId:t||i.freeTeamId||null,paymentStep:I.tn.PAYMENT_AND_ADDRESS,previousView:X.previousView,planType:A.Sc.TEAM,...r?{searchParams:{onCompleteRedirectFileKey:r,onCompleteRedirectNodeId:o}}:{}}))};e.dispatch(P.I2({submitPending:!1}));let o=t.data?.message||t.message;null!==h?(0,v._J)("Pro Checkout Error",h,F,{error_message:o,request_params:JSON.stringify(L)}):(0,r.sx)("Pro Checkout Error"),(0,l.$D)(a.e.BILLING_EXPERIENCE,Error(`[Billing] Pro checkout API failed: ${o}`),{extra:{countByBillableProduct:G,selectedUserSeatTypes:q,billingInterval:B,displayedCostBreakdown:N,displayedPriceKeys:W,isCampfireCart:O}}),((t,a)=>{let r=(0,c.J)(t);r&&("PROMO_CODE"===t.data.reason?(e.dispatch(P.Ay({promo:null})),i(a,{}),e.dispatch(P.Qg({error:r}))):"CARD_ERROR"===t.data.reason?(e.dispatch(P.WG({token:null})),i(a,{}),e.dispatch(P.Qg({error:r}))):e.dispatch(p.s.error(r)))})(t,h)})})},616793:(e,t,i)=>{var a;i.d(t,{S:()=>a}),(a||(a={})).getTrackingProperties=function(e){return{productArea:"pro_tier_onboarding",teamId:e}}},295746:(e,t,i)=>{i.d(t,{$Q:()=>I,Mm:()=>v,NN:()=>T,PG:()=>P,R_:()=>a,TB:()=>A,bo:()=>j,h3:()=>S,iX:()=>b});var a,r=i(104076),n=i(883765),o=i(755444),s=i(652539),l=i(192075),d=i(171660),_=i(268305),p=i(180390),m=i(302396),c=i(731272),u=i(858457),g=i(971107),f=i(690182),h=i(1757),y=i(817229);let T="Pro Trial Initiation Modal",v="Pro Trial Downgrade Modal";var b=(e=>(e[e.SELECT_TEAM=0]="SELECT_TEAM",e[e.SELECT_TEAM_TYPE=1]="SELECT_TEAM_TYPE",e[e.SELECT_FEATURES=2]="SELECT_FEATURES",e))(b||{}),E=(e=>(e.FREELANCER="freelancer",e.AGENCY="agency",e.PRODUCT="product",e.OTHER="other",e))(E||{}),x=(e=>(e.UNLIMITED_FILES="unlimited_files",e.COMPONENT_LIBRARIES="component_libraries",e.ORGANIZING_FILES="organizing_files",e.VOTING_WORKSHOPS="voting_workshops",e.PLAYING_VIDEOS="playing_videos",e.SHARING_FILES="sharing_files",e.INVITING_VISITORS="inviting_visitors",e.AUDIO="audio",e))(x||{});let S=Object.keys(b).length/2,I={freelancer:(0,o.ck)("06cfa92c773695fb0be0202d467640e521950e67"),agency:(0,o.ck)("e98abc8479042db5e94f5c35bf764ad4326f892f"),product:(0,o.ck)("915ace9058a397e6e4ceadc221dd20a9d95898d7"),other:(0,o.ck)("4423aaa8499d483db2703e6cad1b4c90805e7f16")},A=[{teamType:"freelancer",imageAltText:()=>(0,l.t)("pro_trials_v3.pro_trial_initiation_modal.freelancer"),descriptionText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.freelancer")})},{teamType:"agency",imageAltText:()=>(0,l.t)("pro_trials_v3.pro_trial_initiation_modal.agency"),descriptionText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.agency")})},{teamType:"product",imageAltText:()=>(0,l.t)("pro_trials_v3.pro_trial_initiation_modal.product"),descriptionText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.product")})},{teamType:"other",imageAltText:()=>(0,l.t)("pro_trials_v3.pro_trial_initiation_modal.other_team_type"),descriptionText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.other_team_type")})}],j={unlimited_files:(0,r.jsx)(s.B,{svg:p.A}),component_libraries:(0,r.jsx)(s.B,{svg:f.A}),organizing_files:(0,r.jsx)(s.B,{svg:m.A}),voting_workshops:(0,r.jsx)(s.B,{svg:y.A}),playing_videos:(0,r.jsx)(s.B,{svg:h.A}),sharing_files:(0,r.jsx)(s.B,{svg:g.A}),inviting_visitors:(0,r.jsx)(s.B,{svg:c.A}),audio:(0,r.jsx)(s.B,{svg:u.A})},P=[{featureType:"unlimited_files",featureText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.unlimited_files")})},{featureType:"component_libraries",featureText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.component_libraries")})},{featureType:"organizing_files",featureText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.organizing_files")})},{featureType:"voting_workshops",featureText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.voting_workshopping")})},{featureType:"playing_videos",featureText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.playing_videos")})},{featureType:"sharing_files",featureText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.sharing_files")})},{featureType:"inviting_visitors",featureText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.inviting_visitors")})},{featureType:"audio",featureText:(0,r.jsx)(d.E,{fontSize:14,fontWeight:"medium",children:(0,l.tx)("pro_trials_v3.pro_trial_initiation_modal.using_audio")})}];(a||(a={})).trackInitiationSubmit=function(e,t){(0,n.sx)("pro_trial_initiation_submit",{startedTrialSuccessfully:t,...e,..._.ng.getTrackingProperties(),features:e.features?e.features.join(", "):null})}},434960:(e,t,i)=>{i.d(t,{X:()=>l});var a=i(104076),r=i(652539),n=i(236631),o=i(171660);if(443==i.j)var s=i(191424);function l(e){return(0,a.jsxs)("p",{className:n.s.flex.itemsCenter.gap8.mt8.$,children:[(0,a.jsx)(r.B,{svg:s.A,className:n.s.colorIconDesign.$}),(0,a.jsx)(o.E,{fontSize:13,children:e.bulletLabel})]})}},715458:(e,t,i)=>{i.d(t,{C:()=>b});var a=i(104076),r=i(903927),n=i(192075),o=i(171660),s=i(366535),l=i(901556),d=i(244205),_=i(592726),p=i(616793),m=i(959834),c=i(116450),u=i(755444),g=i(236631),f=i(434960);let h="seen_pro_onboarding_welcome_modal";function y(){return(0,a.jsxs)("div",{className:g.s.mt16.$,children:[(0,a.jsx)(f.X,{bulletLabel:(0,n.t)("pro_onboarding.unlimited_files_for_all_your_ideas")}),(0,a.jsx)(f.X,{bulletLabel:(0,n.t)("pro_onboarding.unlimited_projects_to_organize_your_files")}),(0,a.jsx)(f.X,{bulletLabel:(0,n.t)("pro_onboarding.dev_mode_for_simpler_inspection_and_handoff")})]})}function T({user:e}){return(0,a.jsx)(o.E,{fontSize:24,fontWeight:"bold",children:(0,n.tx)("pro_onboarding.welcome_to_professional",{userName:e.name.split(" ")[0]})})}function v(){return(0,a.jsx)("img",{width:313,src:(0,u.ck)("4323e87513cec17f5decef84ebf66c12c0d2ea59"),alt:"An illustration welcoming you to Figma Professional"})}let b=(0,m.Ju)(function({teamId:e}){let t=(0,_.iZ)(),i=(0,r.d4)(t=>t.teams[e]),m=(0,r.wA)(),u=(0,r.d4)(e=>e.userTeamFlags);if(!t||u[e]?.[h])return null;let g=()=>{m(l.bE({all_team_flags:[{team_id:e,flags:{[h]:!0}}]})),m(s.Ce())},f=(0,a.jsxs)(a.Fragment,{children:[(0,n.tx)("pro_onboarding.you_successfully_upgraded_team_name_to_a_professional_plan",{teamName:(0,a.jsx)(o.E,{fontWeight:"bold",children:i.name})}),(0,a.jsx)(y,{})]});return(0,a.jsx)(c.xx,{title:(0,a.jsx)(T,{user:t}),description:f,media:(0,a.jsx)(v,{}),primaryCta:{type:"button",label:(0,a.jsx)(o.E,{fontSize:13,children:(0,n.tx)("pro_onboarding.get_started")}),ctaTrackingDescriptor:d.c.GET_STARTED,onClick:g},trackingContextName:"Pro Onboarding Team Upgrader Welcome Modal",trackingProperties:p.S.getTrackingProperties(e),onClose:g,closeButtonColor:"light"})},"ProOnboardingTeamUpgraderWelcomeModal")}}]);

//# debugId=e63f9057-3c6f-58a5-9199-85cb11ceb354

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/445a47373e0d32ce759e0bd2cb959e0b41c99a0f/2135-48bc3cc0866c2005.min.js.map