"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="cf199b48-c747-508d-a120-a66b9b92ef38")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[4699],{723347:(e,t,n)=>{n.d(t,{$g:()=>c,DI:()=>d,Eh:()=>o,GK:()=>r,J1:()=>l,KV:()=>i,b:()=>a,cr:()=>f,jG:()=>_,kz:()=>m,nW:()=>p,o8:()=>u,u1:()=>s,wv:()=>g});let a="universal_upgrade_sequence--closeButton--Us7fC",r="universal_upgrade_sequence--modalTitle--j-zLx text--fontPos18--rYXJb text--_fontBase--QdLsd",i="universal_upgrade_sequence--modalSubtitle--ucPxW text--fontPos14--OL9Hp text--_fontBase--QdLsd",o="universal_upgrade_sequence--createTeamInput--kWzFx basic_form--labeledInputGroup--aeD6L text--fontPos14--OL9Hp text--_fontBase--QdLsd",s="universal_upgrade_sequence--spinner--CvsHJ",l="universal_upgrade_sequence--tileUpgradeButton--GxMSU",d="universal_upgrade_sequence--nextButtonSmall--tUSIb universal_upgrade_sequence--nextButton--F2XJ4",c="universal_upgrade_sequence--createTeamSection--XhWMJ",_="universal_upgrade_sequence--scrollContainer--BQFbB",m="universal_upgrade_sequence--scrollContainerTopBorder--yuAD-",u="universal_upgrade_sequence--scrollContainerBottomBorder--CwNTV",p="universal_upgrade_sequence--teamTileContainer--kS2oM org_self_serve--teamLargeTileContainer--3M0cY",f="universal_upgrade_sequence--teamTile--WZEIz org_self_serve--teamTileLarge--HawGF text--fontPos14--OL9Hp text--_fontBase--QdLsd",g="universal_upgrade_sequence--lastTeamTile--zfV5W universal_upgrade_sequence--teamTile--WZEIz org_self_serve--teamTileLarge--HawGF text--fontPos14--OL9Hp text--_fontBase--QdLsd"},555590:(e,t,n)=>{n.d(t,{I:()=>u});var a=n(104076),r=n(716976),i=n(555013),o=n(72138),s=n(192075),l=n(244205),d=n(111297),c=n(853039),_=n(826160),m=n(723347);function u({customUpgradeText:e,eligibleTeams:t,selectTeam:n,numDesignFilesPerTeam:u,showEditorCount:p=!0}){let[f,g]=(0,r.useState)(!1),[x,h]=(0,r.useState)(!1);r.useEffect(()=>{g(t.length>=5)},[t]);let b=`${m.jG}`;f&&(b+=` ${m.o8}`),x&&(b+=` ${m.kz}`);let y=t[t.length-1],T=u&&u.length===t.length;return(0,a.jsx)(o.P,{onScroll:(e,n)=>{let a=t.length>=5,r=a&&0!==e,i=a&&e+n.trackHeight!==n.scrollHeight;i!==f&&g(i),r!==x&&h(r)},className:b,scrollingDisabled:!1,children:(0,a.jsx)("div",{className:m.nW,children:t.map((t,r)=>(0,a.jsxs)(d.jm,{className:t===y?m.wv:m.cr,onClick:()=>n(t),trackingProperties:{teamId:t.id,trackingDescriptor:l.c.UPGRADE},innerText:"Upgrade",children:[(0,a.jsxs)("div",{className:"org_self_serve--teamInfo--7YTKY",children:[(0,a.jsx)(_.Ro,{className:"org_self_serve--teamIcon--DqZPm",entity:t,size:40,shape:"SQUARE"}),(0,a.jsxs)("div",{className:"org_self_serve--teamText--Uh2zO",children:[(0,a.jsx)("p",{className:"org_self_serve--teamName--a1LGY text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",children:t.name}),(0,a.jsxs)("p",{className:"org_self_serve--teamEditors--2hBWh text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[!T&&p&&(0,s.tx)("universal_upgrade.select_team.editor_count.seat_rename",{editors:t.editors}),T&&u&&(0,s.tx)("universal_upgrade.select_team.files_per_team_figma_files_used",{numFilesUsed:u[r],numFreeFilesAllowed:c.WW})]})]})]}),(0,a.jsx)(i.nR,{className:m.J1,dataTestId:"select_team.upgrade",children:e??(0,s.tx)("universal_upgrade.select_team.upgrade")})]},t.id))})})}},184070:(e,t,n)=>{let a;n.d(t,{w:()=>o});let r=new(n(722458)).b({name:"billing_remodel_terms",description:"Code related to informing customers about the billing remodel and new terms that they may need to accept",dependencies:[],exports:{"./components":"./components.ts","./hooks":"./hooks.ts","./modals":"./modals.ts","./overlays":"./overlays.ts"},sideEffects:!1,routeHints:["file_browser"]});var i=n(959834);function o(){return a??=(0,i.Ju)(r.createLazyComponent(()=>Promise.resolve().then(n.bind(n,646426)).then(e=>e.SeatBillingTermsModal),(0,i.Ij)("SeatBillingTermsModal")))}},967276:(e,t,n)=>{n.d(t,{Q:()=>l});var a=n(903927),r=n(221602),i=n(734477),o=n(574822),s=n(915707);function l({newFileFrom:e,folderId:t,contextClicked:n,forceOpenNewTab:l}){let d=(0,a.wA)(),{data:c,status:_}=(0,r.nt)(t),m=(0,i.h)(c),u=(0,s.E)({isDraftsFolder:!0,newFileFrom:e,forceOpenNewTab:l}),p="loading"===_;return{newFiles:m.map(({editorType:e,canCreate:t})=>(0,o.p)({editorType:e,isDisabled:!t,isLoading:p,onClick:u({editorType:e,triggerElement:"omnicreate",contextClicked:n})})),import:(0,o.u)({isLoading:p,dispatch:d,targetFolderId:t})}}},842471:(e,t,n)=>{n.r(t),n.d(t,{FAVORITES_COUNT_CROSSED_THRESHOLD_EVENT:()=>w,USER_FLAG_V2:()=>I,default:()=>ap});var a=n(104076),r=n(681398),i=n(795033),o=n(812714),s=n(511570),l=n.n(s),d=n(555013),c=n(192075),_=n(643330),m=n(132078);function u(e){return(0,a.jsx)("div",{className:l()("custom_sections_onboarding_modal--overlay---qTEB",{"custom_sections_onboarding_modal--overlayRedesigned--YOArU":(0,o.k)().file_browser_sidebar_row_ui}),children:(0,a.jsxs)(m.CR,{width:360,dismissModal:e.onClickPrimaryCta,targetKey:"custom-sections-nudge-modal",topPadding:4,arrowPosition:_.F_.LEFT_TITLE,pointerBackgroundColor:"var(--color-bg, $figmaBGWhite)",children:[(0,a.jsx)("h1",{className:"custom_sections_onboarding_modal--header--Z4mnG",children:(0,c.tx)("favorited_resources.custom_sections_nudge_header")}),(0,a.jsx)("p",{children:(0,c.tx)("favorited_resources.custom_sections_nudge_body",{ellipses:(0,a.jsx)("strong",{children:(0,c.tx)("favorited_resources.ellipses")}),plus:(0,a.jsx)("strong",{children:(0,c.tx)("favorited_resources.plus")})})}),(0,a.jsx)("div",{className:"custom_sections_onboarding_modal--footerContainerButtonRight--EToy- custom_sections_onboarding_modal--footerContainer---KhkM",children:(0,a.jsx)(d.vd,{onClick:e.onClickPrimaryCta,children:(0,c.tx)("rcs.file_browser.got_it")})})]})})}var p=n(111297),f=n(90844),g=n(422872),x=n(235711),h=n(143277),b=n(6449),y=n(441030);let T="seen_custom_sections_nudge",w="favorites-count-crossed-threshold",v=(0,x.r1)(T);function j(){let e=(0,i.md)(v),t=(0,g.e)({overlay:y.LB2,priority:h.N.OVERRIDING_MODAL},[e]);return(0,f.E)(t.uniqueId,w,()=>{t.show({canShow:e=>!e})}),(0,a.jsx)(b.M,{isShowing:t.isShowing,userFlagOnShow:T,children:(0,a.jsx)(p.fu,{name:"Custom Sections Nudge",children:(0,a.jsx)(u,{onClickPrimaryCta:t.complete})})})}var E=n(653899),k=n(381059),A=n(693356),C=n(927919);let I="seen_whats_new_v2_modal",N=(0,x.r1)(I),S=(0,k.tH)("last_figjam_at");function O(){let e=(0,i.md)(x.GW),t=(0,i.md)(k.mp),n=(0,i.md)(S),r=(0,i.md)(N),o=(0,i.md)(k.Ot),{show:s,isShowing:l,complete:d}=(0,g.e)({overlay:y.I3H,priority:h.N.DEFAULT_MODAL},[e,t,r,o]);return(0,E.h)(()=>{s({canShow:(e,t,a,r)=>e&&!r&&(0,A.f)({lastUsedFigjamDate:n,userCreatedAt:t,hasSeenOverlayV2:a})})}),(0,a.jsx)(C.xZ,{context:"file_browser",isShowing:l,onClose:d})}var P=n(716976),M=n(903927),R=n(276800),L=n(359166),D=n(328341),F=n(755444),B=n(350819),U=n(482996),z=n(443192),W=n(477536),G=n(987224),q=n(151720),H=n(475961),K=n(563554),V=n(856520),$=n(739801),Y=n(735270),Z=n(10411),Q=n(635970),X=n(244205),J=n(226492),ee=n(909342);let et="File Browser Onboarding -";function en(e){return(0,a.jsx)(J.X,{description:(0,c.tx)("rcs.take_tour.see_how_to_create_files_learn_about_drafts_and_teams_ways_to_access_community_and_more"),emphasized:!0,isShowing:e.isShowing,onClose:e.onManualDismiss,position:ee.Q.BOTTOM_RIGHT,primaryCta:{label:(0,c.tx)("rcs.take_tour.let_s_go"),type:"button",onClick:e.onClickPrimaryCta,ctaTrackingDescriptor:X.c.LETS_GO},secondaryCta:{label:(0,c.tx)("rcs.take_tour.no_thanks"),type:"button",onClick:e.onManualDismiss,ctaTrackingDescriptor:X.c.NO_THANKS},testId:"TakeTourOfFileBrowserOverlay",title:(0,c.tx)("rcs.take_tour.take_a_quick_tour_of_the_file_browser"),trackingContextName:`${et} Take tour`})}function ea(e){let{close:t}=(0,Q.S)(),n=()=>{t(),e.onClickPrimaryCta()};return(0,a.jsx)($.h,{testId:"AccountSettingsOverlay",modalType:Z.q3.SELF_CONTAINED,trackingContextName:`${et} Account settings`,element:e=>(0,a.jsx)(Y.Rx,{dismissModal:e.dismissModal,onClickPrimaryCta:n,forceRender:e.forceRender,step:5,totalSteps:6}),isShowing:e.isShowing,onClickPrimaryCta:n,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var er=n(240803),ei=n(699395),eo=n(389631);function es(e){let t=(0,M.wA)(),n=(0,M.d4)(e=>e.user?.drafts_folder_id);return P.useEffect(()=>((0,ei.pP)(),()=>void(0,ei.nz)()),[t,n]),(0,a.jsx)(er.o,{eventListeners:["onMouseDown"],children:(0,a.jsxs)(m.NJ,{dismissModal:e.dismissModal,width:228,targetKey:eo.l,topPadding:12,alignPointerToLeft:!0,children:[(0,c.tx)("rcs.create_files.create_files_from_scratch_import_designs_from_sketch_or_start_from_templates"),(0,a.jsx)(Y.IY,{onClick:e.onClickPrimaryCta,step:1,totalSteps:6})]})})}function el(e){return(0,a.jsx)($.h,{testId:"CreateFilesOverlay",modalType:Z.q3.SELF_CONTAINED,trackingContextName:`${et} Create files`,element:es,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var ed=n(744153);function ec(e){return(0,a.jsxs)(m.NJ,{dismissModal:e.dismissModal,width:228,targetKey:ed.uZ,topPadding:8,alignPointerToLeft:!0,children:[(0,c.tx)("rcs.create_files.files_are_great_for_collaboration_while_your_drafts_are_more_personal_if_you_share_them_they_re_view_only"),(0,a.jsx)(Y.IY,{onClick:e.onClickPrimaryCta,step:2,totalSteps:6})]})}function e_(e){return(0,a.jsx)($.h,{testId:"DraftsOverlay",modalType:Z.q3.SELF_CONTAINED,trackingContextName:`${et} Drafts`,element:ec,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var em=n(845945),eu=n(576503);function ep(e){let{open:t}=(0,Q.S)();return(0,a.jsxs)(m.NJ,{dismissModal:e.dismissModal,width:247,targetKey:(0,U.IL)()?em.Pm:eu.vM,alignPointerToLeft:!0,topPadding:12,children:[(0,U.IL)()?(0,c.tx)("rcs.account_switching.explore_community"):(0,c.tx)("rcs.account_switching.explore_files_plugins_and_widgets_created_by_the_figma_community"),(0,a.jsx)(Y.IY,{onClick:()=>{t(),e.onClickPrimaryCta()},step:4,totalSteps:6})]})}function ef(e){return(0,a.jsx)($.h,{testId:"ExploreCommunityOverlay",modalType:Z.q3.SELF_CONTAINED,trackingContextName:`${et} Community Hub`,element:ep,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eg=n(848547);function ex(e){let{open:t}=(0,Q.S)();return(0,a.jsxs)(m.NJ,{dismissModal:e.dismissModal,width:247,targetKey:eg.U,alignPointerToLeft:!0,topPadding:12,children:[(0,c.tx)("rcs.account_switching.explore_resource_hub"),(0,a.jsx)(Y.IY,{onClick:()=>{t(),e.onClickPrimaryCta()},step:4,totalSteps:6})]})}function eh(e){return(0,a.jsx)($.h,{testId:"ExploreResourceHubOverlay",modalType:Z.q3.SELF_CONTAINED,trackingContextName:`${et} Resource Hub`,element:ex,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eb=n(920712);function ey(){return(0,a.jsxs)("div",{children:[(0,a.jsx)(eb.Gv,{src:(0,F.CZ)("app/onboarding/page-4.gif")}),(0,a.jsxs)(eb.ak,{children:[(0,c.tx)("rcs.import.one_of_the_coolest_things_about_figma_is_that_you_don_t_have_to_start_from_scratch_to_get_to_work"),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,c.tx)("rcs.import.just_drag_your_sketch_files_onto_the_browser_and_we_ll_convert_them_to_figma_for_you")]})]})}function eT(e){return(0,a.jsx)($.h,{currentStepIndex:e.currentStepIndex,element:ey,isShowing:e.isShowing,modalType:Z.q3.DRAGGABLE,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,onboardingKey:"import",testId:"ImportOverlay",title:()=>(0,c.t)("rcs.import.import_sketch_files"),totalNumSteps:e.totalNumSteps,trackingContextName:"Import Sketch File Onboarding Modal",userFlagOnShow:"import_file_onboarded"})}function ew(e){return(0,a.jsx)($.h,{testId:"NotificationsOverlay",modalType:Z.q3.SELF_CONTAINED,trackingContextName:`${et} Notifications`,element:e=>(0,a.jsx)(Y.q9,{dismissModal:e.dismissModal,onClickPrimaryCta:e.onClickPrimaryCta,forceRender:e.forceRender,step:6,totalSteps:6}),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var ev=n(725837),ej=n(668242),eE=n(764973),ek=n(299640);function eA(e){return(0,a.jsx)($.h,{ctaText:(0,c.tx)("rcs.open_file.create_file"),currentStepIndex:e.currentStepIndex,element:()=>(0,a.jsx)(eb.ak,{children:(0,c.tx)("rcs.open_file.open_a_file_to_learn_more_about_figma_s_powerful_editing_features")}),isShowing:e.isShowing,modalType:Z.q3.DRAGGABLE,onClickPrimaryCta:()=>{e.onClickPrimaryCta(),function(){let e=ev.D.getState();ev.D.dispatch(ej.uM((0,eE.xA)({state:e,openNewFileIn:ek.ai.SAME_TAB})))}()},onClose:e.onClose,onManualDismiss:e.onManualDismiss,testId:"OpenFileOverlay",title:()=>(0,c.t)("rcs.open_file.edit_a_file"),totalNumSteps:e.totalNumSteps,trackingContextName:"Edit a File Onboarding Modal"})}var eC=n(77975);function eI(){let e=(0,M.d4)(e=>e.currentUserOrgId),t=(0,eC.c4)(e).data??!1,n=(0,c.tx)("rcs.org_welcome.click_the_all_teams_button_on_the_left_to_find_teams_to_join");return t&&(n=(0,c.tx)("rcs.bigma_org_welcome.click_the_all_workspaces_button_on_the_left_to_find_teams_to_join")),(0,a.jsxs)("div",{children:[(0,a.jsx)(eb.Gv,{src:(0,F.ck)("6f3307f82aeddf6f609eaf97ee9e66e788d485c1"),width:215,margin:"14px 0px 14px 27px"}),(0,a.jsxs)(eb.ak,{children:[(0,a.jsx)("p",{children:(0,c.tx)("rcs.org_welcome.figma_organization_connects_files_projects_libraries_and_teams_securely_across_your_company")}),n]})]})}function eN(e){return(0,a.jsx)($.h,{currentStepIndex:e.currentStepIndex,element:eI,highlightOnlyKey:"new-team-icon",isShowing:e.isShowing,modalType:Z.q3.DRAGGABLE,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,testId:"OrgWelcomeOverlay",title:()=>(0,c.t)("rcs.org_welcome.welcome_to_your_figma_organization"),totalNumSteps:e.totalNumSteps,trackingContextName:"Orgs Welcome Onboarding Modal",userFlagOnShow:"orgs_onboarded",width:376})}var eS=n(239891),eO=n(748314);function eP(e){let{open:t,close:n}=(0,eO.O)();return P.useEffect(()=>{t()},[t]),(0,a.jsxs)(m.NJ,{dismissModal:e.dismissModal,width:228,targetKey:eS.K,topPadding:8,alignPointerToLeft:!0,className:"plan_spaces_overlay--planSpacesPointerModal--aClGx pointer_modal--pointerModalBlue--9Jjg8 pointer_modal--pointerModal--wrpFz",children:[(0,c.tx)("rcs.plan_spaces.file_browser_onboarding_step.seat_rename"),(0,a.jsx)(Y.IY,{onClick:()=>{n(),e.onClickPrimaryCta()},step:3,totalSteps:6})]})}function eM(e){return(0,a.jsx)($.h,{testId:"PlanSpacesOverlay",modalType:Z.q3.SELF_CONTAINED,trackingContextName:`${et} Plan Spaces`,element:eP,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var eR=n(130249);function eL(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(eb.ak,{children:[(0,c.tx)("rcs.welcome_step.welcome_to_figma"),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,c.tx)("rcs.welcome_step.we_re_different_from_other_design_tools_in_some_really_special_ways_so_we_d_like_to_take_you_through_them")]}),(0,a.jsx)(eb.iy,{children:(0,a.jsx)(eR.$z,{onClick:e.onClickPrimaryCta,variant:"primary",children:(0,c.tx)("rcs.welcome_step_view.next")})})]})}function eD(e){let t=(0,M.d4)(e=>e.user?.name),n=t?(0,c.t)("rcs.welcome_step.welcome_user_name",{userFirstName:t}):(0,c.t)("rcs.welcome_step.welcome");return(0,a.jsx)($.h,{currentStepIndex:e.currentStepIndex,disableFooter:!0,element:eL,isShowing:e.isShowing,modalType:Z.q3.DRAGGABLE,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,testId:"WelcomeOnboardingOverlay",title:()=>n,totalNumSteps:e.totalNumSteps,trackingContextName:"Welcome Onboarding Modal",userFlagOnShow:"welcome_onboarded"})}let eF=(0,x.r1)("file_browser_onboarded"),eB=["seen_sidebar_workspace_onboarding","seen_search_workspace_onboarding","seen_libraries_workspace_onboarding"],eU=e=>["file_browser_onboarded","community_hub_onboarded","variants_onboarded","account_switcher_onboarded",...e?eB:[]],ez=()=>{let e=(0,L.DN)();try{return!!e.get(B.zl)}catch(e){}return!1};function eW(){let e=(0,M.wA)(),t=(0,i.md)(x.qG),n=(0,i.md)(eF),r=(0,D.ZC)(n),s=(0,i.md)(k.d2),l=(0,M.d4)(e=>e.currentUserOrgId),d=(0,G.UC)(l),c=(0,i.md)(d),_=(0,i.md)(k.Ot),m=(0,g.e)({overlay:y.Ob5,priority:h.N.OVERRIDING_MODAL},[t,s,c,_]),[u,p]=(0,P.useState)([]),[b,T]=(0,P.useState)([]),w=(0,P.useCallback)(e=>{m.show({canShow:(t,n,a,r)=>{let i=(function({userFlags:e,userSpace:t,isReset:n,isOrgUserExternallyRestricted:a}){let r=t===K.qo.ORG,i=(0,q.of)(e),s=(0,o.k)().limited_plan_spaces&&(0,F.Ay)().is_limited_team_plan,l=(0,q.mW)(e,"not_gen_0"),d=(0,q.mW)(e,"welcome_onboarded"),c=(0,q.mW)(e,"file_browser_onboarded"),_=[eN,eT,(0,H._q)(e)||a?null:eA],m=[...a?[]:[el,e_],eM,(0,U.IL)()?ef:eh,ea,ew],u=[en,...m];return s?[]:n||l||r?!n&&(r||l)&&c?[]:r?_:i?u:l?ez()||d?[en,...m]:[eD,...m]:u:c?[]:u})({userFlags:t,userSpace:n,isReset:e,isOrgUserExternallyRestricted:r}).filter(e=>!!e);return!!i.length&&(p(i),T(eU(n===K.qo.ORG&&a)),!0)}})},[m]);(0,E.h)(()=>{w(!1)}),(0,f.E)(m.uniqueId,"Reset Onboarding",()=>w(!0)),P.useEffect(()=>{m.isShowing&&r?.status==="loaded"&&r?.data===!1&&n?.status==="loaded"&&n?.data===!0&&m.complete()},[m,n,r]);let v=P.useCallback(()=>{let t={};for(let e of b)t[e]=!0;e(z.b(t)),m.complete()},[e,m,b]);return m.isShowing&&0!==u.length?(0,a.jsx)(eG,{steps:u,onComplete:v}):null}function eG(e){let{steps:t,onComplete:n}=e,r=(0,W.A)({numSteps:t.length,onComplete:n});return(0,a.jsx)(V.U,{currentStep:r.currentStep,isShowing:!0,children:P.useMemo(()=>t.map((e,a)=>P.createElement(e,{onClickPrimaryCta:r.next,onClose:R.lQ,onManualDismiss:n,isShowing:!0,currentStepIndex:a,totalNumSteps:t.length})),[t,r,n])})}var eq=n(765516),eH=n(236631),eK=n(190737),eV=n(724320),e$=n(462952);function eY(){let e=(0,M.d4)(e=>e.currentUserOrgId),t=(0,i.md)(eV.Z),n=(0,e$.RG)(),r=(0,c.tx)("rcs.org_welcome.click_on_the_organization_button_on_the_left_to_find_teams_to_join");return(0,eK.D6)(e)?r=n?(0,c.tx)("rcs.bigma_org_welcome.click_the_all_workspaces_button_on_the_left_to_find_teams_to_join"):(0,c.tx)("rcs.org_welcome.click_the_all_teams_button_on_the_left_to_find_teams_to_join"):t&&(r=(0,c.tx)("rcs.org_welcome.click_the_current_org_name_span_button_on_the_left_to_find_teams_to_join",{orgName:(0,a.jsx)("span",{className:eH.s.fontBold.$,children:t.name})})),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:eH.s.pb8.$,children:(0,c.tx)("rcs.org_welcome.figma_organization_connects_files_projects_libraries_and_teams_securely_across_your_company")}),r]})}let eZ="orgs_onboarded",eQ=(0,x.r1)(eZ);function eX(){let e=(0,i.md)(k.d2),t=(0,i.md)(eQ),n=(0,g.e)({overlay:y.X5_,priority:h.N.OVERRIDING_MODAL},[e,t]);return(0,E.h)(()=>{n.show({canShow:(e,t)=>e===K.qo.ORG&&!t})}),(0,a.jsx)(J.X,{description:(0,a.jsx)(eY,{}),isShowing:n.isShowing,media:(0,a.jsx)(eq.y,{src:(0,F.ck)("87621fc5a99a1d24beb515288cf764febb8f01e9.png"),alt:"A screenshot of the teams list with cursor hovering over the 'Request to Join' link",aspectRatio:1.75}),onClose:n.complete,position:ee.Q.CENTER,primaryCta:{label:(0,c.tx)("rcs.rcs_shared.done"),type:"button",onClick:n.complete,ctaTrackingDescriptor:X.c.DONE},title:(0,c.tx)("rcs.org_welcome.welcome_to_your_figma_organization"),trackingContextName:"Orgs Welcome Onboarding Modal",userFlagOnShow:eZ,width:350})}var eJ=n(999083),e0=n(638004),e1=n(550209),e4=n(381643),e2=n(923256),e3=n(288747),e9=n(59849),e5=n(904017),e6=n(134235),e7=n(883765),e8=n(903853),te=n(769109),tt=n(72138),tn=n(143039),ta=n(826160),tr=n(354174);let ti="workspace_selector";function to({workspaces:e,onModalClose:t}){let[n,r]=P.useState(null),i=(0,M.wA)(),o=(0,M.d4)(({selectedView:e})=>e),s=(0,e3.sZ)();if(!s)throw Error("org is not defined");("fullscreen"===o.view||"prototype"===o.view)&&t();let l=(0,a.jsxs)("div",{className:eH.s.flexShrink0.flex.flexColumn.itemsCenter.gap8.$,children:[(0,a.jsx)("img",{className:eH.s.w100.h100.$,src:(0,F.ck)("b907892c6132bbea2173d8e95c096187288f54f9"),alt:"",width:100,height:100}),(0,a.jsx)("span",{className:eH.s.textHeadingLarge.colorText.$,children:(0,c.tx)("onboarding.workspace_step.title")}),(0,a.jsx)("span",{className:eH.s.textBodyLarge.colorText.$,children:(0,a.jsx)("div",{className:"workspace_selector--descriptionContainer---ZBF1",children:(0,c.tx)("onboarding.workspace_step.subtitle_v2",{orgName:s.name,tipText:(0,a.jsx)("span",{className:eH.s.textBodyLargeStrong.$,children:(0,c.tx)("onboarding.workspace_step.tip")})})})})]}),d=(0,a.jsx)(tt.P,{className:eH.s.flexShrink1.minH200.mt24.$,innerClassName:eH.s.flex.flexColumn.gap12.p16.pt2.$,children:e.map(e=>(0,a.jsx)(ts,{workspace:e,onClick:()=>r(e),isSelected:n?.id===e.id},e.id))}),_=(0,a.jsx)("div",{className:eH.s.flex.justifyEnd.p16.colorBorder.bSolid.bt1.$,children:(0,a.jsxs)("div",{className:eH.s.flex.gap10.$,children:[(0,a.jsx)(e8.tM,{onClick:t,trackingProperties:{trackingDescriptor:X.c.SKIP},children:(0,c.tx)("onboarding.skip")}),(0,a.jsx)(e8.vd,{onClick:()=>{n&&(i(tn.x({workspace:n})),t())},disabled:null===n,trackingProperties:{trackingDescriptor:X.c.JOIN},children:(0,c.tx)("onboarding.workspace_step.join")})]})});return(0,a.jsx)(p.fu,{name:ti,children:(0,a.jsxs)(tr.ey,{className:eH.s.relative.$,size:680,height:576,padding:0,tintedModalBackground:!0,hide:e=>{(0,e7.sx)("Modal Close",{source:e,trackingContext:ti}),t()},disableClickOutsideToHide:!0,children:[(0,a.jsxs)("div",{className:eH.s.flex.flexColumn.hFull.$,children:[(0,a.jsxs)(tt.P,{className:eH.s.flexGrow1.$,innerClassName:eH.s.borderBox.hFull.flex.flexColumn.itemsCenter.alignCenter.px32.pt32.$,children:[l,d]}),_]}),(0,a.jsx)(te.Jn,{className:eH.s.absolute.top0.right0.mt8.mr8.$,onClick:t,trackingProperties:{trackingDescriptor:X.c.CLOSE_BUTTON}})]})})}function ts({workspace:e,isSelected:t,onClick:n}){return(0,a.jsxs)("button",{className:l()("workspace_selector--workspaceOptionButton--hqNFy",{"workspace_selector--workspaceOptionButtonSelected--9bqpX":t}),onClick:n,type:"button",children:[(0,a.jsx)(ta.z6,{entity:e,size:32}),(0,a.jsx)("span",{className:eH.s.flexGrow1.truncate.textBodyLarge.colorText.ml16.$,children:e.name}),(0,a.jsx)("div",{className:l()("workspace_selector--radioButton--So7uS",{"workspace_selector--radioButtonSelected--6Dl1H":t})})]})}let tl="workspace_selector_seen",td=(0,e2.g)(tl),tc=(0,i.Iz)(e=>(0,e4.Z1)(e9.saW.Query({orgId:e}),e=>{if(!e.org?.workspaces)return null;let t=e.org.workspaces.filter(e=>e.canView);return(0,eJ.KQ)(t,"name"),t}));function t_(){let e=(0,e3.dq)(),t=(0,e5.D6)("OrgSelectWorkspaceOverlay"),n="loaded"===t.status?t?.data?.key.parentId??void 0:void 0,r=(0,P.useRef)();r.current=n;let o=(0,i.md)(k.d2),s=(0,i.md)(G.uA),l=(0,eC.Au)(e),d=(0,i.md)(tc(e)),c=(0,i.md)(td),{show:_,complete:m,isShowing:u}=(0,g.e)({overlay:y.USq,priority:h.N.HIGH_PRIORITY_MODAL},[o,s,l,d,c,t]);return((0,E.h)(()=>{_({canShow:(e,t,n,a,r,i)=>e===K.qo.ORG&&!!t&&!n&&!!a&&0!==a.length&&!r&&!!i,onShow:()=>{e6.G.postOrgUserFlags({orgUserId:r.current,flags:{[tl]:!0}})}})}),u&&"loaded"===d.status)?d.data?(0,a.jsx)(b.M,{isShowing:!0,testId:"org-select-workspace-overlay",children:(0,a.jsx)(to,{onModalClose:m,workspaces:d.data})}):((0,e1.$D)(e0.e.SCALE,Error("workspaceSelectorOptionsAtomQuery.data not present after OrgSelectWorkspace overlay is showing")),m(),null):null}var tm=n(892329),tu=n(806650),tp=n(372071),tf=n(835211),tg=n(373547),tx=n(229528),th=n(491228),tb=n(153515),ty=n(654200),tT=n(219199),tw=n(171660);let tv=(e,t)=>e?(0,a.jsx)(tw.E,{fontSize:20,fontWeight:"medium",children:(0,c.tx)("rcs.plan_spaces.drafts_have_a_new_home")}):t?(0,a.jsx)(tw.E,{fontSize:20,fontWeight:"medium",children:(0,c.tx)("rcs.plan_spaces.a_simpler_switcher_menu")}):(0,a.jsx)(tw.E,{fontSize:20,fontWeight:"medium",children:(0,c.tx)("rcs.plan_spaces.changes_to_your_drafts")}),tj=(e,t)=>e?(0,a.jsx)(tw.E,{fontSize:14,children:(0,c.tx)("rcs.plan_spaces.drafts_lived_in_separate_area")}):t?(0,a.jsx)(tw.E,{fontSize:14,children:(0,c.tx)("rcs.plan_spaces.a_simpler_switcher_menu.description")}):(0,a.jsx)(tw.E,{fontSize:14,children:(0,c.tx)("rcs.plan_spaces.starter_pro.onboarding_modal_description")}),tE=(e,t)=>e?(0,a.jsx)(tw.E,{fontSize:14,children:(0,c.tx)("rcs.plan_spaces.nothing_else_has_changed")}):t?(0,a.jsx)(tw.E,{fontSize:14,color:"secondary",children:(0,c.tx)("rcs.plan_spaces.user_help_migrating_drafts_awareness")}):(0,a.jsx)(tw.E,{fontSize:14,children:(0,c.tx)("rcs.plan_spaces.starter_pro.onboarding_modal_body")}),tk=(e,t)=>(0,a.jsx)(tw.E,{fontSize:13,children:(0,c.tx)(t||e?"rcs.plan_spaces.got_it":"rcs.plan_spaces.show_me_what_changed")}),tA=P.memo(({hasOrgPlan:e,assetSrc:t,onClickPrimaryCTA:n,hasOnlyOneStarterPlan:r})=>(0,a.jsx)(tC,{onClickPrimaryCTA:n,titleText:tv(r,e),descriptionText:tj(r,e),secondaryDescriptionText:tE(r,e),primaryButtonText:tk(r,e),assetSrc:t,hasOnlyOneStarterPlan:r})),tC=P.memo(({titleText:e,descriptionText:t,onClickPrimaryCTA:n,secondaryDescriptionText:r,primaryButtonText:i,assetSrc:o,hasOnlyOneStarterPlan:s})=>{let l=P.useCallback(()=>{tT.Ay.unsafeRedirect("https://www.figma.com/blog/updates-to-how-drafts-work/","_blank")},[]);return(0,a.jsxs)("div",{className:"plan_spaces_launch_modal_components--container--rGlQs",children:[(0,a.jsxs)("div",{className:"plan_spaces_launch_modal_components--textContainer--PGuuG",children:[(0,a.jsx)("p",{className:"plan_spaces_launch_modal_components--titleProperties--rAj1j",children:e}),(0,a.jsx)("div",{className:eH.s.pb16.$,children:t}),(0,a.jsx)("div",{children:r}),(0,a.jsxs)("div",{className:"plan_spaces_launch_modal_components--ctaRow--3DVA8",children:[(0,a.jsx)(d.nD,{onClick:n,children:i}),(0,a.jsx)(d.$9,{onClick:l,children:(0,a.jsx)(tw.E,{fontSize:13,children:(0,c.tx)("rcs.plan_spaces.learn_more")})})]})]}),s?(0,a.jsx)("img",{src:o,alt:"An illustration of the Figma sidebar",width:364}):(0,a.jsx)(eb.GV,{width:364,src:o})]})}),tI=new Date("2024-05-15T20:00:00.000Z").getTime();function tN(){return(0,a.jsx)(tS,{})}function tS(){let e=(0,M.d4)(e=>e.plans),t=(0,M.d4)(e=>e.teams),n=(0,M.d4)(e=>e.userFlags.personal_draft_migration_scheduled),r=e.filter(e=>e.plan_type===th.O.TEAM).map(e=>t[e.plan_id]).filter(e=>!!e),s=(0,M.wA)(),l=(0,tg.DP)(),d=(0,i.md)(k.mp),_=e.some(e=>e.plan_type===th.O.ORG),m=1===r.length&&r[0].starter_team&&!_,u=function(e,t,n){let a={darkMode:{org:(0,F.ck)("35339bd6f100fd7c2dca24546e4ded3f7397d137"),teams:(0,F.ck)("055e7f20c52382bdb565fbe89f04d9673952663a"),starter:(0,F.ck)("6327332cd808163a39e7093c9c388f6e16927cc4")},lightMode:{org:(0,F.ck)("d26daa4a5677426d2b01aa43677bf4c65f50b0bd"),teams:(0,F.ck)("1c1ca856971dff41eff57240862cf81437cb4dce"),starter:(0,F.ck)("b425061637a5821d58f2ce45dee702f544ea52d6")}},r=e?"darkMode":"lightMode";return n?a[r].starter:t?a[r].org:a[r].teams}("dark"===l,_,m),p=(0,tu.j0)(),f=(0,tx.d)(),x=!!(0,o.k)().ps_personal_draft_migration&&!n&&m,b=!x&&p>0,{currentStep:T,next:w}=(0,W.A)({numSteps:2,onComplete:R.lQ}),v=[{title:(0,c.tx)("rcs.plan_spaces_onboarding_sequence.drafts_in_a_team"),description:(0,c.tx)("rcs.plan_spaces_onboarding_sequence.private_drafts_folder"),trackingContextName:"Plan spaces onboarding - Team drafts folder",targetKey:ed.uZ,emphasized:!0,pointToLeftEdge:!0,disableHighlight:!0},{title:(0,c.tx)("rcs.plan_spaces_onboarding_sequence.new_space_for_teams"),description:(0,c.tx)("rcs.plan_spaces_onboarding_sequence.switch_between_teams"),trackingContextName:"Plan spaces onboarding - A new way to access teams",targetKey:tp.U,emphasized:!0,shouldCenterArrow:ty.EL.BEST_EFFORT,disableHighlight:!0}];b&&v.push({title:(0,c.tx)("rcs.plan_spaces_onboarding_sequence.lets_move_these_files"),description:(0,c.tx)("rcs.plan_spaces_onboarding_sequence.finding_the_right_home"),trackingContextName:"Plan spaces onboarding - Drafts to move",targetKey:tm.P,emphasized:!0,disableHighlight:!0,pointToLeftEdge:!0});let{show:j,isShowing:E,complete:A}=(0,g.e)({overlay:y.sqw,priority:h.N.DEFAULT_MODAL+1},[d]);(0,P.useEffect)(()=>{f||j({canShow:e=>!!e&&(e.getTime()<=tI||p>0)})},[f,p,j]);let C=!!e&&e.length>0;(0,P.useEffect)(()=>{x&&C&&s(tf.FY())},[s,x,C]);let I=(0,P.useCallback)(e=>(0,a.jsx)(tA,{hasOrgPlan:_,hasOnlyOneStarterPlan:m,assetSrc:u,onClickPrimaryCTA:e.onClickPrimaryCta}),[_,u,m]);return e.length?(0,a.jsxs)(V.U,{currentStep:T,isShowing:E,children:[(0,a.jsx)($.h,{closeButtonStyle:Z.M_.ON_LIGHT,disableClickOutsideToHide:!0,element:I,isShowing:E,modalType:Z.q3.FEATURE_UPDATE,onClickPrimaryCta:_?A:w,onClose:R.lQ,onManualDismiss:A,trackingContextName:"plan_spaces_launch_modal",userFlagOnShow:"seen_limited_spaces_onboarding"}),(0,a.jsx)(tb.WZ,{steps:v,isShowing:E,onComplete:A})]}):null}var tO=n(61102);let tP="saw_recreated_starter_team_onboarding",tM=(0,x.r1)(tP),tR=(0,x.r1)("had_recreated_starter_team");function tL(){let e=(0,i.md)(tM),t=(0,tx.d)(),n=(0,i.md)(tR),{show:r,isShowing:o,complete:s}=(0,g.e)({overlay:y.yjU,priority:h.N.DEFAULT_MODAL},[e,n]);return(0,E.h)(()=>{t||r({canShow:(e,t)=>!e&&t})}),(0,a.jsx)(tO.rq,{arrowPosition:ty.F_.LEFT_TITLE,description:(0,a.jsx)("p",{children:(0,c.tx)("rcs.plan_spaces_new_starter_team.text")}),emphasized:!0,isShowing:o,onClose:s,targetKey:tp.U,testId:"PlanSpacesRecreatedStarterTeamOverlay",title:(0,c.tx)("rcs.plan_spaces_new_starter_team.title"),trackingContextName:"plan_spaces_recreated_starter_team_modal",userFlagOnShow:tP})}var tD=n(105228),tF=n(657878),tB=n(174730),tU=n(268305),tz=n(911990),tW=n(580910);function tG({title:e,leftComponent:t,isExpanded:n,onClick:r,children:i}){let[o,s]=(0,P.useState)(n??!1);return(0,P.useEffect)(()=>{void 0!==n&&s(n)},[n]),(0,a.jsxs)(tz.Y,{verticalAlignItems:"start",width:"100%",height:"hug-contents",children:[t,(0,a.jsxs)(tz.Y,{direction:"vertical",children:[(0,a.jsx)("div",{tabIndex:0,className:eH.s.wFull.$,role:"button",onClick:()=>{r&&r(o),s(e=>!e)},children:(0,a.jsxs)(tz.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"center",children:[(0,a.jsx)("div",{className:eH.s.font14.fontMedium.$,children:e}),(0,a.jsx)(tW.In,{icon:o?"chevron-up-32":"chevron-down-32"})]})}),o&&(0,a.jsx)("div",{className:eH.s.font13.$,children:i})]})]})}var tq=n(652539);function tH({hideModal:e,trackingName:t,trackingProperties:n,children:r}){return(0,a.jsx)(p.fu,{name:t,properties:{...n,...tU.ng.getTrackingProperties()},children:(0,a.jsx)(tr.ey,{hide:e,size:"any",className:"pro_trial_form_modal--modalContainer--mKui2",children:r})})}var tK=n(831814);function tV(e){let{stepProps:t,titleText:n,descriptionText:r,middleContent:i,ctaOnClick:o,ctaDisabled:s,ctaText:l,textCtaOnClick:_,textCtaText:m,hideModal:u}=e;return(0,a.jsxs)("div",{className:"pro_trial_form_modal--container--Wv6Lg",children:[(0,a.jsxs)("div",{className:"pro_trial_form_modal--header--yEBLV",children:[(0,a.jsx)(tq.B,{svg:tK.A,className:"pro_trial_form_modal--icon--CKqnw",useOriginalSrcFills_DEPRECATED:!0}),(0,a.jsx)(te.Jn,{innerText:"Close",onClick:u})]}),(0,a.jsxs)("div",{className:"pro_trial_form_modal--content--cB6wt text--fontPos13--xW8hS text--_fontBase--QdLsd",children:[(0,a.jsxs)("div",{className:"pro_trial_form_modal--titleTextContainer--Whf8N",children:[t&&(0,a.jsx)(tw.E,{color:"secondary",fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.step_counter",{currentStep:t.currentStep+1,totalSteps:t.totalSteps})}),n,r]}),i,(0,a.jsxs)("div",{className:"pro_trial_form_modal--footer--xDAGh",children:[(0,a.jsx)(d.nD,{onClick:o,className:"pro_trial_form_modal--footerCTA--bb-GE",disabled:s,trackingProperties:tU.ng.getTrackingProperties("continue"),children:l}),(0,a.jsx)(d.eM,{trackingProperties:tU.ng.getTrackingProperties("go back"),onClick:_,children:m})]})]})]})}var t$=n(366535),tY=n(901556),tZ=n(853039),tQ=n(295746),tX=n(959834),tJ=n(219958),t0=n(638742);function t1(){let[e,t]=(0,P.useState)(),n=(0,P.useMemo)(()=>[{title:(0,a.jsx)(tw.E,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.consumption_limit.title",{maxNumOfFiles:tZ.WW,maxNumOfProjects:tZ.Wf})}),children:(0,a.jsx)(tw.E,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.consumption_limit.description")}),leftComponent:(0,a.jsx)(tz.Y,{width:"hug-contents",height:"hug-contents",padding:{top:8},children:(0,a.jsx)(tq.B,{svg:tJ.A,className:eH.s.colorIconDanger.$})})},{title:(0,a.jsx)(tw.E,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.team_library.title")}),children:(0,a.jsx)(tw.E,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.team_library.description")}),leftComponent:(0,a.jsx)(tz.Y,{width:"hug-contents",height:"hug-contents",padding:{top:8},children:(0,a.jsx)(tq.B,{svg:t0.A,className:eH.s.colorIconDanger.$})})},{title:(0,a.jsx)(tw.E,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.other.title")}),children:(0,a.jsx)(tw.E,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.feature_downgrade.other.description")}),leftComponent:(0,a.jsx)(tz.Y,{width:"hug-contents",height:"hug-contents",padding:{top:8},children:(0,a.jsx)(tq.B,{svg:t0.A,className:eH.s.colorIconDanger.$})})}],[]);return(0,a.jsx)(tz.Y,{width:"100%",direction:"vertical",spacing:24,padding:{top:32},children:n.map(({title:n,children:r,leftComponent:i},o)=>(0,a.jsx)(tz.Y,{height:"hug-contents",strokeColor:"default",strokeWidth:{left:0,top:0,right:0,bottom:1},padding:{bottom:24},children:(0,a.jsx)(tG,{leftComponent:i,title:n,isExpanded:e===o,onClick:e=>{e?t(void 0):t(o)},children:r})},o))})}let t4=(0,tX.Ju)(function({teamId:e}){let t=(0,M.wA)(),n=(0,P.useCallback)(()=>{t(t$.Ce())},[t]),r=(0,P.useCallback)(()=>{n(),t(tY.bE({all_team_flags:[{team_id:e,flags:{[tU.u_]:!1}}]}))},[t,n,e]);return(0,a.jsx)(tH,{trackingName:tQ.Mm,hideModal:n,children:(0,a.jsx)(tV,{titleText:(0,a.jsx)(tw.E,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.downgrade_modal.title")}),descriptionText:(0,a.jsx)(tw.E,{color:"secondary",fontSize:13,children:(0,c.tx)("pro_trials_v3.downgrade_modal.description")}),middleContent:(0,a.jsx)(t1,{}),ctaOnClick:n,ctaDisabled:!1,ctaText:(0,a.jsx)(tw.E,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.cta.text")}),textCtaOnClick:r,textCtaText:(0,a.jsx)(tw.E,{children:(0,c.tx)("pro_trials_v3.downgrade_modal.text_cta.text")}),hideModal:n})})},"ProTrialDowngradeModal");var t2=n(256384),t3=n(147046),t9=n(432135);function t5(e){let{selectedFeatures:t,setSelectedFeatures:n,shuffledFeaturesContent:r,hideModal:i,onClickCTA:o,onBack:s}=e;return(0,a.jsx)(p.fu,{name:tQ.iX[tQ.iX.SELECT_FEATURES],children:(0,a.jsx)(tV,{ctaDisabled:0===t.size,ctaOnClick:o,ctaText:(0,a.jsx)(tw.E,{children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.finish")}),descriptionText:(0,a.jsx)(tw.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.you_have_14_days",{proTrialDuration:tU.$g})}),hideModal:i,middleContent:(0,a.jsx)("div",{className:"pro_trial_form_modal--proTrialFeatureSelectContainer--8j6DA",children:r.map(({featureType:e,featureText:r})=>(0,a.jsx)(t6,{featureIcon:tQ.bo[e],featureText:r,onClick:()=>{t.has(e)?n(new Set([...t].filter(t=>e!==t))):n(new Set([...t,e]))},isSelected:t.has(e)},e))}),stepProps:{currentStep:tQ.iX.SELECT_FEATURES,totalSteps:tQ.h3},textCtaOnClick:s,textCtaText:(0,a.jsx)(tw.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.go_back")}),titleText:(0,a.jsx)(tw.E,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.what_are_you_excited")})})})}function t6(e){let{featureIcon:t,featureText:n,onClick:r,isSelected:i}=e;return(0,a.jsx)(p.jm,{role:"button",className:i?"pro_trial_form_modal--proTrialFeatureContainerSelected--t69-D pro_trial_form_modal--proTrialFeatureContainer--RI3Vx":"pro_trial_form_modal--proTrialFeatureContainer--RI3Vx",onClick:r,children:(0,a.jsxs)(tz.Y,{direction:"horizontal",horizontalAlignItems:"start",verticalAlignItems:"center",spacing:"12px",children:[(0,a.jsx)(tz.Y,{direction:"horizontal",horizontalAlignItems:"center",verticalAlignItems:"center",width:32,height:32,children:t}),n]})})}function t7(e){let{selectedTeamName:t,setSelectedTeamType:n,selectedTeamType:r,shuffledTeamTypeContent:i,hideModal:o,onClickCTA:s,onBack:l}=e;return(0,a.jsx)(p.fu,{name:tQ.iX[tQ.iX.SELECT_TEAM_TYPE],children:(0,a.jsx)(tV,{ctaDisabled:void 0===r,ctaOnClick:s,ctaText:(0,a.jsx)(tw.E,{children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.continue")}),descriptionText:(0,a.jsx)(tw.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.not_being_nosy")}),hideModal:o,middleContent:(0,a.jsx)(tz.Y,{direction:"horizontal",horizontalAlignItems:"center",verticalAlignItems:"center",spacing:"12px",children:i.map(({teamType:e,imageAltText:t,descriptionText:i})=>(0,a.jsx)(t8,{isSelected:e===r,onClick:()=>{e!==r?n(e):n(void 0)},image:(0,a.jsx)("img",{src:tQ.$Q[e],alt:t(),height:110}),text:i},e))}),stepProps:{currentStep:tQ.iX.SELECT_TEAM_TYPE,totalSteps:tQ.h3},textCtaOnClick:l,textCtaText:(0,a.jsx)(tw.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.go_back")}),titleText:(0,a.jsx)(tw.E,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.what_type_of_team",{teamName:t})})})})}function t8(e){let{image:t,text:n,onClick:r,isSelected:i}=e;return(0,a.jsx)(p.jm,{role:"button",className:i?"pro_trial_form_modal--teamTypeCardContainerSelected--kq22n pro_trial_form_modal--teamTypeCardContainer--HEdI4":"pro_trial_form_modal--teamTypeCardContainer--HEdI4",onClick:r,children:(0,a.jsxs)(tz.Y,{direction:"vertical",horizontalAlignItems:"center",verticalAlignItems:"start",spacing:8,padding:{horizontal:12},height:195,children:[t,n]})})}var ne=n(142914),nt=n(22803);function nn(e){let{teams:t,setSelectedTeamID:n,selectedTeamID:r,hideModal:i,onClickCTA:o,onBack:s}=e;return(0,a.jsx)(p.fu,{name:tQ.iX[tQ.iX.SELECT_TEAM],children:(0,a.jsx)(tV,{ctaDisabled:void 0===r,ctaOnClick:o,ctaText:(0,a.jsx)(tw.E,{children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.upgrade_to_pro")}),descriptionText:(0,a.jsx)(tw.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.everyone_will_be_upgraded")}),hideModal:i,middleContent:(0,a.jsx)("div",{className:"pro_trial_form_modal--teamSelectContainer--S4x5O",children:t.map(e=>(0,a.jsx)(na,{team:e,onClick:()=>{e.id!==r?n(e.id):n(void 0)},isSelected:e.id===r},e.id))}),stepProps:{currentStep:tQ.iX.SELECT_TEAM,totalSteps:tQ.h3},textCtaOnClick:s,textCtaText:(0,a.jsx)(tw.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.cancel")}),titleText:(0,a.jsx)(tw.E,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.pick_a_team")})})})}function na(e){let{team:t,onClick:n,isSelected:r}=e;return(0,a.jsxs)(p.jm,{role:"button",className:r?"pro_trial_form_modal--teamContainerSelected--Meavl pro_trial_form_modal--teamContainer--tLBf7":"pro_trial_form_modal--teamContainer--tLBf7",onClick:n,children:[(0,a.jsxs)("div",{className:"pro_trial_form_modal--teamContainerHead--EvWS5",children:[(0,a.jsx)(ne.nl,{team:t,size:nt.P.LARGE}),(0,a.jsx)("div",{className:"pro_trial_form_modal--teamNameContainer--cwtSb",children:(0,a.jsx)(tw.E,{children:t.name,fontSize:14,truncate:"end",fontWeight:"medium"})})]}),(0,a.jsx)(tw.E,{color:"secondary",fontSize:14,fontWeight:"medium",children:(0,c.tx)("pro_trials_v3.pro_trial_initiation_modal.editors.seat_rename",{numEditors:t.editors})})]})}let nr=(0,tX.Ju)(function(){let[e,t]=(0,P.useState)(tQ.iX.SELECT_TEAM),[n,r]=(0,P.useState)(),[i,o]=(0,P.useState)(),[s,l]=(0,P.useState)(new Set),[d,_]=(0,P.useState)(tQ.TB),[m,u]=(0,P.useState)(tQ.PG),p=(0,tD.xX)(),f=(0,M.wA)(),g=(0,P.useCallback)(()=>p.find(e=>e.id===n)?.name??(0,c.t)("pro_trials_v3.pro_trial_initiation_modal.your_team"),[p,n]),x=(0,P.useCallback)(()=>f(t$.Ce()),[f]),h=(0,c.t)("payments.pro_trial.start_pro_trial_error");(0,P.useEffect)(()=>{_((0,eJ.k4)(tQ.TB)),u((0,eJ.k4)(tQ.PG))},[]);let b=(0,P.useCallback)(()=>{void 0===n?t(tQ.iX.SELECT_TEAM):p.find(e=>e.id===n)?f((0,t9.cw)({teamId:n,surveyResult:{teamId:n,teamType:i,features:Array.from(s)}})):(f(t3.sf({view:"recentsAndSharing"})),f(t2.s.error(h))),x()},[p,f,x,n,i,s,h]);return 0===p.length&&x(),(0,a.jsxs)(tH,{trackingName:tQ.NN,trackingProperties:{currentStage:tQ.iX[e],teamId:n,selectedTeamType:i??null,selectedFeatures:s.size>0?Array.from(s).join(" "):null},hideModal:x,children:[e===tQ.iX.SELECT_TEAM&&(0,a.jsx)(nn,{teams:p,setSelectedTeamID:r,selectedTeamID:n,hideModal:x,onClickCTA:()=>t(tQ.iX.SELECT_TEAM_TYPE),onBack:x}),e===tQ.iX.SELECT_TEAM_TYPE&&(0,a.jsx)(t7,{selectedTeamName:g(),setSelectedTeamType:o,selectedTeamType:i,shuffledTeamTypeContent:d,hideModal:x,onClickCTA:()=>t(tQ.iX.SELECT_FEATURES),onBack:()=>{t(tQ.iX.SELECT_TEAM),o(void 0)}}),e===tQ.iX.SELECT_FEATURES&&(0,a.jsx)(t5,{selectedFeatures:s,setSelectedFeatures:l,shuffledFeaturesContent:m,hideModal:x,onClickCTA:b,onBack:()=>{t(tQ.iX.SELECT_TEAM_TYPE),l(new Set)}})]})},"ProTrialInitiationModal");var ni=n(483200),no=n(434960);function ns(e){let{hideModal:t}=e,n=(0,M.wA)(),r=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tw.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.entry_modal_explanation")}),(0,a.jsx)(n_,{})]}),i=(0,a.jsx)(d.nD,{onClick:()=>{t(),n((0,t$.to)({type:nr}))},trackingProperties:tU.ng.getTrackingProperties("Start professional trial"),children:(0,a.jsx)(tw.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.entry_modal_cta_text")})});return(0,a.jsx)(nc,{titleText:(0,a.jsx)(tw.E,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.entry_modal_title")}),descriptionText:r,ctaButton:i,imgSrc:(0,F.ck)("4323e87513cec17f5decef84ebf66c12c0d2ea59")})}function nl(e){let{teamId:t,hideModal:n}=e,r=(0,M.wA)(),i=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tw.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.team_welcome_modal_explanation")}),(0,a.jsx)(n_,{})]}),o=(0,a.jsx)(d.nD,{onClick:()=>{n(),r(t3.sf({view:"team",teamId:t}))},trackingProperties:tU.ng.getTrackingProperties("Team welcome to Professional trial"),children:(0,a.jsx)(tw.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.team_welcome_modal_cta")})});return(0,a.jsx)(nc,{descriptionText:i,titleText:(0,a.jsx)(tw.E,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.team_welcome_modal_title")}),imgSrc:(0,F.ck)("4323e87513cec17f5decef84ebf66c12c0d2ea59"),ctaButton:o})}function nd(e){let{hideModal:t,teamId:n}=e,r=(0,M.wA)(),i={view:"team",teamId:n},o=(0,a.jsx)(d.nD,{onClick:()=>{t(),r(ni.WX({teamId:n,selectedView:i}))},trackingProperties:tU.ng.getTrackingProperties("Upgrade from Pro trial expiry modal"),children:(0,a.jsx)(tw.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.expiry_modal_cta_text")})}),s=(0,a.jsx)(d.$9,{onClick:()=>{r((0,t$.to)({type:t4,data:{teamId:n}}))},trackingProperties:tU.ng.getTrackingProperties("Go back to Starter from Pro trial expiry modal"),children:(0,a.jsx)(tw.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.expiry_modal_secondary_cta_text")})});return(0,a.jsx)(nc,{titleText:(0,a.jsx)(tw.E,{fontSize:24,fontWeight:"bold",children:(0,c.tx)("pro_trials_v3.expiry_modal_title")}),descriptionText:(0,a.jsx)(tw.E,{fontSize:13,children:(0,c.tx)("pro_trials_v3.expiry_modal_explanation")}),ctaButton:o,secondaryCtaButton:s,imgSrc:(0,F.ck)("47a15784276e736195c9794a0c47c4d02c4c3ca4")})}function nc(e){let{titleText:t,descriptionText:n,ctaButton:r,imgSrc:i,secondaryCtaButton:o}=e;return(0,a.jsxs)("div",{className:"pro_trials_v3_modal_components--container--vGyv-",children:[(0,a.jsxs)("div",{className:"pro_trials_v3_modal_components--textContainer--jYLvj",children:[(0,a.jsx)("p",{children:t}),(0,a.jsx)("div",{children:n}),(0,a.jsxs)("div",{className:"pro_trials_v3_modal_components--ctaRow--ENAnk",children:[r,o]})]}),(0,a.jsx)(eb.Gv,{width:313,src:i})]})}function n_(){return(0,a.jsxs)("div",{className:"pro_trials_v3_modal_components--proFeatureCheckBullets--B5Jb5",children:[(0,a.jsx)(no.X,{bulletLabel:(0,c.t)("pro_trials_v3.entry_modal_bullet_pt_1")}),(0,a.jsx)(no.X,{bulletLabel:(0,c.t)("pro_trials_v3.entry_modal_bullet_pt_2")}),(0,a.jsx)(no.X,{bulletLabel:(0,c.t)("pro_trials_v3.entry_modal_bullet_pt_3")})]})}function nm(){let e=(0,g.e)({overlay:y.MwQ,priority:h.N.DEFAULT_MODAL}),t=(0,M.wA)();return(0,E.h)(()=>{e.show()}),(0,a.jsx)($.h,{closeButtonStyle:Z.M_.ON_DARK,disableClickOutsideToHide:!0,element:()=>(0,a.jsx)(ns,{hideModal:e.complete}),height:404,isShowing:e.isShowing,modalType:Z.q3.FEATURE_UPDATE,onClickPrimaryCta:e.complete,onClose:()=>{t(z.b({[tU.Jy]:!0})),e.complete()},onManualDismiss:e.complete,trackingContextName:"pro_trials_entry_modal",trackingProperties:tU.ng.getTrackingProperties(),width:700})}function nu(e){let t=(0,g.e)({overlay:y.NdL,priority:h.N.DEFAULT_MODAL}),{proTrial:n}=e,r=n.teamId,i=(0,M.wA)();(0,E.h)(()=>{t.show()});let o=P.useCallback(()=>i(tY.bE({all_team_flags:[{team_id:r,flags:{[tU.u_]:!0}}]})),[i,r]);return(0,a.jsx)($.h,{closeButtonStyle:Z.M_.ON_LIGHT,disableClickOutsideToHide:!0,element:()=>(0,a.jsx)(nd,{teamId:r,hideModal:t.complete}),height:404,isShowing:t.isShowing,modalType:Z.q3.FEATURE_UPDATE,onClickPrimaryCta:t.complete,onClose:()=>{o(),t.complete()},onManualDismiss:t.complete,trackingContextName:"pro_trials_expiry_modal",trackingProperties:tU.ng.getTrackingProperties(),width:700})}function np(e){let t=(0,g.e)({overlay:y.bGx,priority:h.N.DEFAULT_MODAL}),{proTrial:n}=e,r=n.teamId,i=(0,M.wA)();(0,E.h)(()=>{t.show()});let o=P.useCallback(()=>i(tY.bE({all_team_flags:[{team_id:r,flags:{[tU.v$]:!0}}]})),[i,r]);return(0,a.jsx)($.h,{closeButtonStyle:Z.M_.ON_DARK,disableClickOutsideToHide:!0,element:()=>(0,a.jsx)(nl,{teamId:r,hideModal:t.complete}),height:404,isShowing:t.isShowing,modalType:Z.q3.FEATURE_UPDATE,onClickPrimaryCta:t.complete,onClose:()=>{o(),t.complete()},onManualDismiss:t.complete,trackingContextName:"pro_trials_v3_team_welcome_modal",trackingProperties:tU.ng.getTrackingProperties(),width:700})}function nf(){let e=(0,tF._6)(),t=(0,M.d4)(e=>e.userTeamFlags),n=(0,M.d4)(e=>!!e.modalShown),r=(0,tB.f)(tU.Jy),i=(0,tD.xX)(),{ongoingTrials:o,expiredTrials:s}=(0,tD.j9)(),l=tU.ng.entryEnabled()&&i.length>0&&!r,d=o.find(e=>{let n=t[e.teamId]?.[tU.v$];return!e.isOwner&&!n&&e.daysLeft>0}),c=s.find(e=>{if(!tU.ng.canSeeProTrialExpiryUx(e))return!1;let n=t[e.teamId]?.[tU.u_];return e.isOwner&&!n}),_=P.useCallback(()=>l?(0,a.jsx)(nm,{}):c?(0,a.jsx)(nu,{proTrial:c}):d?(0,a.jsx)(np,{proTrial:d}):null,[l,c,d]);return!tU.ng.isEligibleTrialEntryView(e)||n?null:(0,a.jsx)("div",{"data-testid":"proTrialsV3FileBrowserOverlayWrapper",children:_()})}var ng=n(67893),nx=n(572761),nh=n(140948);let nb=(0,i.eU)(()=>{let e=(0,ng.UG)();try{return e.get(nx.Bq)}catch(e){console.error("Failed to get show modal cookie",e)}return!1}),ny=(0,nh.bt)(e=>null!=e.payment.promo),nT=(0,e4.Z1)(k.Vm,e=>(e??[]).some(e=>null!=e&&!(0,tZ.w5)({subscription:e.subscription,student_team:!!e.studentTeamAt,grace_period_end:e.gracePeriodEnd?e.gracePeriodEnd.toISOString():null})&&!e.orgId&&e.canEdit));var nw=n(36600);function nv({dismissModal:e}){let t=(0,M.d4)(({payment:e})=>e.promo);return((0,E.h)(()=>{(0,nx.lc)()}),(0,P.useEffect)(()=>{null==t&&e()},[e,t]),null==t)?null:(0,a.jsxs)(m.NJ,{targetKey:tp.U,dismissModal:e,width:301,shouldScrollTargetIntoView:!0,children:[(0,a.jsx)("div",{className:nw.Hj,children:(0,c.tx)("rcs.promo_new_team_create_pointer.first_create_a_team")}),(0,c.tx)("rcs.promo_new_team_create_pointer.to_get_professional_free_for_days_you_ll_need_to_set_up_a_new_team_first_it_ll_take_less_than_a_minute",{days:parseInt(t.promo_value)})]})}function nj(){let e=(0,i.md)(nT),t=(0,i.md)(nb),n=(0,i.md)(ny),r=(0,g.e)({overlay:y.Qlc,priority:h.N.OVERRIDING_MODAL},[e]),o=(0,P.useCallback)(()=>{t&&n&&r.show({canShow:e=>!e})},[t,n,r]);return(0,E.h)(()=>{o()}),(0,a.jsx)($.h,{element:nv,isShowing:r.isShowing,modalType:Z.q3.SELF_CONTAINED,onClickPrimaryCta:r.complete,onClose:r.complete,onManualDismiss:r.complete,trackingContextName:"Redeem Promo Code > Create Team"})}var nE=n(449572),nk=n(555590),nA=n(937505),nC=n(562311);function nI(e){let t=(0,M.wA)(),n=e.promo,r="",i=parseInt(n.promo_value);if(n.claims_end_at){let e=new Date(Date.parse(n.claims_end_at));r=n.is_multi_redeemable?(0,c.t)("promo.select_team.multi_redeem_w_deadline_promo_str.seat_rename",{days:i,date:e}):(0,c.t)("promo.select_team.single_redeem_w_deadline_promo_str.seat_rename",{days:i,date:e})}else r=n.is_multi_redeemable?(0,c.t)("promo.select_team.multi_redeem_without_deadline_promo_str.seat_rename",{days:i}):(0,c.t)("promo.select_team.single_redeem_without_deadline_promo_str.seat_rename",{days:i});return(0,a.jsxs)(tr.ey,{hide:e.dismissModal,size:437,className:"promo_code_select_team_content--modal--20aUA",children:[(0,a.jsx)("div",{className:"promo_code_select_team_content--promoSelectTeamTitle--f1dSV text--fontPos13--xW8hS text--_fontBase--QdLsd",children:(0,c.tx)("promo.select_team.choose_teams_to_upgrade")}),(0,a.jsx)("div",{className:"promo_code_select_team_content--promoSelectTeamDescription--pHb18 text--fontPos11--2LvXf text--_fontBase--QdLsd",children:r}),(0,a.jsx)(te.Jn,{className:"promo_code_select_team_content--closeButton--iQ6-4",onClick:e.dismissModal,innerText:"close"}),(0,a.jsx)(d.Kz,{multiple:2}),(0,a.jsx)(nk.I,{eligibleTeams:e.starterTeams,selectTeam:n=>{t(t9.g_({teamId:n.id,teamName:n.name,previousView:e.previousView}))},numDesignFilesPerTeam:e.filesPerStarterTeam})]})}function nN({dismissModal:e}){let t=(0,M.d4)(({payment:e})=>e.promo),n=(0,M.d4)(({selectedView:e})=>e),r=(0,M.d4)(e=>e.teams),i=(0,nA.FC)(),o=P.useMemo(()=>Object.values(r).filter(e=>!(0,tZ.w5)(e)&&(0,nC.canEditTeam)(e.id,i)),[r,i]),s=[],l=P.useMemo(()=>o.map(e=>({teamId:e.id})),[o]);return((0,nE.p)(e9.bel,l).forEach(e=>{s.push(e.result.data?.team?.teamFileCounts?.designFileCount??0)}),(0,E.h)(()=>{(0,nx.lc)()}),(0,P.useEffect)(()=>{(null==t||0===o.length)&&e()},[e,t,o]),null==t||0===o.length)?null:(0,a.jsx)(nI,{starterTeams:o,promo:t,filesPerStarterTeam:s,dismissModal:e,previousView:n})}function nS(){let e=(0,i.md)(nT),t=(0,i.md)(nb),n=(0,i.md)(ny),r=(0,g.e)({overlay:y.I$z,priority:h.N.OVERRIDING_MODAL},[e]),o=(0,P.useCallback)(()=>{t&&n&&r.show({canShow:e=>e})},[t,n,r]);return(0,E.h)(()=>{o()}),(0,a.jsx)($.h,{element:nN,isShowing:r.isShowing,modalType:Z.q3.WELCOME,onClickPrimaryCta:r.complete,onClose:r.complete,onManualDismiss:r.complete,trackingContextName:"Redeem Promo Code > Select Team"})}var nO=n(796012),nP=n(208434),nM=n(62351);function nR(){let e=(0,i.md)((0,x.r1)(eu.a4)),t=(0,i.md)(k.Fy),n=(0,U.IL)(),r=(0,nP.kU)(),o=(0,nP.Fz)(),s=r&&!o,{show:l,isShowing:d,complete:_}=(0,g.e)({overlay:y.utg,priority:h.N.DEFAULT_MODAL},[e,t]);(0,E.h)(()=>{l({canShow:(e,t)=>n&&(r||o)&&!e&&t})});let m={arrowPosition:ty.F_.LEFT_TITLE,description:(0,c.tx)("community.resource_hub.get_inspired_by_community"),emphasized:!0,primaryCta:s?{ctaTrackingDescriptor:X.c.GOT_IT,label:(0,c.tx)("community.resource_hub.got_it"),onClick:_,type:"button"}:void 0,targetKey:em.Pm,title:(0,c.tx)("community.resource_hub.reconnect_with_community"),trackingContextName:nM.HH.COMMUNITY_IA_CHANGE_OVERLAY,whenTargetLost:"complete"},u={arrowPosition:ty.F_.LEFT_TITLE,description:(0,c.tx)("community.resource_hub.see_your_teammates_resources"),emphasized:!0,primaryCtaLabel:(0,c.tx)("community.resource_hub.got_it"),targetKey:em.d6,title:(0,c.tx)("community.resource_hub.created_by_your_teammates"),trackingContextName:nM.HH.INTERNAL_IA_CHANGE_OVERLAY,whenTargetLost:"complete"};return s?(0,a.jsx)(tO.rq,{arrowPosition:ty.F_.LEFT_TITLE,isShowing:d,...m,onClose:_,userFlagOnShow:eu.a4}):(0,a.jsx)(tb.WZ,{isShowing:d,onComplete:_,steps:[m,u],userFlagOnShow:eu.a4})}var nL=n(250596),nD=n(138611);let nF=(0,x.r1)(eu.J5);function nB(){let e=(0,i.md)(nF),t=(0,i.md)(k.Fy),n=(0,nP.Fz)(),r=(0,U.IL)(),{show:o,isShowing:s,complete:l}=(0,g.e)({overlay:y.Kgs,priority:h.N.DEFAULT_MODAL},[e,t]);(0,E.h)(()=>{o({canShow:(e,t)=>!r&&!e&&t&&Date.now()<=new Date("2025-06-23T16:00:00Z").getTime()+2592e6&&n})});let d=(0,nL.Om)(),_=(0,nL.tv)(),m=(0,nD.P)();return(0,a.jsx)(tO.rq,{arrowPosition:ty.F_.LEFT_TITLE,description:(0,c.tx)("community.resource_hub.promotion"),emphasized:!0,isShowing:s,onClose:l,primaryCta:{label:(0,c.tx)("community.resource_hub.promotion.show_me_more"),type:"button",onClick:()=>{tT.Ay.push(new nL.au({...d,tab:m},_).href),l()},ctaTrackingDescriptor:X.c.SHOW_ME_MORE},secondaryCta:{label:(0,c.tx)("community.resource_hub.promotion.cancel"),type:"button",onClick:l,ctaTrackingDescriptor:X.c.CANCEL},targetKey:"resource_hub_link",title:(0,c.tx)("community.resource_hub.promotion.title"),trackingContextName:nM.HH.RESOURCE_HUB_PROMOTIONAL_OVERLAY,userFlagOnShow:eu.J5,width:300})}var nU=n(299117),nz=n(803276),nW=n(187429),nG=n(459494);let nq="seen_team_project_link_overlay",nH=(0,x.r1)(nq);function nK(){let e=(0,i.md)(nH),t=(0,nG.fn)(),n=()=>t===nG.ih.CONTROL,{show:r,isShowing:o,complete:s}=(0,g.e)({overlay:y.BTz,priority:h.N.DEFAULT_MODAL,experiment:{check:()=>n(),predicate:e=>!e,postCheck:e=>!e}},[e]);return(0,E.h)(()=>{r({canShow:e=>!e})}),(0,a.jsx)(tO.rq,{arrowPosition:_.F_.LEFT_TITLE,description:(0,c.tx)("team_project_link.overlay.description"),emphasized:!0,isShowing:o,onClose:s,targetKey:ed.Jo,trackingContextName:"Team Project Link Overlay",userFlagOnShow:nq,zIndex:ee.R.MODAL})}var nV=n(140464),n$=n(618316),nY=n(915316),nZ=n(450259),nQ=n(673540),nX=n(513369),nJ=n(997477),n0=n(944350),n1=n(116450);function n4(){let{getConfig:e}=(0,nJ.I7)("starter_global_file_limits"),t=(0,e5.S2)(),n=(0,nX.oA)(t?.data?.tier),{show:r,isShowing:i,complete:s}=(0,g.e)({overlay:y.dYj,priority:h.N.DEFAULT_MODAL,experiment:{check:()=>{if(!(0,o.k)().sts_starter_enabled)return!1;let t=new Date("2025-04-26T23:59:59").getTime();return!(Date.now()>t)&&e().get("enabled",!1)},predicate:e=>e,postCheck:()=>!0}},[t]);return(0,E.h)(()=>{r({canShow:e=>e?.tier===n0.Ag.STARTER})}),(0,a.jsx)(n1._l,{closeButtonColor:"dark",description:(0,c.tx)("starter_plan_updates_modal.description"),isShowing:i,media:(0,a.jsx)(n1.B$,{aspectRatio:1.625,width:700,src:(0,F.ck)("8bed8822b149a1da0cefb322e58ed4bd83ed7a28"),alt:"An illustration of several Figma features"}),onClose:s,orientation:"landscape",primaryCta:{label:(0,c.tx)("starter_plan_updates_modal.primary_cta_button"),type:"button",onClick:s,ctaTrackingDescriptor:X.c.GOT_IT},secondaryCta:{label:(0,c.tx)("starter_plan_updates_modal.secondary_cta_button"),type:"link",href:"https://help.figma.com/hc/categories/31823555275671-Figma-Sites",ctaTrackingDescriptor:X.c.LEARN_MORE},title:(0,c.tx)("starter_plan_updates_modal.title"),trackingContextName:"starter_plan_updates_overlay",trackingProperties:{plan:n}})}var n2=n(5175),n3=n(947035),n9=n(889438),n5=n(104836),n6=n(285359);function n7(){let e=(0,i.md)(x.qG),t=(0,i.md)(k.Qm),n=(0,i.md)(k.zN),a=(0,n5.ol)(),r=(0,M.wA)(),o=(0,g.e)({overlay:y.Ult,priority:h.N.HIGH_PRIORITY_MODAL},[e,t,n]);return(0,E.h)(()=>{o.show({canShow:(e,t,n)=>!(0,q.mW)(e,"seen_edu_offboarding_modal")&&(0,n9.x$)(t,n)!==1/0,onShow:()=>{r((0,t$.to)({type:n6.ZL,data:{teamId:a?.id}})),r(z.b({seen_edu_offboarding_modal:!0})),o.complete()}})}),null}var n8=n(111679),ae=n(847282);let at={key:"createEduTeam",value:"1"},an={key:"upgradeEduTeam",value:"1"};var aa=n(729226);function ar(){let e=(0,g.e)({overlay:y.kmq,priority:h.N.HIGH_PRIORITY_MODAL}),t=(0,M.wA)();return(0,E.h)(()=>{let n=(0,ae.QL)(at.key),a=(0,ae.QL)(an.key);n===at.value?e.show({onShow:()=>{t(n8.Dw({isEduTeam:!0})),(0,ae.EM)(at.key)}}):a===an.value&&e.show({onShow:()=>{t((0,t$.to)({type:aa.q})),(0,ae.EM)(an.key)}})}),null}let ai=(0,x.Fu)("seen_plan_spaces_launch_modal"),ao=(0,x.Fu)("seen_limited_spaces_onboarding"),as=new Date("2024-10-30T20:00:00.000Z").getTime();function al(){let e=(0,M.d4)(e=>e.plans),t=(0,i.md)(k.mp),n=(0,i.md)(ai),r=(0,i.md)(ao),s=e.some(e=>e.plan_type===th.O.TEAM&&e.is_guest),l=!!(0,o.k)().limited_plan_spaces&&s,{show:d,isShowing:_,complete:m}=(0,g.e)({overlay:y.Sgd,priority:h.N.HIGH_PRIORITY_MODAL},[t,n,r]);return(P.useEffect(()=>{l&&d({canShow:(e,t,n)=>!!t&&!n&&e.getTime()<=as})},[l,d]),e.length)?(0,a.jsx)(tO.rq,{arrowPosition:ty.F_.RIGHT_TITLE,description:(0,c.tx)("rcs.limited_spaces.external_projects"),disableHighlight:!0,emphasized:!0,isShowing:_,onClose:m,primaryCta:{label:(0,c.tx)("rcs.got_it"),type:"button",onClick:m,ctaTrackingDescriptor:X.c.GOT_IT},targetKey:tp.U,testId:"limited_plan_spaces_onboarding_test_id",title:(0,c.tx)("rcs.limited_spaces.find_shared_projects"),trackingContextName:"Limited Spaces Onboarding Overlay"}):null}var ad=n(428147),ac=n(312156),a_=n(906356),am=n(295253);function au(){let e=(0,M.wA)(),t=(0,i.md)(k.d2),n=(0,g.e)({overlay:y.Wb3,priority:h.N.URGENT_ALERT},[t]);return(0,E.h)(()=>{let t=(0,ae.QL)("upgrade"),a=(0,ae.QL)("entryPoint");switch(t){case"pro":n.show({canShow:e=>e===K.qo.PERSONAL,onShow:()=>{let t={dispatch:e,plan:ac.I.PRO,upsellSource:am.b.UNIVERSAL_UPGRADE_SEQUENCE_MACHINE,entryPoint:a?parseInt(a):void 0};e((0,t$.to)({type:a_.dR,data:{...t}})),n.complete()}});break;case"plan_comparison":n.show({canShow:e=>e===K.qo.PERSONAL,onShow:()=>{e((0,t$.to)({type:ad.V,data:{upsellSource:am.b.DEEPLINK}})),n.complete()}})}}),null}function ap(){let e=!!(0,e3.dq)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(nU.p,{children:(0,a.jsx)(n3.$,{})}),(0,a.jsx)(nU.p,{children:(0,a.jsx)(au,{})}),(0,a.jsx)(nU.p,{children:(0,a.jsx)(ar,{})}),(0,a.jsx)(nU.p,{children:(0,a.jsx)(n7,{})}),(0,a.jsx)(nU.p,{children:(0,a.jsx)(nZ.NuxOnboardingOverlay,{entryPoint:n2.C5.FileBrowser})}),(r.XN||!r.rr)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(nU.p,{children:(0,a.jsx)(eW,{})}),(0,a.jsx)(nU.p,{children:(0,a.jsx)(nV.P,{})}),(0,a.jsx)(nU.p,{children:(0,a.jsx)(nz.A,{})}),(0,a.jsx)(nU.p,{children:(0,a.jsx)(nW.Ay,{})}),(0,a.jsx)(nU.p,{children:(0,a.jsx)(nQ.A,{})}),(0,a.jsx)(nU.p,{children:(0,a.jsx)(n$.A,{})})]}),(0,a.jsx)(nU.p,{featureFlag:"pro_trials_v3_ux",children:(0,a.jsx)(nf,{})}),(0,a.jsx)(nU.p,{children:(0,a.jsx)(n4,{})}),(0,a.jsxs)(nU.p,{children:[(0,a.jsx)(tN,{}),(0,a.jsx)(al,{})]}),(0,a.jsx)(nU.p,{children:(0,a.jsx)(tL,{})}),(0,a.jsx)(nU.p,{children:(0,a.jsx)(nK,{})}),(0,a.jsxs)(nU.p,{children:[(0,a.jsx)(nj,{}),(0,a.jsx)(nS,{})]}),(0,a.jsx)(nU.p,{children:(0,a.jsx)(O,{})}),(0,a.jsx)(nU.p,{children:(0,a.jsx)(j,{})}),e&&(0,a.jsx)(nU.p,{children:(0,a.jsx)(t_,{})}),(0,a.jsx)(nU.p,{children:(0,a.jsx)(eX,{})}),(0,a.jsx)(nU.p,{featureFlag:"scrub_file_browser_search_results",children:(0,a.jsx)(nO.b0,{})}),(0,a.jsx)(nU.p,{children:(0,a.jsx)(nY.C,{source:"file_browser"})}),(0,a.jsx)(nU.p,{featureFlag:"cmty_resource_hub",children:(0,a.jsx)(nB,{})}),(0,a.jsx)(nU.p,{featureFlag:"cmty_resource_hub_ia_change",children:(0,a.jsx)(nR,{})})]})}},389631:(e,t,n)=>{n.d(t,{l:()=>a});let a="CREATE_FILES_ONBOARDING_KEY"},574822:(e,t,n)=>{n.d(t,{p:()=>y,u:()=>T});var a=n(104076),r=n(999083);if(443==n.j)var i=n(48662);if(443==n.j)var o=n(792242);if(443==n.j)var s=n(597342);if(443==n.j)var l=n(431462);if(443==n.j)var d=n(882141);if(443==n.j)var c=n(651534);if(443==n.j)var _=n(715315);var m=n(812714),u=n(192075);if(443==n.j)var p=n(111679);var f=n(519049),g=n(944350),x=n(176203);if(443==n.j)var h=n(75644);var b=n(524291);function y({editorType:e,isDisabled:t,isLoading:n,onClick:_,showRequestLabel:p,showRequestSentLabel:f}){let y={[g._Y.DESIGN]:{title:(0,u.t)("file_browser.creation_buttons.design"),brand:"design",dataTestId:"new-design-file-button",icon:(0,a.jsx)(i.n,{})},[g._Y.WHITEBOARD]:{title:(0,u.t)("file_browser.creation_buttons.figjam"),brand:"whiteboard",dataTestId:"new-whiteboard-file-button",icon:(0,a.jsx)(o.D,{})},[g._Y.SLIDES]:{title:(0,u.t)("file_browser.creation_buttons.slide_deck"),brand:"piper",dataTestId:"new-slides-file-button",icon:(0,a.jsx)(s.l,{})},[g._Y.SITES]:{title:(0,u.t)("file_browser.creation_buttons.sites"),brand:"seascape",dataTestId:`new-${x.oQ}-file-button`,icon:(0,a.jsx)(l.J,{}),badge:function(){if("BETA"===(0,h.z)())return b._.BETA}()},[g._Y.COOPER]:{title:(0,u.t)("file_browser.creation_buttons.marketing_asset"),brand:"cooper",dataTestId:`new-${x.sq}-file-button`,icon:(0,a.jsx)(d.W,{}),badge:b._.BETA},[g._Y.FIGMAKE]:{title:(0,u.t)("file_browser.creation_buttons.figmake"),brand:"bake-filebrowser",dataTestId:`new-${x.GJ}-file-button`,icon:(0,a.jsx)(c.t,{}),badge:(0,m.k)().ai_ga?void 0:b._.BETA}}[e],T=(0,r.WI)([p?b._.REQUEST_UPGRADE:null,f?b._.REQUEST_SENT:null,y.badge]);return{key:e,isDisabled:t,isLoading:n,onClick:_,title:y.title,dataTestId:y.dataTestId,brand:y.brand,icon:y.icon,badges:T}}function T({isLoading:e,dispatch:t,targetFolderId:n}){return{key:"import-file",isLoading:e,onClick:()=>{n&&t((0,p.gN)(n)),t((0,f.L)())},title:(0,u.t)("file_browser.creation_buttons.import"),dataTestId:"file-import-button",icon:(0,a.jsx)(_.R,{})}}},699395:(e,t,n)=>{n.d(t,{iM:()=>b,nz:()=>h,pP:()=>x});var a=n(104076),r=n(716976);if(443==n.j)var i=n(307829);if(443==n.j)var o=n(420680);if(443==n.j)var s=n(803126);var l=n(812714);n(120440);var d=n(886584),c=n(192075),_=n(967276);if(443==n.j)var m=n(389631);var u=n(197979),p=n(299640);let f=(0,d.o)(),g=(0,d.o)();function x(){f.emit()}function h(){g.emit()}function b({folderId:e,isContainerHovered:t}){let{getTriggerProps:n,manager:x}=i.b({config2025CuratorHacks:(0,l.k)().fpl_menu_under_curator});(0,d.p)(f,r.useCallback(()=>x.setOpen(!0),[x])),(0,d.p)(g,r.useCallback(()=>x.setOpen(!1),[x]));let h=(0,_.Q)({newFileFrom:p.f6.FILE_BROWSER_SIDEBAR_DRAFTS,folderId:e,contextClicked:"file_browser_sidebar_drafts_new_file_created"});return(0,a.jsx)("div",{...{0:{},1:{className:"xg01cxk x1o7uuvo x1uxbtfk x4gyw5p x1euntei"}}[!t<<0],children:(0,a.jsxs)(i.bL,{manager:x,children:[(0,a.jsx)(o.K,{htmlAttributes:{"data-tooltip":(0,c.t)("sidebar.new_file"),"data-onboarding-key":"new-file-icon"},"aria-label":(0,c.t)("sidebar.new_file"),...n(),children:(0,a.jsx)(s.e,{})}),(0,a.jsx)(u.f,{menuItems:h,"data-onboarding-key":m.l})]})})}},892329:(e,t,n)=>{n.d(t,{P:()=>b,r:()=>w});var a=n(104076),r=n(716976),i=n(903927);if(443==n.j)var o=n(914391);var s=n(219199),l=n(856909),d=n(236631),c=n(192075),_=n(58212),m=n(171660);if(443==n.j)var u=n(799303);var p=n(507147),f=n(836807),g=n(147046),x=n(443192),h=n(806650);let b="drafts_to_move_onboarding_key",y=443==n.j?3e5:null,T=new Date("2024-06-03");function w(e){let t=e.dispatch,n=(0,i.d4)(e=>e.userFlags),w=(0,h.j0)(),v="draftsToMove"===e.selectedView.view;!function(e){let{personal_draft_migration_scheduled:t,personal_draft_migration_completed:n,long_running_draft_migration_toast_shown:a,draft_migration_completed_toast_shown:o}=(0,i.d4)(e=>e.userFlags),l=(0,r.useCallback)(()=>{e(_.F.enqueue({message:(0,c.t)("file_browser.drafts_to_move.long_running_draft_migration"),button:{text:(0,c.t)("file_browser.drafts_to_move.long_running_draft_migration_learn_more"),action:()=>{s.Ay.unsafeRedirect("https://figma.com/blog/updates-to-how-drafts-work","_blank")}},type:"long-running-draft-migration",timeoutOverride:1/0,onDismiss:()=>{}})),e(x.b({long_running_draft_migration_toast_shown:!0}))},[e]),d=(0,r.useCallback)(()=>{e(_.F.dequeue({matchType:"long-running-draft-migration"})),e(_.F.enqueue({message:(0,c.t)("file_browser.drafts_to_move.long_running_draft_migration_completed")})),e(x.b({draft_migration_completed_toast_shown:!0}))},[e]);r.useEffect(()=>{if(!t)return;if(n&&n.updatedAt>t.updatedAt){if(n.updatedAt<T||o&&o.updatedAt>n.updatedAt)return;d();return}if(a&&a.updatedAt>t.updatedAt)return;let e=new Date().getTime()-new Date(t.updatedAt).getTime();e>y?l():setTimeout(()=>{l()},y-e)},[n,l,d,a,o,t])}(t);let j=n.seen_drafts_to_move_notice_icon?w>0?(0,a.jsx)(l.Ex,{text:w>99?"99+":`${w}`,color:v?l.zE.TOOLBAR_SELECTED:l.zE.DEFAULT,className:d.s.mr8.if(!v,d.s.colorBgBrandTertiary.colorText).$}):void 0:(0,a.jsx)(p.E,{className:d.s.mr8.$});return w>0||v?(0,a.jsx)(f.SidebarRow,{isSelected:v,onClick:e=>{e.metaKey||e.ctrlKey||0!==e.button||(t(g.sf({view:"draftsToMove"})),t(u.Oe({clickedResourceType:"draftsToMove"})),t(x.b({seen_drafts_to_move_notice_icon:!0})))},"data-onboarding-key":b,icon:(0,a.jsx)(o.g,{}),text:(0,a.jsx)(m.E,{truncate:!0,children:(0,c.tx)("sidebar.drafts_to_move")}),badge:j,wrapInListItem:!1}):null}},806650:(e,t,n)=>{n.d(t,{Gs:()=>g,j0:()=>f,rO:()=>p});var a=n(716976),r=n(903927),i=n(422069),o=n(437540),s=n(449572);if(443==n.j)var l=n(111679);var d=n(405583),c=n(592726),_=n(59849),m=n(643898);let u=443==n.j?9e5:null;function p(e,t){return!(new Date().getTime()-e.getTime()>u)&&(!t||e.getTime()>t.getTime())}function f(){let e=(0,c.iZ)(),t=(0,r.d4)(e=>e.userFlags),n=e?.personal_drafts_folder_id??"",a=!!n,o=(0,s.Rs)(_.xO7,{projectId:n},{enabled:a}),l=x(e,t);if(!a||l)return 0;let d=o.data?.project?.status!==i.tT.Loaded?[]:o.data?.project.data?.undeletedFiles??[],m=0,u=new Set;d.forEach(e=>{e.fileRepoId?u.has(e.fileRepoId)||(m++,u.add(e.fileRepoId)):m++});let p=d.filter(e=>e.trackTags?.isTemplate).length;return m===p?0:m}function g(){let{fileByKey:e,fileKeysByFolderId:t,deletedFilesByKey:n,loadedFolders:i}=(0,o.R)(e=>({fileByKey:e.fileByKey,fileKeysByFolderId:e.fileKeysByFolderId,deletedFilesByKey:e.deletedFilesByKey,loadedFolders:e.loadedFolders})),s=(0,c.iZ)(),_=(0,r.wA)(),m=(0,r.d4)(e=>e.userFlags),u=s?.personal_drafts_folder_id;a.useEffect(()=>{u&&_((0,d.jl)({folderId:u,loadedFolders:i}))},[i,_,u]),a.useEffect(()=>{_(l.h3({orgId:null,teamId:null}))},[_]);let p=(0,a.useMemo)(()=>u?(t[u]??[]).map(t=>e[t]).filter(e=>!!e):[],[e,t,u]);if(x(s,m))return[];let f=Object.keys(n).map(e=>n[e]).filter(e=>e.folder_id===u);return p.concat(f)}function x(e,t){if((0,m.nx)(e))return!0;let{personal_draft_migration_scheduled:n,personal_draft_migration_completed:a,personal_draft_deletion_scheduled:r,personal_draft_deletion_completed:i}=t,o=!!(n&&p(n.updatedAt,a?.updatedAt)),s=!!(r&&p(r.updatedAt,i?.updatedAt));return o||s}},372071:(e,t,n)=>{n.d(t,{U:()=>N,b:()=>S});var a=n(104076),r=n(716976),i=n(903927);if(443==n.j)var o=n(307829);if(443==n.j)var s=n(684742);if(443==n.j)var l=n(129011);if(443==n.j)var d=n(658704);if(443==n.j)var c=n(516604);var _=n(812714);n(120440);var m=n(949701),u=n(437540),p=n(554609),f=n(192075),g=n(171660),x=n(513651),h=n(443192),b=n(803752),y=n(382503),T=n(792635),w=n(562311),v=n(904017),j=n(216816),E=n(680731),k=n(239891),A=n(748314);if(443==n.j)var C=n(254926);if(443==n.j)var I=n(61813);let N="PLAN_SWITCHER_ONBOARDING_KEY";function S(){let e=(0,i.wA)(),t=(0,i.d4)(e=>(0,w.getPermissionsStateMemoized)(e)),n=(0,u.R)(e=>(0,y.vp)(e.user,e.currentUserOrgId,e.currentTeamId)),o=(0,i.d4)(e=>e.user),s=(0,i.d4)(e=>e.plans),l=(0,v.S2)();if(r.useEffect(()=>{e((0,b.hr)({loadedPlans:s}))},[]),!n||!o)return null;let d=(0,a.jsxs)("div",{className:"x78zum5 x1q0g3np x6s0dn4 xb3r6kr",children:[(0,a.jsx)(p.n,{size:16,userId:n.userId,orgId:n.orgId,teamId:n.teamId,personalSpaceIcon:C.A,personalSpaceIcon1x:I.A}),(0,a.jsx)("div",{className:"x78zum5 x1q0g3np xet2fuk xb3r6kr",children:(0,a.jsx)(g.E,{fontSize:13,fontWeight:"medium",color:"default",truncate:!0,children:(0,y.HE)(t,n)})})]});return(0,a.jsx)(O,{triggerContent:d,currentWorkspace:n,currentUser:o,planResult:l})}function O({triggerContent:e,currentWorkspace:t,currentUser:n,planResult:r}){let u=(0,i.wA)(),{manager:p,getTriggerProps:g}=o.b({config2025CuratorHacks:!0}),{menuGroups:h,onChange:b,onCreateTeam:y}=(0,k.g)({currentUser:n}),w=h.flatMap(e=>e.items).find(e=>e.isSelected)?.planId,C={...p,getFloatingProps:e=>{let t=p.getFloatingProps(e);return{...t,style:{...t?.style,minWidth:E.g-8}}}};(0,A.T)(p);let I=(0,v.S2)(),{isDraftsToMovePlan:S,dtmMigrationCompleted:O,starterTeamCreated:L,dtmMigrationPlanName:D,dtmPlanParentId:F,dtmPlanParentType:B}=(0,T.V)((0,m.oA)(I.data)||void 0),U=!S&&O&&(0,_.k)().dtm_deprecation_post_migration_onboarding;return(0,a.jsxs)(o.bL,{manager:C,children:[(0,a.jsxs)(P,{children:[(0,a.jsxs)(s.E,{...{0:{className:"x78zum5 x6s0dn4 x10w6t97 x12oqio5 x6wrskw xb3r6kr xv2f06h x5hs570"},1:{className:"x78zum5 x6s0dn4 x10w6t97 x12oqio5 x6wrskw xb3r6kr xv2f06h x5hs570 x30nh5c"}}[!!p.isOpen<<0],...g(),children:[e,(0,a.jsx)(d.r,{className:"x2lah0s"})]}),"loaded"===r.status&&(0,a.jsx)("div",{className:"x78zum5 xozqiw3 xj3b58b x1yf7rl7",children:(0,a.jsx)(x.A,{workspace:t,planTier:r.data.tier})})]}),(0,a.jsxs)(o.mc,{"data-onboarding-key":k.K,children:[(0,a.jsx)(l.z6,{title:null,onChange:e=>{b(e)},value:w,children:h.map(e=>(0,a.jsx)(o.YJ,{title:e.title?(0,a.jsx)(o.hE,{children:e.title}):null,children:e.items.map(e=>(0,a.jsxs)(l.CU,{value:e.planId,children:[(0,a.jsx)(o.Q$,{children:e.icon}),R(e.displayText),e.badge?(0,a.jsx)(o.Ov,{children:e.badge}):null]},e.planId))},e.key))}),y?(0,a.jsxs)(o.q7,{onClick:()=>y(),children:[(0,a.jsx)(o.Q$,{children:(0,a.jsx)(c.x,{})}),(0,f.t)("navbar.navbar.create_new")]}):null]}),U&&(0,a.jsx)(j.a,{entryPoint:"plan_nav",planName:D,targetKey:N,starterTeamCreated:L??!1,isOrg:"org"===B,navigateToPlan:()=>{F&&M(F,u,b)}})]})}function P({children:e}){return(0,a.jsx)("div",{...{0:{className:"x78zum5 x1q0g3np x6s0dn4 x1nhvcw1 x1jnr06f x6wrskw"},1:{className:"x78zum5 x1q0g3np x6s0dn4 x1nhvcw1 x1jnr06f x163pfp"}}[!!(0,_.k)().file_browser_sidebar_row_ui<<0],"data-onboarding-key":N,children:e})}let M=(e,t,n)=>{e&&n(e,!0),t(h.b({switched_to_new_plan_from_dtm_deprecation_onboarding:!0}))},R=e=>(0,a.jsx)("div",{className:"xb3r6kr xlyipyv xuxw1ft xenbecp",children:e})},239891:(e,t,n)=>{n.d(t,{K:()=>C,g:()=>I});var a=n(104076),r=n(716976),i=n(903927),o=n(638004),s=n(812714),l=n(949701),d=n(872763),c=n.n(d),_=n(755444),m=n(449572),u=n(645040),p=n(550209),f=n(554609),g=n(192075);if(443==n.j)var x=n(111679);var h=n(513651),b=n(443192),y=n(830705),T=n(249586),w=n(382503),v=n(59849),j=n(643898),E=n(562311),k=n(772831),A=n(491228);let C="PLAN_SPACES_ONBOARDING_KEY";function I({currentUser:e}){let t=(0,i.wA)(),n=(0,i.d4)(e=>e.plans),a=(0,i.d4)(e=>(0,E.getPermissionsStateMemoized)(e)),d=(0,y.z)(),f=(0,m.Rs)(v.InN,{},{enabled:(0,s.k)().dtm_deprecation_post_migration_onboarding}),h=(0,l.oA)(f.data?.personalDraftToPlanDraftLocation),w=l.oA(h?.toDraftsFolder?.team?.trackTags)?.is_auto_created_for_dtm_migration??!1,C=h?.status==="complete",I=(0,m.Rs)((0,v.sMZ)({name:"seen_dtm_post_migration_badge"})),S=!!I?.data?.currentUser?.userFlagByName,O=(0,j.nx)(e),P=O&&n.length>1,M=!O&&!(0,_.sL)();return{menuGroups:(0,r.useMemo)(()=>{let t=!!(0,s.k)().limited_plan_spaces&&n.some(e=>e.plan_type===A.O.TEAM&&e.is_guest),{full:r,limited:i}=function({userPlans:e,currentUser:t,hasRestrictedTeams:n}){let a=[],r=[];return e.forEach(e=>{n?e.plan_type===A.O.ORG&&e.plan_id===t.external_restricted_org_id?a.push(e):r.push(e):e.is_guest?r.push(e):a.push(e)}),n&&0===a.length&&(0,p.$D)(o.e.WORKFLOW,Error(`Enterprise plan not found in Plan Switcher for user ${t.id}`),{extra:{...e}}),{full:a,limited:r}}({currentUser:e,userPlans:n,hasRestrictedTeams:P}),l=r.map(t=>N(t,e,a,{isDraftsToMovePlan:w&&h?.planParentId===t.plan_id,dtmMigrationCompleted:w&&C,starterTeamCreated:w,seenDtmPostMigrationBadge:S})).sort((e,t)=>e.displayText.localeCompare(t.displayText)),d=i.map(t=>N(t,e,a,{isDraftsToMovePlan:w&&h?.planParentId===t.plan_id,dtmMigrationCompleted:w&&C,starterTeamCreated:w,seenDtmPostMigrationBadge:S})).sort((e,t)=>e.displayText.localeCompare(t.displayText));return c()([l.length>0&&{key:"full",title:t?(0,g.t)("navbar.navbar.full_team_member_access"):void 0,items:l},d.length>0&&{key:"limited",title:P||!t?(0,g.t)("navbar.navbar.view_only_plans_disabled_by_admins"):(0,g.t)("navbar.navbar.limited_team_member_access"),items:d}])},[n,P,e,a,w,C,S,h?.planParentId]),onChange:(r,i)=>{let o;let l=n.find(e=>e.plan_id===r);if(!l)return;let d=(0,u.O)(l,e.id),c=a.currentUserOrgId,m=a.currentTeamId,p=d.orgId,f=d.teamId,g=!!(0,s.k)().limited_plan_spaces&&!!(0,_.tl)().is_limited_team_plan,y=!!(0,s.k)().limited_plan_spaces&&!!f&&l.is_guest,v=l.draft_folder_id;o=i&&(0,s.k)().dtm_deprecation_post_migration_onboarding&&v?{view:"folder",folderId:v}:d.teamId&&!l.is_guest?{view:"team",teamId:d.teamId}:d.teamId&&l.is_guest?{view:"limitedTeamSharedProjects"}:{view:"org",orgId:d.orgId,orgViewTab:k.X.HOME},C&&w&&h?.planParentId===l.plan_id&&t(b.b({seen_dtm_post_migration_badge:!0})),(0,T.uE)("Plan Switcher Plan Clicked",{user:e},{currentOrgId:c,currentTeamId:m,newOrgId:p,newTeamId:f,isCurrentPlanLimitedTeamPlan:g,isNextPlanLimitedTeamPlan:y}),t(x._l({workspace:d,view:o}))},onCreateTeam:M?d:null}}function N(e,t,n,r){let i=(0,u.O)(e,t.id),o=(0,w.HE)(n,i),l=(0,w.O_)(n,i),d=(0,s.k)().dtm_deprecation_post_migration_onboarding&&r?.starterTeamCreated&&r?.isDraftsToMovePlan&&r?.dtmMigrationCompleted&&!r?.seenDtmPostMigrationBadge;return{planId:e.plan_id,isSelected:l,displayText:o,badge:(0,a.jsx)(h.A,{planTier:e.tier,workspace:i,isInDropdown:!0,isGuest:e.is_guest,shouldShowDtmPostMigrationBadge:d}),icon:(0,a.jsx)(f.n,{userId:i.userId,orgId:i.orgId,teamId:i.teamId,size:16})}}},748314:(e,t,n)=>{n.d(t,{O:()=>s,T:()=>l});let{open:a,close:r,useRegisterMenu:i}=(0,n(209267).K)(),o={open:a,close:r};function s(){return o}let l=443==n.j?i:null},513651:(e,t,n)=>{n.d(t,{A:()=>R});var a=n(104076),r=n(962856),i=n(192075),o=n(903927),s=n(936817),l=n(259936),d=n(944350),c=n(644075),_=n(754039),m=n(562311);function u(e){let t=(0,o.d4)(e=>(0,m.getPermissionsStateMemoized)(e)),n=(0,l.u8)({oldValue:c.H(t,e.orgId)?.permission===d._D.GUEST,newValue:e.isGuest,label:l.A5.PlanSwitcherOrgBadges.isOrgGuest,enableFullRead:(0,s.DQ)(s.Pw.GROUP_7)}),u=(0,l.u8)({oldValue:(0,_.kA)(t.orgById[e.orgId]),newValue:e.planTier===d.Ag.ENTERPRISE,label:l.A5.PlanSwitcherOrgBadges.isEnterprise,enableFullRead:(0,s.DQ)(s.Pw.GROUP_7)}),p=n?(0,i.t)("navbar.navbar.guest"):u?(0,i.t)("navbar.navbar.enterprise"):(0,i.t)("navbar.navbar.org");return(0,a.jsx)(r.E,{variant:"defaultFilled",children:p})}var p=n(716976),f=n(812714),g=n(380494);n(120440);var x=n(883765),h=n(449572),b=n(856909),y=n(236631),T=n(428147),w=n(111679),v=n(366535),j=n(111297),E=n(332795),k=n(105228),A=n(59849),C=n(853039),I=n(268305),N=n(295253),S=n(613936),O=n(894210);let P=(0,n(560201).ex)("pro_trial",function(e){let t=(0,a.jsx)("span",{style:{fontWeight:600},children:(0,i.tx)("team_list.pro_trial_time_left_days",{daysLeft:e.daysLeft})});return(0,a.jsx)("div",{className:y.s.flex.itemsCenter.justifyCenter.$,children:(0,a.jsx)("p",{children:(0,i.tx)("team_list.pro_trial_time_left",{daysLeftText:t})})})},e=>({daysLeft:Number(e.getAttribute("data-tooltip-pro-trials-days-left")||0)}));function M(e){let t=(0,o.wA)(),n=(0,o.d4)(e=>e.user),c=(0,o.d4)(e=>e.teams)[e.teamId],_=(0,o.d4)(e=>(0,m.getPermissionsStateMemoized)(e)),u=(0,l.u8)({oldValue:(0,C.w5)(c),newValue:e.planTier===d.Ag.PRO||e.planTier===d.Ag.STUDENT,label:l.A5.PlanSwitcherTeamBadges.isProOrStudentTeam,enableFullRead:(0,s.DQ)(s.Pw.GROUP_7)}),M=(0,h.Rs)((0,A.yQw)({teamId:e.teamId}),{enabled:!u&&(0,s._X)(s.Pw.GROUP_7)}),R=(0,l.MF)({oldValue:g.Qw.loaded((0,m.hasEditorRoleAccessOnTeam)(e.teamId,_)),newValue:M.transform(({team:e})=>!!(e?.roleOnObjectForUser&&e.roleOnObjectForUser.level>=S.e6.EDITOR)),label:l.A5.PlanSwitcherTeamBadges.canUpgradeStarterTeam,enableFullRead:(0,s.DQ)(s.Pw.GROUP_7),contextArgs:{teamId:e.teamId}}).data,L=(0,k.TN)(e.teamId),D=(0,o.d4)(e=>e.plans),F=(0,f.k)().limited_plan_spaces,B=(0,o.d4)(e=>e.modalShown?.type===T.y),U=!1;if(F){let t=D.find(t=>t.plan_id===e.teamId&&"team"===t.plan_type);U=!!t?.is_guest}let[z,W]=(0,p.useState)(!1),G=(0,p.useRef)();if(!n||!c)return null;let q=e=>{t((0,v.to)({type:T.V,data:{teamId:c.id,upsellSource:e}}))};if(F&&U&&e.isInDropdown)return(0,a.jsx)(a.Fragment,{});if(c.student_team){if(e.isInDropdown)return(0,a.jsx)(r.E,{variant:"defaultFilled",children:(0,i.t)("navbar.navbar.edu")})}else if((0,C.oc)(c.id,_)){if(c.student_team_at)return null;let t=I.ng.canSeeProTrialExpiryUx(L),o=(0,a.jsx)(r.E,{variant:"warningFilled",children:(0,i.t)("navbar.navbar.trial_expired")}),s=(0,a.jsx)(r.E,{variant:"warningFilled",children:(0,i.t)("navbar.navbar.locked")});return e.isInDropdown?t?o:s:t?(0,a.jsx)(j.fu,{name:b._Y.PRO_TRIAL_EXPIRED,properties:{userId:n.id,teamId:c.id,...I.ng.getTrackingProperties()},children:o}):s}else if(L&&I.ng.canSeeProTrialUx(L)){let t=(0,a.jsx)(r.E,{variant:"defaultFilled",children:(0,i.t)("navbar.navbar.pro_trial")});return e.isInDropdown?t:(0,a.jsx)(j.fu,{name:b._Y.PRO_TRIAL,properties:{userId:n.id,teamId:c.id,...I.ng.getTrackingProperties()},children:(0,a.jsx)(j.$z,{type:"button",onClick:()=>q(N.b.PRO_TRIAL_UPSELL_MODAL),className:y.s.ml8.noWrap.$,trackingProperties:I.ng.getTrackingProperties("Badge Clicked"),children:(0,a.jsx)("span",{"data-tooltip-type":O.Ib.SPECIAL,"data-tooltip":P,"data-tooltip-pro-trials-days-left":L.daysLeft,"data-tooltip-show-right":!0,"data-tooltip-max-width":195,"data-tooltip-timeout-delay":50,children:t})})})}else if(u&&e.isInDropdown)return(0,a.jsx)(r.E,{variant:"defaultFilled",children:(0,i.t)("navbar.navbar.pro")});else if(!u){let o=(0,a.jsx)(r.E,{variant:"defaultFilled",children:(0,i.t)("navbar.navbar.free")});if(e.isInDropdown)return o;if(R){let e={monetization_surface:E.h.MonetizationSurface.FILE_BROWSER,monetization_trigger:N.b.STARTER_TEAM_BADGE};return(0,a.jsx)("button",{"aria-label":(0,i.t)("navbar.navbar.free_label",{teamName:c.name}),"aria-expanded":B,onClick:a=>{a.stopPropagation(),t(w.dm(c.id)),q(N.b.STARTER_TEAM_BADGE),(0,x.sx)("Starter Team Badge Clicked",{userId:n.id,teamId:c.id,...e})},onMouseEnter:()=>{z||(G.current=setTimeout(()=>{(0,x.sx)("Starter Team Badge Viewed",{userId:n.id,teamId:c.id,...e}),W(!0)},1e3))},onMouseLeave:()=>{clearTimeout(G.current)},className:y.s.bgTransparent.$,className:"x8mb37l",children:(0,a.jsx)(b.Ex,{color:b.zE.DEFAULT,text:(0,i.t)("navbar.navbar.free"),className:`${y.s.noWrap.flex.$} plan_switcher_team_badges--freeBadgeHover--BSSXU`})})}}return null}function R({workspace:e,isInDropdown:t,planTier:n,isGuest:o,shouldShowDtmPostMigrationBadge:s}){if(s)return(0,a.jsx)(r.E,{variant:"brandFilled",children:(0,i.t)("file_browser.drafts_to_move.new")});if(e.orgId){if(t)return(0,a.jsx)(u,{orgId:e.orgId,planTier:n,isGuest:!!o})}else if(e.teamId)return(0,a.jsx)(M,{teamId:e.teamId,isInDropdown:t,planTier:n});return null}},848547:(e,t,n)=>{n.d(t,{U:()=>x,w:()=>h});var a=n(104076),r=n(903927);if(443==n.j)var i=n(187389);var o=n(219199),s=n(192075),l=n(171660);if(443==n.j)var d=n(799303);var c=n(836807),_=n(250596),m=n(443192),u=n(845945),p=n(657878),f=n(576503),g=n(138611);let x="resource_hub_link";function h(){let e=(0,r.wA)(),t=(0,p.z3)(),n=(0,r.d4)(e=>e.userFlags),h=(0,_.Om)(),b=(0,_.tv)(),y=(0,g.P)();return(0,a.jsx)(c.SidebarRow,{onClick:()=>{o.Ay.push(new _.au({...h,tab:y},b).href),e(d.Oe({clickedResourceType:"resourceHub"})),y!==u.N$.COMMUNITY||n[f.w3]||e(m.b({[f.w3]:!0}))},"data-onboarding-key":x,isSelected:"resourceHub"===t,icon:(0,a.jsx)(i.e,{}),text:(0,a.jsx)(l.E,{truncate:!0,children:(0,s.tx)("sidebar.templates_and_tools")}),wrapInListItem:!0})}},218491:(e,t,n)=>{n.d(t,{M:()=>y,U:()=>T});var a,r,i,o=n(166115),s=n(483497),l=n(250596),d=Object.create,c=Object.defineProperty,_=(Object.getOwnPropertyDescriptor,(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e)),m=e=>{throw TypeError(e)},u=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>c(e,"name",{value:t,configurable:!0}),f=["class","method","getter","setter","accessor","field","value","get","set"],g=e=>void 0!==e&&"function"!=typeof e?m("Function expected"):e,x=(e,t,n,a,r)=>({kind:f[e],name:t,metadata:a,addInitializer:e=>n._?m("Already initialized"):r.push(g(e||null))}),h=(e,t)=>u(t,_("metadata"),e[3]),b=(e,t,n)=>t.has(e)||m("Cannot "+n),y=(e=>(e.FIGJAM_TEMPLATES="figjam-templates",e.PLUGINS="plugins",e.WIDGETS="widgets",e.SLIDE_TEMPLATES="slide-templates",e.LIBRARIES="libraries",e.COOPER_TEMPLATES="buzz-templates",e.FIGMAKE_TEMPLATES="figmake-templates",e.RECENTLY_ADDED_TEMPLATES="recently-added-templates",e))(y||{});a=[s.Ac];class T extends(i=s.nS){}(T=((e,t,n,a,r,i)=>{var o,s,l,d=e[0]||(e[0]=[]);p(r,n);for(var c=a.length-1;c>=0;c--)l=x(0,n,s={},e[3],d),o=(0,a[c])(r,l),s._=1,g(o)&&(r=o);return h(e,r),r})(r=[,,,d(i?.[_("metadata")]??null)],0,"InternalResourcesRoute",a,T)).displayName="InternalResourcesRoute",T.path=(0,s.aV)(l.VR,"/internal/:resourceTypeSlug/:scopeOrTeamId(org|[0-9]+)?"),T.serializeParams=e=>({...(0,l.FZ)(e),resourceTypeSlug:e.resourceTypeSlug,scopeOrTeamId:e.forOrg?"org":e.forTeamId}),T.deserializeParams=e=>{let t=(0,o.S)(e.resourceTypeSlug,y);if(void 0===t)throw Error(`InternalResourceHubRoute: Invalid resource type slug ${e.resourceTypeSlug}`);return{resourceTypeSlug:t,..."org"===e.scopeOrTeamId?{forOrg:!0,forTeamId:void 0}:{forOrg:!1,forTeamId:e.scopeOrTeamId},...(0,l.CS)(e)}},T.parseQueryString=e=>({...(0,l.p7)(e)}),((e,t,n,a)=>{for(var r=0,i=e[0],o=i&&i.length;r<o;r++)i[r].call(n)})(r,0,T)},925658:(e,t,n)=>{n.d(t,{l:()=>i});var a=n(266808),r=n(331497);function i(e=!0){let t=e?a.Ez5?.canvasGrid().canvasGridArray:null;return 0===(0,r.ut)(t,[]).length}},253021:(e,t,n)=>{n.d(t,{D9:()=>d,Mt:()=>l,RG:()=>o,WW:()=>r,XF:()=>c,nR:()=>s,qA:()=>i});var a=n(174730);let r="agreed_to_cooper_modal",i="cooper_locked_template_insert_event",o="seen_cooper_internal_template_banner",s="seen_cooper_internal_template_creation_banner",l="Copying 3 or more non-instance assets",d="cooper_publish_templates_target_key";function c(){return!!(0,a.f)(r)}},930931:(e,t,n)=>{if(n.d(t,{V:()=>d,z:()=>c}),443==n.j)var a=n(926653);var r=n(596224),i=n(932709),o=n(710211),s=n(564914),l=n(621971);let d=o.M4.Query({fetch:async e=>(await l.$W.getResources(e)).data.meta.results});function c(e){let t=new Set,n=e.filter(e=>(0,r.XW)(e)&&(0,r.LE)(e)).map(e=>e.content.component_v2._component_v2_record);n.forEach(e=>{t.add((0,a.l)(e.library_key))});let o=(0,i.bj)(Array.from(t)),l=o.data,d=new Map;return l.forEach(e=>{(0,s.ZA)(e)&&d.set((0,a.l)(e.library_key),e)}),{isLoading:"loading"===o.status,libraryKeyToPublishedLibrary:d,components:n}}},540983:(e,t,n)=>{n.d(t,{qv:()=>B,ah:()=>W,rG:()=>V,iW:()=>en,DM:()=>Z,px:()=>Y,T5:()=>$,Vg:()=>K,EI:()=>q,p9:()=>X,ON:()=>H});var a=n(104076),r=n(716976),i=n(827695),o=n(684742),s=n(293422),l=n(475477),d=n(751536),c=n(754695),_=n(336524),m=n(803126),u=n(795033);n(120440);var p=n(511570),f=n.n(p),g=n(686549),x=n(816565),h=n(284467),b=n(977916),y=n(919073),T=n(236631),w=n(130249),v=n(192075),j=n(444423),E=n(621689),k=n(244205),A=n(904017),C=n(894210),I=n(294383);let N="cooper_template_ui--tile--jISg-",S="cooper_template_ui--detailTileContainer--jd6Lz",O="cooper_template_ui--detailTile--9845k",P="cooper_template_ui--hoverOverlayTarget--p--MK",M="cooper_template_ui--rowMargin--swZAo",R="cooper_template_ui--rowContainer--XSWCI",L="cooper_template_ui--rowIconContainer--2MsQm",D="cooper_template_ui--rowMetadataContainer--za0YG",F="cooper_template_ui--rowMetadataTitle--iceIC",B="https://help.figma.com/hc/articles/31271693614487",U={kVIFPx:"x19kjcj4",$$css:!0},z={image:e=>[U,{kZKoxP:null!=e?"x16ye13r":e,$$css:!0},{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e)}]};function W(){return(0,a.jsx)("div",{className:T.s.flexColumn.alignCenter.pt32.pb16.$,children:(0,a.jsx)("div",{className:T.s.mxAuto.w24.h24.$,children:(0,a.jsx)(i.k,{})})})}let G="cooper-tile-id";function q({name:e,label:t,thumbnailUrl:n,additionalThumbnailUrls:r,onClick:i,libraryKey:s,truncateHoverText:l=!1}){let{numComponents:d}=(0,I.zA)(s),c=d>0?l?(0,v.t)("cooper.templates.view_n_templates_short",{numTemplates:d}):(0,v.t)("cooper.templates.view_n_templates",{numTemplates:d}):l?(0,v.t)("cooper.templates.view"):(0,v.t)("cooper.templates.view_templates");return(0,a.jsx)(o.E,{onClick:i,htmlAttributes:{"data-testid":`templateDetailTile.${e}`},className:P,children:(0,a.jsxs)("div",{className:S,children:[(0,a.jsxs)("div",{className:O,children:[n&&r&&r.length>0?(0,a.jsx)("div",{className:"cooper_template_ui--thumbnailContainer--OH-6w",children:(0,a.jsx)(b.A,{thumbnailUrl:n,additionalThumbnailUrls:r||[],thumbnailType:y.F.COOPER,noBorder:!0})}):(0,a.jsx)("div",{className:T.s.flex.justifyCenter.itemsCenter.overflowHidden.wFull.hFull.$,children:(0,a.jsx)(j.Q,{src:n||void 0,alt:e,draggable:!1,imageStyle:z.image("100%"),loading:"lazy",crossOrigin:"use-credentials",fadeInOnLoad:!0})}),(0,a.jsx)(et,{variant:"view",buttonText:c,ariaLabel:e})]}),(0,a.jsx)(J,{title:e,subtitle:t})]})})}function H(){return(0,a.jsxs)("div",{className:"cooper_template_ui--detailTilePlaceholderContainer--bq545",children:[(0,a.jsx)("div",{className:N,children:(0,a.jsx)("div",{className:T.s.flex.justifyCenter.itemsCenter.overflowHidden.wFull.hFull.$,children:(0,a.jsx)(h.Qp,{className:"cooper_template_ui--tilePlaceholderImage--AwOc0",animationType:h.JR.LIGHT_SHIMMER,primary:!0})})}),(0,a.jsxs)("div",{className:"cooper_template_ui--tilePlaceholderMetadataContainer--JDVbm",children:[(0,a.jsx)("div",{style:{display:"table-row"},children:(0,a.jsx)(h.Wi,{className:"cooper_template_ui--tilePlaceholderTitle--z-TuN",animationType:h.JR.LIGHT_SHIMMER})}),(0,a.jsx)("div",{style:{display:"table-row"},children:(0,a.jsx)(h.Wi,{className:"cooper_template_ui--tilePlaceholderSubtitle--UslXp",animationType:h.JR.LIGHT_SHIMMER})})]})]})}function K({name:e,thumbnailUrl:t,onPointerDown:n,isAboveFold:i=!1,dimensions:o,assetTypeName:s,hasVideo:l=!1}){let[d,c]=r.useState(!1);return(0,a.jsxs)("div",{className:"cooper_template_ui--tileContainer--OsY1W",children:[(0,a.jsx)(ee,{onPointerDown:n,isSquareTile:!o,shouldShowPlusButtonOnHover:!0,dimensions:o,ariaLabel:s??e,hasVideo:l,children:(0,a.jsx)("span",{className:T.s.flex.justifyCenter.itemsCenter.overflowHidden.wFull.hFull.$,children:(0,a.jsx)(x.oW,{onLoad:()=>{c(!0)},src:t,alt:e,draggable:!1,style:{objectFit:"contain",transition:"opacity 0.1s ease-in-out",opacity:d?1:0,borderRadius:"var(--radius-medium)",...o?{aspectRatio:o.width/o.height,width:"100%",height:"auto"}:{width:"100%",height:"100%"}},loading:i?"eager":"lazy"})})}),s&&(0,a.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1n0bwc9",children:s})]})}function V({onPointerDown:e}){let t=(0,A.T5)("useAllowInternalTemplatesCooper"),n="loaded"===t.status?t.data?.name:void 0;return(0,a.jsx)(o.E,{onClick:e,className:P,"data-testid":"create-new-template-tile",children:(0,a.jsxs)("div",{className:S,children:[(0,a.jsxs)("div",{className:O,children:[(0,a.jsx)(d.Q,{}),(0,a.jsx)(et,{variant:"add",buttonText:(0,v.t)("cooper.templates.blank_template")})]}),(0,a.jsx)(J,{title:(0,v.t)("cooper.templates.new_template"),subtitle:n&&(0,v.t)("cooper.templates.for_plan_name",{planName:n})})]})})}function $({templateType:e,iconUrl:t,onPointerDown:n}){let{name:r,dimension:i}=e,o=i.x/i.y;return(0,a.jsx)("button",{onClick:n,className:P,"data-testid":"start-from-scratch-template-tile",children:(0,a.jsxs)("div",{className:S,children:[(0,a.jsxs)("div",{className:O,children:[(0,a.jsx)("div",{className:f()("cooper_template_ui--startFromScratchAsset--5ppxw",o>1?"cooper_template_ui--horizontalAspectRatio--CE1m4":"cooper_template_ui--verticalAspectRatio--5b2Ap"),style:o<2.5&&o>.4?{aspectRatio:i.x/i.y}:void 0,children:t&&(0,a.jsx)(x.oW,{src:t,alt:r,draggable:!1,style:{objectFit:"contain",width:"12px",height:"12px"},loading:"lazy"})}),(0,a.jsx)(et,{variant:"add",buttonText:(0,v.t)("cooper.templates.add_blank"),ariaLabel:r})]}),(0,a.jsx)(J,{title:r,subtitle:`${i.x} x ${i.y}`})]})})}function Y({templateType:e,iconUrl:t,onPointerDown:n}){let{name:i,dimension:s}=e,l=r.useRef(null),d=(0,I.o6)(l)?{"data-tooltip-type":C.Ib.TEXT,"data-tooltip":i,"data-tooltip-timeout-delay":300}:{};return(0,a.jsx)("div",{className:M,children:(0,a.jsxs)(o.E,{onClick:n,actionOnPointerDown:!0,htmlAttributes:{"data-element-target":G},className:R,...d,children:[t?(0,a.jsx)("div",{className:L,children:(0,a.jsx)(x.oW,{src:t,alt:i,draggable:!1,style:{objectFit:"contain",width:"12px",height:"12px"},loading:"lazy"})}):(0,a.jsx)(Q,{}),(0,a.jsxs)("div",{className:D,children:[i&&(0,a.jsx)("span",{ref:l,className:F,children:i}),s&&(0,a.jsx)("span",{className:"cooper_template_ui--rowMetadataSubtitle--RjcR9",children:`${s.x} x ${s.y}`})]})]})})}function Z({onPointerDown:e}){return(0,a.jsx)("div",{className:M,children:(0,a.jsxs)(o.E,{onClick:e,actionOnPointerDown:!0,className:R,recordingKey:"cooperStartFromScratchCustomSize",children:[(0,a.jsx)(Q,{}),(0,a.jsx)("div",{className:D,children:(0,a.jsx)("span",{className:F,children:(0,v.t)("cooper.templates.custom_size")})})]})})}function Q(){return(0,a.jsx)("div",{className:L,children:(0,a.jsx)(c.q,{})})}function X({numColumns:e,children:t}){let n=(0,I.VU)(),r=(0,u.md)(E.ce),i=(0,u.md)(E.Lm),o=(0,u.md)(E.U_),s=r.length>0,l=s&&n,d=n&&i.type===E.mF.TEMPLATES,c="COMMUNITY"===o&&!s,_=f()({"cooper_template_ui--grid---JmtS cooper_template_ui--gridBase--AIKjP":!n,"cooper_template_ui--teamTemplateGrid--jNTGc cooper_template_ui--gridBase--AIKjP":n&&!d&&!c&&!l,"cooper_template_ui--firstPartyAssetGrid--YjA3q cooper_template_ui--gridBase--AIKjP":n&&(c||l),"cooper_template_ui--templateListGrid--4vaYJ cooper_template_ui--gridBase--AIKjP":d&&!c&&!l});return(0,a.jsx)("div",{className:_,style:{"--num-columns":e||3},children:t})}function J({title:e,subtitle:t}){let n=r.useRef(null),i=(0,I.o6)(n)?{"data-tooltip-type":C.Ib.TEXT,"data-tooltip":e,"data-tooltip-timeout-delay":300}:{};return(0,a.jsxs)("div",{className:"cooper_template_ui--tileMetadataContainer---6Z7k",children:[e&&(0,a.jsx)("div",{style:{display:"table-row"},children:(0,a.jsx)("span",{ref:n,...i,className:"cooper_template_ui--tileMetadataTitle--Rkqhq",children:e})}),t&&(0,a.jsx)("div",{style:{display:"table-row"},children:(0,a.jsx)("span",{className:"cooper_template_ui--tileMetadataSubTitle--G7BsU",children:t})})]})}function ee({children:e,onPointerDown:t,isSquareTile:n,shouldShowPlusButtonOnHover:i,dimensions:o,ariaLabel:s,hasVideo:l=!1}){let d=r.useRef(null),c=r.useCallback(e=>{if("Enter"===e.key||" "===e.key){e.preventDefault();let n=window.innerWidth/2,a=window.innerHeight/2,r=new PointerEvent("pointerdown",{pointerId:0,pointerType:"virtual",clientX:n,clientY:a,bubbles:!0});t({...r,target:e.currentTarget,currentTarget:e.currentTarget,preventDefault:()=>{},stopPropagation:()=>{},stopImmediatePropagation:()=>{},isDefaultPrevented:()=>!1,isPropagationStopped:()=>!1,persist:()=>{},nativeEvent:r});let i=new PointerEvent("pointerup",{pointerId:0,pointerType:"virtual",clientX:n,clientY:a,bubbles:!0});document.dispatchEvent(i)}},[t]);return(0,a.jsxs)(w.e6,{ref:d,onClick:t,actionOnPointerDown:!0,htmlAttributes:{"data-element-target":G,"data-testid":"insertableAssetTile",onKeyDown:c},className:f()(n?"cooper_template_ui--templateAssetTile--KzBnr":N,{[P]:i}),style:{position:"relative",...o?{aspectRatio:o.width/o.height,width:"100%",height:"auto"}:{aspectRatio:1}},trackingProperties:{trackingDescriptor:k.c.TEMPLATE_COVER_TILE},children:[i&&(0,a.jsx)(et,{variant:"add",buttonText:d.current?.clientWidth&&d.current.clientWidth>140?(0,v.t)("cooper.templates.add_template"):(0,v.t)("cooper.templates.add"),ariaLabel:s}),e,l&&(0,a.jsx)(_._,{className:"x10l6tqk x1bfpjnn x1473dw x1n327nk x47corl x192jxwq xmkeg23 x1y0btm7 x1co876m x68m4m9 xwa2v1s"})]})}function et({variant:e,buttonText:t,ariaLabel:n}){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"cooper_template_ui--templateTileHoverOverlay--TZ2iV","aria-label":n||t,role:"button",children:"add"===e?(0,a.jsx)(s.$n,{iconPrefix:(0,a.jsx)(m.e,{style:{"--color-icon":"white"}}),htmlAttributes:{tabIndex:-1},variant:"primary",children:t}):(0,a.jsx)(o.E,{className:"cooper_template_ui--hoverOverlayWhiteButton--ePHj2",htmlAttributes:{tabIndex:-1},children:t})})})}function en({isWide:e=!1}){return e?(0,a.jsx)(s.IK,{variant:"secondary",onClick:()=>(0,g.FJ)(B,"_blank"),children:(0,v.tx)("cooper.templates.show_me_how")}):(0,a.jsx)(l.N.Button,{href:B,variant:"secondary",trusted:!0,newTab:!0,children:(0,v.tx)("cooper.templates.show_me_how")})}},294383:(e,t,n)=>{n.d(t,{Gu:()=>Q,Ij:()=>ey,M1:()=>ed,Nd:()=>eo,TE:()=>X,Th:()=>Z,Ui:()=>er,VU:()=>ee,XH:()=>el,_M:()=>es,a2:()=>ep,aZ:()=>ea,fp:()=>ei,g5:()=>en,gF:()=>eu,jL:()=>eg,jv:()=>ec,o6:()=>ex,pI:()=>et,pK:()=>Y,v3:()=>J,zA:()=>ef});var a=n(716976),r=n(903927);if(443==n.j)var i=n(382629);var o=n(266808),s=n(170627);if(443==n.j)var l=n(724744);var d=n(264993);if(443==n.j)var c=n(926653);var _=n(980852),m=n(795033),u=n(949701);if(443==n.j)var p=n(666875);var f=n(166887),g=n(833805),x=n(997477),h=n(967782),b=n(192075),y=n(171916),T=n(482996),w=n(887555),v=n(292168);if(443==n.j)var j=n(816622);if(443==n.j)var E=n(253021);if(443==n.j)var k=n(621689);if(443==n.j)var A=n(774522);if(443==n.j)var C=n(253530);var I=n(285626),N=n(470876),S=n(488355),O=n(363773),P=n(354114),M=n(772523),R=n(553065),L=n(74620),D=n(211862),F=n(932709),B=n(944350),U=n(59849),z=n(445046),W=n(904017),G=n(31786);if(443==n.j)var q=n(930931);if(443==n.j)var H=n(694097);function K(e){let t=new Map,n=new Map;return e.forEach(e=>{let n=e.containing_frame?.containingStateGroup?.nodeId;n&&V(t,n,e)}),e.forEach(e=>{if(e.containing_frame?.containingStateGroup?.nodeId)return;let a=e.containing_frame?.nodeId||e.containing_frame?.pageId,r=e.containing_frame?.name||e.containing_frame?.pageName,i=e.containing_frame?.sortPosition??null;a&&r&&(V(t,a,e),n.set(a,{name:r,node_id:a,sort_position:i}))}),{groupingMap:t,containingFrameMap:n}}function V(e,t,n){let a=e.get(t);a?a.push(n):e.set(t,[n])}function $(e,t){return[...e.entries()].map(([e,n])=>{let a=t.get(e)||[];return{name:n.name,node_id:n.node_id,sort_position:n.sort_position,components:a,thumbnail_url:a[0]?.thumbnail_url}})}function Y(){return 0===(0,C.Wn)().length}function Z(){let e=(0,L.eY)(),t=(0,C.gI)();if(0===t.length)return null;let n=t[0];if(n){let t=e.get(n);if(t){let n=t.symbolId;if(n)return e.get(n)?.sourceLibraryKey}}return null}var Q=(e=>(e.NEW_FILE_MODAL="NEW_FILE_MODAL",e.LEFT_RAIL="LEFT_RAIL",e))(Q||{});let X=a.createContext(null);function J(){let e=a.useContext(X);if(!e)throw Error("useCooperTemplateViewType must be used within a CooperTemplateViewTypeContext");return e}function ee(){return"LEFT_RAIL"===J()}function et(){let e=(0,f.U)(),t=(0,r.d4)(e=>e.search.sessionId),[n,i]=(0,m.fp)(k.ce),[o,s]=(0,m.fp)(k.EC),[l,d]=(0,m.fp)(k.xB),[c,_]=(0,m.fp)(k.Fs),u=n.trim(),[x]=(0,p.A)(u,200),h=J(),b=(0,N.Gi)(),{teamTemplates:y,requestLoadMore:T,status:j}=(0,N.qY)(x,B._Y.COOPER,"NEW_FILE_MODAL"===h?16:10),E=(0,W.X$)("useCooperTemplatesSearch"),A=(0,W.EV)(E).unwrapOr(!1),C=(0,S.j)(),I=b?.type==="team"&&A,O=b?.type==="org"?b.entity.id:void 0,P=I?b.entity.id:void 0,[{data:M,status:R}]=(0,g.IT)((0,q.V)({query:x,sort_by:w.e.Search.POPULAR,resource_type:[v.vt.COOPER_TEMPLATE_ASSET],org_id:O,team_id:P,include_content_for_cooper:!0}),{enabled:C&&!!(O||P)}),[{data:L,status:D}]=(0,g.IT)((0,q.V)({query:x,sort_by:w.e.Search.POPULAR,resource_type:[v.vt.COOPER_TEMPLATE_ASSET],include_content_for_cooper:!0,include_category_slug:!0,include_tags:!0}));return a.useEffect(()=>{u!==x?(s(!0),d(!0),_(!0)):(s("loading"===j),d("loading"===R),_("loading"===D))},[u,x,R,D,j,s,d,_]),o||l||c||e("template_picker_search_query_result",{query:u,searchSessionId:t,productType:"cooper",orgId:O,teamId:P,templateFileResults:y.length,internalAssetResults:M?.length??0,communityAssetResults:L?.length??0,entrypoint:h}),{searchQuery:n,trimmedSearchQuery:u,setSearchQuery:i,templateResults:y,internalAssetResults:"loaded"===R?M:[],communityAssetResults:"loaded"===D?L:[],requestLoadMore:T}}function en(e){let t=(0,T.SI)(),n=(0,m.Xr)(k.Tw),i=(0,H.Z)("cooper_template_picker_dismissed"),l=(0,r.d4)(e=>e.search.sessionId),d=(0,r.wA)();return a.useCallback(()=>{i({source:e}),l&&d(y.ky()),t?n(!1):s.l7.user("Create blank template",()=>{let e=o.Z64.CUSTOM,t=o.fZl?.getCooperTemplateTypeSize(e);if(!t){console.error("No size found for Cooper template type",e);return}let a=o.IPu?.createBlankChildAtCoord(0,0,t,"start_from_scratch",!0,e);a&&(P.Y5.triggerAction("enter-focus-view"),o.glU?.panToNode(a,!1)),n(!1)})},[n,i,e,l,d,t])}function ea(){let e=(0,m.Xr)(k.Tw),t=(0,m.Xr)(k.Hk),n=(0,D.tS)();return(0,a.useCallback)(()=>{n&&(t(!0),e(!1),o.Ez5?.cooperFocusView().exitFocusedNodeView(),o.Ez5?.cooperFocusView().zoomToGrid(0))},[e,n,t])}function er({library:e}){let t=(0,m.Xr)(k.Tw),n=(0,D.tS)(),i=(0,r.wA)(),s=function(e){let[t]=(0,g.IT)((0,O.u)(e),{enabled:!0});return(0,a.useMemo)(()=>{if("loading"===t.status)return{status:"loading",data:[]};let e=t.data?.components||[],n=t.data?.state_groups||[],{groupingMap:a,containingFrameMap:r}=K(e);return{status:"loaded",data:[...n.map(e=>({name:e.name,node_id:e.node_id,components:a.get(e.node_id)||[],thumbnail_url:a.get(e.node_id)?.[0]?.thumbnail_url,sort_position:null})),...$(r,a)]}},[t.data,t.status])}(e.library_key),d=s.data;return(0,a.useCallback)(()=>{if(!n||"loaded"!==s.status)return;let a=d.flatMap(e=>e.components);if(0===a.length)return;let r={row:0,col:0};(o.Ez5?.canvasGrid().canvasGridArray.getCopy()??[]).length>0&&(r={row:(o.Ez5?.canvasGrid().getLastChildCoord()??r).row+1,col:0}),a.forEach((t,n)=>{let a=ei({getGridCoord:()=>({row:r.row,col:r.col+n}),libraryKey:e.library_key,detatchInstances:!1,selectAfterInsert:0===n});i((0,I.FU)({item:t,canvasPosition:new l.M,percentageOffset:new l.M,insertAsChildOfCanvas:!0,insertionCallback:a,isClick:!1,selectAfterInsert:!1,sourceForTracking:"cooper-add-all-templates"}))}),t(!1)},[t,n,i,d,s.status,e.library_key])}function ei({getGridCoord:e,detatchInstances:t=!1,selectAfterInsert:n=!0}){return(a,r,l)=>{if(0===a.length)return;if(t){let e=s.l7.user("cooper-detach-instances",()=>o.glU?.detachInstances(a,!1));if(!e||0===e.length)return;a=e}let d=a.map(e=>(0,_.UN)().get(e)).filter(i.Vq),c=a[0],m=o.IPu?.getNodeToReplace();if(m)o.Ez5?.canvasGrid().replaceChildInGrid(c,m);else{let{row:t,col:n}=e(!l&&r?r:{x:-1/0,y:-1/0}),a=o.Ez5?.canvasGrid();a?.insertChildAtCoord(c,t,n,"cooper-add-template-panel")}if(n){let e=(0,_.UN)().get(c);e&&o.Egt?.replaceSelection([e.guid],!0),1===d.length&&d[0]?(d[0].isInstance&&(0,h.YQ)({id:E.qA}),o.Ez5?.cooperFocusView().isFocusedNodeViewEnabled()?o.Ez5?.cooperFocusView().focusSelectedNodeInFocusedNodeView(!0):setTimeout(()=>{o.Ez5?.cooperFocusView().panToSelectedNodeIfOutsideViewport(.6)},0)):console.warn("Expected exactly one node to be inserted, but found",d.length)}M.sq(c,!0)}}function eo(e){let[t,n]=(0,m.fp)(k.L1),r=t[e]??0;return{scrollPosition:r,scrollRef:(0,a.useRef)(null),onScroll:(0,a.useCallback)((t,a)=>{n(e,t)},[n,e]),resetScrollTop:(0,a.useCallback)(e=>{for(let t in k.mF){let a=k.mF[t];e.includes(a)||n(a,0)}},[n])}}function es(e){let t=U.iQA.Query({libraryKey:e}),[n]=(0,g.IT)(t,{enabled:!0});return(0,a.useMemo)(()=>{if("loading"===n.status)return{status:"loading",data:{templates:[]}};let t=(0,u.oA)(n.data?.libraryKeyToFile?.file);if(!t||!e)return{status:"loaded",data:{templates:[]}};let a=t.libraryHierarchyPaths.flatMap(e=>e.components),r=t.libraryHierarchyPaths.flatMap(e=>e.stateGroups),i=[...a.map(t=>(0,z.Qp)(t,{type:"team",file:{key:"",teamId:null,name:"",libraryKey:e}}))].sort(A.go),o=[...r.map(t=>{let n=(0,z.SS)(t,{type:"team",file:{key:"",teamId:null,name:"",libraryKey:e}}),a=[],r=[];return t.states&&"data"in t.states&&Array.isArray(t.states.data)?r=t.states.data:Array.isArray(t.states)&&(r=t.states),Array.isArray(r)&&r.forEach(t=>{a.push((0,z.Qp)(t,{type:"team",file:{key:"",teamId:null,name:"",libraryKey:e}}))}),n.states=a,n})],{groupingMap:s,containingFrameMap:l}=K(i);return{status:"loaded",data:{templates:[...o.map(e=>{let t=Array.isArray(e.states)?e.states?.map(e=>({...e,type:G.PW.COMPONENT})):[];return{name:e.name,node_id:e.node_id,components:t,thumbnail_url:t[0]?.thumbnail_url,sort_position:null}}),...$(l,s)],template_name:t.template?.name,publisher_name:t.template?.publishedByUserNullable?.name,description:t.template?.description}}},[n.data,n.status,e])}function el(){let e=(0,a.useMemo)(()=>e=>{let t=e.mirror.selectionProperties.cooperTemplateData;if((0,R.gl)(t))return R.oV;if(!t)return o.Z64.CUSTOM;let n=t.type||"CUSTOM";return o.Z64[n]},[]);return(0,r.d4)(e)}function ed(){let e=el(),t=eh();return a.useMemo(()=>{if((0,R.gl)(e)||!t)return null;for(let t of o.fZl?.getAllExceptCustomTemplateGroups()||[]){let n=t.types.find(t=>t.type===e);if(n)return n.name}return null},[e,t])}function ec(e){return a.useMemo(()=>{if(!e)return null;for(let t of o.fZl?.getAllExceptCustomTemplateGroups()||[]){let n=t.types.find(t=>t.type===e);if(n)return n.name}return null},[e])}function e_(){let{getDynamicConfig:e}=(0,x.Fj)("cooper_asset_type_to_category_and_tag_map");return e().get("asset_type_map",{})}function em(e,t){let n={category_slug:void 0,tags_text:void 0,tags_slug:void 0};if(!e||(0,R.gl)(e))return n;try{return t[o.Z64[e]]||n}catch(e){return console.error("Error getting asset type fields:",e),n}}function eu(e){let t=e_();return a.useMemo(()=>em(e,t),[e,t])}function ep(){let e=el(),t=eh(),n=e_();return a.useMemo(()=>em(t?e:null,n),[e,n,t])}function ef(e){let t=(0,F.bj)([(0,c.l)(e)]),n=t.data;return{libraries:n,librariesIsLoading:"loading"===t.status,numComponents:n&&n[0]&&"num_components"in n[0]?n[0].num_components:0}}function eg(){let e=(0,j.LU)();return a.useCallback(()=>{s.l7.user("Duplicate as blank cooper asset",()=>{let t=null,n=o.Ez5?.getInsertGridCoord({x:-1/0,y:-1/0});if(!n){console.error("No insert grid coordinate found for duplicating cooper asset",n);return}t=(0,d.fn)((0,d.sH)(e))?o.IPu?.duplicateAsBlankCooperAsset(e,n.row,n.col,"duplicate_as_blank_cooper_asset"):o.IPu?.createBlankChildAtCoord(n.row,n.col,new l.M(1080,1080),"duplicate_as_blank_cooper_asset",!0,o.Z64.INSTA_POST_SQUARE)??null,o.Ez5?.cooperFocusView().isFocusedNodeViewEnabled()&&t&&o.Ez5?.cooperFocusView().focusNodeInFocusedNodeView(t,!0)})},[e])}function ex(e){let[t,n]=a.useState(!1);return a.useEffect(()=>{let t=()=>{e.current&&n(e.current.scrollWidth>e.current.clientWidth||e.current.scrollHeight>e.current.clientHeight)},a=requestAnimationFrame(t),r=new ResizeObserver(t);return e.current&&r.observe(e.current),()=>{cancelAnimationFrame(a),r.disconnect()}},[e]),t}function eh(){return 1===(0,r.d4)(e=>e.mirror.selectionProperties.numSelected||0)}let eb=()=>({[o.Z64.BANNER_STANDARD]:(0,b.t)("cooper.templates.banner_standard_pretty"),[o.Z64.BANNER_ULTRAWIDE]:(0,b.t)("cooper.templates.banner_ultrawide_pretty"),[o.Z64.BANNER_WIDE]:(0,b.t)("cooper.templates.banner_wide_pretty"),[o.Z64.CARD_HORIZONTAL]:(0,b.t)("cooper.templates.card_horizontal_pretty"),[o.Z64.CARD_VERTICAL]:(0,b.t)("cooper.templates.card_vertical_pretty"),[o.Z64.FACEBOOK_AD_PORTRAIT]:(0,b.t)("cooper.templates.facebook_ad_portrait_pretty"),[o.Z64.FACEBOOK_AD_SQUARE]:(0,b.t)("cooper.templates.facebook_ad_square_pretty"),[o.Z64.INSTA_POST_PORTRAIT]:(0,b.t)("cooper.templates.instagram_post_portrait_pretty"),[o.Z64.INSTA_POST_SQUARE]:(0,b.t)("cooper.templates.instagram_post_square_pretty"),[o.Z64.LINKEDIN_AD_LANDSCAPE]:(0,b.t)("cooper.templates.linked_in_ad_landscape_pretty"),[o.Z64.LINKEDIN_AD_SQUARE]:(0,b.t)("cooper.templates.linked_in_ad_square_pretty"),[o.Z64.LINKEDIN_AD_VERTICAL]:(0,b.t)("cooper.templates.linked_in_ad_vertical_pretty"),[o.Z64.LINKEDIN_POST_LANDSCAPE]:(0,b.t)("cooper.templates.linked_in_post_landscape_pretty"),[o.Z64.LINKEDIN_POST_PORTRAIT]:(0,b.t)("cooper.templates.linked_in_post_portrait_pretty"),[o.Z64.LINKEDIN_POST_SQUARE]:(0,b.t)("cooper.templates.linked_in_post_square_pretty"),[o.Z64.NAME_TAG_LANDSCAPE]:(0,b.t)("cooper.templates.name_tag_landscape_pretty"),[o.Z64.NAME_TAG_PORTRAIT]:(0,b.t)("cooper.templates.name_tag_portrait_pretty"),[o.Z64.PRINT_US_LETTER]:(0,b.t)("cooper.templates.print_us_letter_pretty")});function ey(e,{usePrettyName:t}){let n=(0,a.useMemo)(eb,[]),r=(0,a.useMemo)(()=>(o.fZl?.getAllExceptCustomTemplateGroups()||[]).flatMap(e=>e.types),[]),i=e_(),s=(0,a.useCallback)(e=>e?t?n[e.type]??e.name:e.name:null,[n,t]);return(0,a.useMemo)(()=>{let t=new Map;for(let n of e){if(!n||!n.component)continue;let{component:e,categorySlug:a,tags:l}=n,d=e.id;if(!d)continue;let c=null,_={width:e.min_node_width,height:e.min_node_height};if(_.width&&_.height){let e=r.filter(e=>e.dimension.x===_.width&&e.dimension.y===_.height);if(1===e.length)c=s(e[0])??null;else if(e.length>1){let t=null;if(a)for(let n of e){let e=o.Z64[n.type];if(!e)continue;let r=i[e];if(r&&r.category_slug===a){let e=!l||0===Object.keys(l).length;if(!e&&l){let t=Object.keys(l)[0];if(t){let n=l[t];n&&r.tags_slug?.includes(n)&&(e=!0)}}if(e){t=s(n);break}}}c=t??s(e[0])??null}}t.set(d,c)}return t},[e,r,i,s])}},774522:(e,t,n)=>{if(n.d(t,{AO:()=>_,Kq:()=>m,YS:()=>d,go:()=>p,r5:()=>u}),n(716976),443==n.j)var a=n(382629);var r=n(266808),i=n(170627);n(795033);var o=n(479414),s=n(596224);if(443==n.j)var l=n(585481);n(106170);let d=3,c=[r.Z64.FACEBOOK_AD_PORTRAIT,r.Z64.INSTA_POST_PORTRAIT,r.Z64.LINKEDIN_POST_PORTRAIT,r.Z64.LINKEDIN_POST_LANDSCAPE,r.Z64.LINKEDIN_AD_SQUARE,r.Z64.LINKEDIN_AD_VERTICAL,r.Z64.GOOGLE_MOBILE_BANNER_AD,r.Z64.GOOGLE_SKYSCRAPER_AD,r.Z64.PRINT_US_LETTER,r.Z64.POSTER,r.Z64.BANNER_STANDARD,r.Z64.BANNER_WIDE,r.Z64.BANNER_ULTRAWIDE,r.Z64.NAME_TAG_PORTRAIT,r.Z64.NAME_TAG_LANDSCAPE,r.Z64.INSTA_REEL_COVER,r.Z64.ZOOM_BACKGROUND,r.Z64.TIKTOK_POST];function _({dimensions:e,assets:t}){if(!t||0===t.length)return t;let{width:n,height:a}=e,r=[[504,360],[360,504],[612,792],[648,864],[576,288],[576,192],[576,144],[144,216],[216,144]],i=[{w:2100,h:1500},{w:1500,h:2100},{w:2550,h:3300},{w:2700,h:3600},{w:2400,h:1200},{w:2400,h:800},{w:2400,h:600},{w:600,h:900},{w:900,h:600}];for(let e=0;e<r.length;e++){let o=r[e];if(o&&n===o[0]&&a===o[1]){let r=i[e];return t.filter(e=>{if(!(0,s.XW)(e))return!1;let t=m(e);return!!t&&(t.width===n&&t.height===a||t.width===r?.w&&t.height===r?.h)})}}return t.filter(e=>{if(!(0,s.XW)(e))return!1;let t=m(e);return!!t&&t.width===n&&t.height===a})}function m(e){if(!(0,s.XW)(e))return;let t=e.content.component_v2?.min_node_width,n=e.content.component_v2?.min_node_height;return t&&n?{width:t,height:n}:void 0}function u({templateType:e,closeTemplatePicker:t,shouldInsertFrame:n,shouldEnterGridView:a,setDimensionsSubmenuOpen:o,setActiveTab:s,setCooperTemplateShouldUseAssetType:d}){i.l7.user("Create blank template",()=>{let i=r.fZl?.getCooperTemplateTypeSize(e),_=r.Ez5?.getInsertGridCoord({x:-1/0,y:-1/0});if(!i||!_){console.error("Failed fetch size and/or location for new template",i,_);return}let m=r.IPu?.createBlankChildAtCoord(_.row,_.col,i,"start_from_scratch",!n,e);m&&(a?(r.Ez5?.cooperFocusView().exitFocusedNodeView(),r.glU?.panToNode(m,!1),r.Egt?.replaceSelection([m],!1)):r.Ez5?.cooperFocusView().isFocusedNodeViewEnabled()?r.Ez5?.cooperFocusView().focusNodeInFocusedNodeView(m,!0):(setTimeout(()=>{r.Ez5?.cooperFocusView().panToNodeIfOutsideViewport(m,.6)},0),r.Egt?.replaceSelection([m],!1))),e===r.Z64.CUSTOM&&o(!0),e!==r.Z64.CUSTOM&&s&&d&&(s(l.x.TEMPLATES),c.includes(e)||d(!0)),t()})}function p(e,t){return(0,a.Vq)(e.sort_position)&&(0,a.Vq)(t.sort_position)?-(0,o.Ez)(e.sort_position,t.sort_position):e.name.localeCompare(t.name)}},694097:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(716976),r=n(166887);function i(e){let t=(0,r.U)();return(0,a.useCallback)(n=>{t(e,{...n})},[e,t])}},822852:(e,t,n)=>{n.d(t,{Te:()=>l,V6:()=>d,ew:()=>s});var a=n(812714),r=n(74620),i=n(211862),o=n(944350);function s(){let e=(0,r.p8)("pagesList");return e.some(t=>t.pageType!==e[0].pageType)}function l(){let e=(0,i.q5)();return e?.editorType===o._Y.DESIGN}function d(){let e=l(),t=s();return e&&(t||(0,a.k)().interop_pages)}},977710:(e,t,n)=>{n.d(t,{GO:()=>g,NQ:()=>h,er:()=>x,wO:()=>f,yH:()=>p});var a=n(638004),r=n(833805),i=n(550209);if(443==n.j)var o=n(582732);var s=n(887555),l=n(292168),d=n(845945),c=n(944350),_=n(208434),m=n(3234),u=n(470876);function p({limit:e=o.N,resourceTypes:t,teamId:n,orgId:l,caller:d,includeContent:c=!1,enableQuery:_=!0,sortBy:u=s.e.Browse.ALL_TIME,selfPublished:p}){let[{data:f,status:g,hasNextPage:x,isFetchingNextPage:h},{fetchNextPage:b}]=(0,r.IT)(m.a.ResourcesPaginatedQuery({resourceType:t,orgId:l,teamId:n,caller:d,pageSize:e,includeContent:c,sortBy:u,selfPublished:p}),{enabled:_&&(!!n||!!l)});return!_||n||l?{resources:f??[],loading:"loading"===g,hasNextPage:x??!1,isFetchingNextPage:h,fetchNextPage:b}:((0,i.$D)(a.e.COMMUNITY,Error("useInternalResources: teamId and orgId cannot both be undefined"),{extra:{resourceTypes:t,caller:d}}),{resources:[],loading:!1,hasNextPage:!1,isFetchingNextPage:!1,fetchNextPage:()=>{}})}function f({limit:e=o.N,orgId:t,caller:n,includeContent:a=!1}){return p({limit:e,resourceTypes:[l.vt.PLUGIN],teamId:void 0,orgId:t,caller:n,includeContent:a,enableQuery:!!t,sortBy:s.e.Browse.ALL_TIME})}function g({orgId:e,teamId:t,resourceType:n,planTier:a,sortBy:r,isTemplatesPublishingDisabledForOrg:i}){return p({resourceTypes:[n],limit:d.u8,orgId:e,teamId:t,caller:m.z.RESOURCE_HUB,includeContent:!0,enableQuery:(0,_.Pe)(a,n,i),sortBy:r})}function x(e,t,n,a=d.u8){let{templatesByTeam:r,isLoading:i}=(0,u.li)({teamId:t,editorType:c._Y.COOPER,pageSize:a+1,enabled:(0,_.Pe)(e,l.vt.COOPER_TEMPLATE_FILE,n)}),o=r?.templates??[],{templatesByTeam:s,isLoading:m}=(0,u.li)({teamId:t,editorType:c._Y.WHITEBOARD,pageSize:a+1,enabled:(0,_.Pe)(e,l.vt.FIGJAM_TEMPLATE,n)}),p=s?.templates??[],{templatesByTeam:f,isLoading:g}=(0,u.li)({teamId:t,editorType:c._Y.SLIDES,pageSize:a+1,enabled:(0,_.Pe)(e,l.vt.SLIDE_TEMPLATE,n)}),h=f?.templates??[],{templatesByTeam:b,isLoading:y}=(0,u.li)({teamId:t,editorType:c._Y.FIGMAKE,pageSize:a+1,enabled:(0,_.Pe)(e,l.vt.FIGMAKE_TEMPLATE,n)}),T=b?.templates??[];return{[c._Y.COOPER]:{templates:o,isLoading:i,hasMoreTemplates:o.length>a},[c._Y.WHITEBOARD]:{templates:p,isLoading:m,hasMoreTemplates:p.length>a},[c._Y.SLIDES]:{templates:h,isLoading:g,hasMoreTemplates:h.length>a},[c._Y.FIGMAKE]:{templates:T,isLoading:y,hasMoreTemplates:T.length>a}}}function h(e,t,n,a=d.u8){let r=e===c.Ag.ENTERPRISE,{teamTemplates:i,isLoading:o}=(0,u.e2)({orgId:t,editorType:c._Y.COOPER,areWorkspacesEnabled:r,numTemplatesPerTeam:a+1,filterByIds:null,enabled:(0,_.Pe)(e,l.vt.COOPER_TEMPLATE_FILE,n)}),s=i.flatMap(e=>e.templates.map(e=>e.template)),{teamTemplates:m,isLoading:p}=(0,u.e2)({orgId:t,editorType:c._Y.WHITEBOARD,areWorkspacesEnabled:r,numTemplatesPerTeam:a+1,filterByIds:null,enabled:(0,_.Pe)(e,l.vt.FIGJAM_TEMPLATE,n)}),f=m.flatMap(e=>e.templates.map(e=>e.template)),{teamTemplates:g,isLoading:x}=(0,u.e2)({orgId:t,editorType:c._Y.SLIDES,areWorkspacesEnabled:r,numTemplatesPerTeam:a+1,filterByIds:null,enabled:(0,_.Pe)(e,l.vt.SLIDE_TEMPLATE,n)}),b=g.flatMap(e=>e.templates.map(e=>e.template)),{teamTemplates:y,isLoading:T}=(0,u.e2)({orgId:t,editorType:c._Y.FIGMAKE,areWorkspacesEnabled:r,numTemplatesPerTeam:a+1,filterByIds:null,enabled:(0,_.Pe)(e,l.vt.FIGMAKE_TEMPLATE,n)}),w=y.flatMap(e=>e.templates.map(e=>e.template));return{[c._Y.COOPER]:{templates:s,isLoading:o,hasMoreTemplates:s.length>a},[c._Y.WHITEBOARD]:{templates:f,isLoading:p,hasMoreTemplates:f.length>a},[c._Y.SLIDES]:{templates:b,isLoading:x,hasMoreTemplates:b.length>a},[c._Y.FIGMAKE]:{templates:w,isLoading:T,hasMoreTemplates:w.length>a}}}},58399:(e,t,n)=>{n.d(t,{i:()=>y});var a=n(903927);if(443==n.j)var r=n(448897);var i=n(812714),o=n(883765),s=n(837975),l=n(192075),d=n(58212),c=n(260745),_=n(847282),m=n(211862),u=n(904017),p=n(382137),f=n(946996),g=n(655839),x=n(373224),h=n(649693),b=n(958251);function y(){let e;let t=(0,a.wA)(),{nudgeUpgradeRequest:n}=(0,g.q0)(),y=(0,i.k)().billing_remodel_downgrade_email_rerequest,T=(0,u.T5)("useUpgradeRequestModalOnPageLoad"),w=(0,m.q5)(),v=(0,_.QL)("entry_point")||"",j=(0,_.QL)("upgrade_request_type")||"",E=null!==w&&"in_editor"===j,k=E||(0,h.a_)(j);k&&(e=E?(0,b.wR)(w.editorType):h.TI[j]);let A=(0,r.K)(c.tc,v)??c.tc.UNKNOWN_DEEP_LINK,C=(0,r.K)(x.i,v)??x.i.UNKNOWN_DEEP_LINK,{handleUpgrade:I,getPendingRequest:N,getUpgradeEligibility:S,getIsUpgradeHandlerLoading:O}=(0,p.wH)({entryPoint:A,plan:T?.data?.key?.parentId&&T?.data?.key?.type?{id:T.data.key.parentId,type:T.data.key.type}:void 0}),P=O()||"loading"===T.status,M=y&&k&&!P;(0,s.R)(()=>{if(!M||!e){y&&j&&o.az.trackDefinedEvent("monetization_expansion.deeplink_request_flow_invalid",{upgradeType:k?j:"invalid",entryPoint:A,licenseType:e||"undefined",planType:T?.data?.key?.type,planId:T?.data?.key?.parentId||void 0,fileKey:w?.key});return}let a=S(e);if(o.az.trackDefinedEvent("monetization_expansion.deeplink_request_flow",{upgradeType:j,entryPoint:A,licenseType:e,upgradeEligibility:a,planType:T?.data?.key?.type,planId:T?.data?.key?.parentId||void 0,fileKey:w?.key}),a!==f.q.CAN_UPGRADE){let a=N(e);if(a){let{requestCanBeNudged:e,upgradeRequestId:r}=(0,g.qm)(a);e?n(r):t(d.F.enqueue({message:(0,l.t)("team_user.actions.request_sent_well_let_you_know")}))}return}I({licenseType:e,entryPoint:A,upgradeReason:C})({}),(0,_.EM)("entry_point"),(0,_.EM)("upgrade_request_type")},P,e=>!e)}},923256:(e,t,n)=>{n.d(t,{g:()=>d});var a=n(795033),r=n(380494),i=n(59849),o=n(381643),s=n(987224);let l=(0,a.Iz)(({orgId:e,eventType:t})=>(0,o.Z1)(i._ob.Query({orgId:e,eventType:t}),e=>!!e.currentUser.baseOrgUser?.orgUserFlag?.id)),d=(0,a.Iz)(e=>(0,a.eU)(t=>{let n=t(s._s);return n?t(l({orgId:n,eventType:e})):r.Qw.disabled()}))},792635:(e,t,n)=>{n.d(t,{V:()=>s});var a=n(812714),r=n(949701),i=n(449572),o=n(59849);function s(e){let t=(0,i.Rs)(o.InN,{},{enabled:(0,a.k)().dtm_deprecation_post_migration_onboarding});if(!e||!(0,a.k)().dtm_deprecation_post_migration_onboarding)return{isDraftsToMovePlan:!1,dtmMigrationCompleted:!1,starterTeamCreated:!1};let n=(0,r.oA)(t.data?.personalDraftToPlanDraftLocation),s=n?.planParentId===e.key.parentId,l=r.oA(n?.toDraftsFolder?.team?.trackTags)?.is_auto_created_for_dtm_migration??!1,d=n?.toDraftsFolder?.plan?.name,c=n?.planParentType,_=n?.planParentId;return{isDraftsToMovePlan:s,dtmMigrationCompleted:n?.status==="complete",starterTeamCreated:l,dtmMigrationPlanName:d,dtmPlanParentId:_,dtmPlanParentType:c}}},808242:(e,t,n)=>{n.d(t,{Sh:()=>l,Vc:()=>o,kw:()=>s});var a=n(380494),r=n(449572),i=n(59849);function o(e){let t=(0,r.Rs)(i.oj8,{fileKey:e},{enabled:!!e});if(null!==t.data&&!t.data?.file?.plan){let t={code:"nonNullableResult",path:[],retriable:!1,error:Error("No Plan found for file, key: "+e)};return a.Qw.error([t])}return t.transform(e=>e.file?.plan)}function s(e){let t=(0,r.Rs)(i.X39,{fileKey:e},{enabled:!!e});if(null!==t.data&&!t.data?.file?.currentPlanUser){let t={code:"nonNullableResult",path:[],retriable:!1,error:Error("No PlanUser found for file, key: "+e)};return a.Qw.error([t])}return t.transform(e=>e.file?.currentPlanUser)}function l(e){let t=(0,r.Rs)(i.Fvs,{teamId:e},{enabled:!!e});if(null!==t.data&&!t.data?.team?.plan){let t={code:"nonNullableResult",path:[],retriable:!1,error:Error("No Plan found for team, id: "+e)};return a.Qw.error([t])}return t.transform(e=>e.team?.plan)}},208434:(e,t,n)=>{if(n.d(t,{Fz:()=>g,LQ:()=>h,M0:()=>y,Pe:()=>b,W6:()=>w,i_:()=>T,kU:()=>x}),443==n.j)var a=n(951002);var r=n(812714),i=n(521262),o=n(192075),s=n(482996),l=n(212028),d=n(292168),c=n(218491),_=n(845945),m=n(944350),u=n(592726),p=n(643898),f=n(904017);function g(){let e=(0,u.iZ)(),t=(0,f.px)(),n=(0,f.S2)(),a=(0,f.sI)(t).unwrapOr(!1),r=(0,i.N)(`(max-width: ${_.YW}px)`);if("loading"===n.status)return!1;let o=n.data?.type===m.OL.ORG?n.data?.key.parentId:void 0;return!(!(0,s.yl)()||r||a||(0,p.nx)(e)&&o!==e?.external_restricted_org_id)}function x(){let e=(0,i.N)(`(max-width: ${_.YW}px)`);return!!((0,s.yl)()&&(0,s.IL)())&&!e}function h(e){return(e.data?.type===m.OL.ORG&&!!e.data.isResourceHubCmtyTabDisabled)??!1}function b(e,t,n){switch(e){case m.Ag.STUDENT:case m.Ag.PRO:{let e=new Set([d.vt.SLIDE_TEMPLATE,d.vt.COOPER_TEMPLATE_FILE,d.vt.COOPER_TEMPLATE_ASSET]);return((0,r.k)().make_template_discovery||(0,r.k)().make_template_discovery_plan_key)&&e.add(d.vt.FIGMAKE_TEMPLATE),e.has(t)}case m.Ag.ORG:case m.Ag.ENTERPRISE:{if(n)return new Set([d.vt.PLUGIN,d.vt.WIDGET]).has(t);let e=new Set([d.vt.PLUGIN,d.vt.WIDGET,d.vt.FIGJAM_TEMPLATE,d.vt.SLIDE_TEMPLATE,d.vt.COOPER_TEMPLATE_FILE,d.vt.COOPER_TEMPLATE_ASSET]);return((0,r.k)().make_template_discovery||(0,r.k)().make_template_discovery_plan_key)&&e.add(d.vt.FIGMAKE_TEMPLATE),e.has(t)}case m.Ag.STARTER:case null:return!1;default:return(0,a.S9)(e,!1)}}function y(e){switch(e){case l.t.PLUGINS:return(0,o.t)("community.view_bar.plugins");case l.t.WIDGETS:return(0,o.t)("community.view_bar.widgets");case l.t.FILES:return(0,o.t)("community.saves.all_files");default:return}}function T(e,t){switch(e){case c.M.PLUGINS:return(0,o.t)("community.view_bar.plugins");case c.M.FIGJAM_TEMPLATES:return t?(0,o.t)("community.resource_hub.figjam_templates"):(0,o.t)("categories.whiteboarding");case c.M.WIDGETS:return(0,o.t)("categories.widgets");case c.M.SLIDE_TEMPLATES:return(0,o.t)("categories.presentations");case c.M.LIBRARIES:return(0,o.t)("categories.libraries");case c.M.COOPER_TEMPLATES:return(0,o.t)("community.resource_hub.cooper_templates");case c.M.FIGMAKE_TEMPLATES:return(0,o.t)("community.resource_hub.figmake_templates");case c.M.RECENTLY_ADDED_TEMPLATES:return(0,o.t)("community.resource_hub.recently_added_templates");default:(0,a.xb)(e)}}function w(e){switch(e){case c.M.PLUGINS:return[d.vt.PLUGIN];case c.M.FIGJAM_TEMPLATES:return[d.vt.FIGJAM_TEMPLATE];case c.M.WIDGETS:return[d.vt.WIDGET];case c.M.SLIDE_TEMPLATES:return[d.vt.SLIDE_TEMPLATE];case c.M.COOPER_TEMPLATES:return[d.vt.COOPER_TEMPLATE_FILE];case c.M.FIGMAKE_TEMPLATES:return[d.vt.FIGMAKE_TEMPLATE];case c.M.RECENTLY_ADDED_TEMPLATES:return[d.vt.SLIDE_TEMPLATE,d.vt.COOPER_TEMPLATE_FILE,d.vt.FIGJAM_TEMPLATE,d.vt.FIGMAKE_TEMPLATE];case c.M.LIBRARIES:return[];default:(0,a.xb)(e)}}},623971:(e,t,n)=>{n.d(t,{G:()=>p,Q:()=>u});var a=n(104076),r=n(716976),i=n(812714),o=n(795033),s=n(511570),l=n.n(s),d=n(1188),c=n(278491),_=n(663450),m=n(199440),u=(e=>(e.FILE_BROWSER="file_browser",e))(u||{});function p({entryPoint:e}){return(0,a.jsx)(d.tH,{boundaryKey:"figment-debugger",fallback:(0,a.jsx)("div",{}),children:(0,a.jsx)(f,{entryPoint:e})})}function f({entryPoint:e}){let[t,n]=(0,o.fp)(_.eE);return(0,r.useEffect)(()=>{n(!!(0,m.wh)())},[]),t&&(0,i.k)().figment_debugger?(0,a.jsx)("div",{className:l()("file_browser"===e?"figment_debugger--fileBrowserContainer--KNMPr figment_debugger--container--4qsMx":"figment_debugger--container--4qsMx",c.s4,c.Dm),children:(0,a.jsx)(g,{})}):null}function g(){let[e,t]=(0,o.fp)(_.a4),[n,i]=(0,r.useState)([]),s=(0,r.useRef)(null),l=s.current&&s.current.value.length>0,d=l?n:e;return(0,a.jsxs)("div",{className:"figment_debugger--mainWrapper--Tty8t",tabIndex:0,"data-fullscreen-intercept":!0,children:[(0,a.jsx)(x,{children:(0,a.jsx)("input",{ref:s,placeholder:"\u{1F50E} Event name",className:"figment_debugger--searchBar--uECKp",onInput:t=>{let n=t.target.value.toLowerCase();n.length<3&&i([]),i(e.filter(e=>e.requestJson.event.toLowerCase().includes(n)))}})}),(0,a.jsx)(x,{children:(0,a.jsx)("button",{onClick:()=>{t("clear")},children:"[clear]"})}),l&&(0,a.jsx)(x,{children:"Showing "+d.length+" of "+e.length+" most recent events"}),d.map(e=>(0,a.jsx)(h,{req:e},e.requestJson.figment_debugger_uuid))]})}function x(e){return(0,a.jsx)("div",{className:"figment_debugger--sectionWrapper--Zr0-r","data-fullscreen-intercept":!0,children:e.children})}function h({req:e}){let[t,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),s=e.requestJson,l=(0,r.useMemo)(()=>t&&null!=s.properties?Object.entries(s.properties).map(([e,t])=>(0,a.jsxs)("div",{children:[e,": ",JSON.stringify(t)]},e)):[],[s,t]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"figment_debugger--logrow--dxWpW",tabIndex:0,role:"button",onClick:()=>{n(!t),o(!1)},"data-fullscreen-intercept":!0,children:[(0,a.jsx)("span",{children:t?"\uFF0D":"\uFF0B"}),"\xa0",(0,a.jsx)("span",{children:e.networkState===_.tM.SUCCESS?"\u{1F49A}":e.networkState===_.tM.FAILURE?"\u{1F494}":"\u{1F9E1}"}),"\xa0",(0,a.jsx)("span",{className:"figment_debugger--timestamp--BaHtN",children:s.sentAt.slice(11,16)}),"\xa0",s.event]}),t&&(0,a.jsxs)("div",{className:"figment_debugger--propertiesWrapper--hZGnc",children:[(0,a.jsx)("div",{className:"figment_debugger--propertiesButtonsRow--ZL1rH",children:(0,a.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(e.requestJson.properties)),o(!0)},children:["[",i?"copied":"copy","]"]})}),l]})]})}},855751:(e,t,n)=>{n.d(t,{X:()=>nv,W:()=>nj});var a=n(903927),r=n(812714),i=n(755444),o=n(819851),s=n(211862),l=n(288747),d=n(538829),c=n(104076),_=n(716976),m=n(65545),u=n(951002),p=n(293422),f=n(929302),g=n(894862),x=n(207321),h=n(266808),b=n(681958),y=n(980852),T=n(795033),w=n(949701),v=n(883765),j=n(686549),E=n(190028),k=n(633065),A=n(323673),C=n(219199),I=n(225582),N=n(681398),S=n(889438),O=n(555013),P=n(236631),M=n(130249),R=n(192075),L=n(659062),D=n(457923),F=n(276800),B=n(521348),U=n(833805),z=n(58212),W=n(957526),G=n(184070),q=n(283816),H=n(366535),K=n(111297),V=n(205729),$=n(418149),Y=n(592726),Z=n(944350),Q=n(754039),X=n(608175),J=n(346672),ee=n(600703),et=n(821655),en=n(369729),ea=n(263188),er=n(806484),ei=n(544394),eo=n(874191),es=n(259161),el=n(329821),ed=n(923256),ec=n(710211),e_=n(904017),em=n(134235),eu=n(982470);let ep="non_admin_billing_terms_banner_seen",ef=(0,ed.g)(ep),eg=ec.M4.Query({fetch:async e=>(await eu.w.getNonAdminBillingTermsBanner(e)).data.meta}),ex=ec.M4.Mutation(async e=>{await em.G.postOrgUserFlags({orgUserId:e.orgUserId,flags:{[ep]:!0}})});var eh=n(999083),eb=n(147046),ey=n(173982),eT=n(104836),ew=n(243442),ev=n(894210),ej=n(386216);function eE({team:e,openInvoiceUrls:t}){let n=(0,a.wA)();if(0===t.length)return null;let r={"data-tooltip-type":ev.Ib.TEXT,"data-tooltip":(0,R.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0};return(0,c.jsx)(M.$z,{onClick:()=>{t.length>1?n(eb.sf({view:"teamAdminConsole",teamId:e.id,teamAdminConsoleViewTab:ew.Iv.BILLING})):(0,j.FJ)(t[0],"_blank","noopener")},variant:"secondary",htmlAttributes:r,children:(0,R.t)("team_view.locked_proteam_admin_invoice_reminder_banner.cta",{invoiceCount:t.length})})}function ek(e){let t=e.team?.restrictions_list?.includes(Z.P4.LOCKED),n=(0,ey.Ti)({planId:e.team.id,planType:Z.OL.TEAM}),a=t?(0,R.tx)("team_view.locked_proteam_admin_invoice_reminder_banner.title"):(0,R.tx)("team_view.pastdue_proteam_admin_invoice_reminder_banner.title"),r=t?(0,R.tx)("team_view.locked_proteam_admin_invoice_reminder_banner.subtitle"):(0,R.tx)("team_view.pastdue_proteam_admin_invoice_reminder_banner.subtitle"),i=(0,eh.WI)(n.data?.map(e=>e.hosted_invoice_url)??[]);return(0,c.jsx)(K.fu,{name:"team_admin_open_invoice_reminder_banner",children:(0,c.jsx)(J.C,{content:{id:0,bannerType:ee.x1.WARN_SOFT,mainText:a,description:r,dismissible:!1,positionStatic:!0,icon:(0,c.jsx)(g.Z,{}),iconSize:"medium",button:{type:ee.MA.CUSTOM,element:(0,c.jsx)(eE,{team:e.team,openInvoiceUrls:i})}},onDismiss:F.lQ})})}var eA=n(609060),eC=n(51820),eI=n(451263),eN=n(607804),eS=n(850701),eO=n(483200),eP=n(443192),eM=n(901556),eR=n(845945),eL=n(278491),eD=n(244205),eF=n(244399),eB=n(822852),eU=n(558817),ez=n(217862),eW=n(392243),eG=n(797255),eq=n(74620),eH=n(937505),eK=n(174730),eV=n(434884),e$=n(853039),eY=n(643898),eZ=n(562311),eQ=n(268305),eX=n(595724),eJ=n(295253),e0=n(688009),e1=n(413253);n(120440);var e4=n(256384),e2=n(549571),e3=n(742549),e9=n(248043),e5=n(876793),e6=n(669436),e7=n(217409),e8=n(629560),te=n(827695),tt=n(751536),tn=n(611060),ta=n(470876),tr=n(141773),ti=n(299640),to=n(96213),ts=n(330),tl=n(919853),td=n(896348),tc=n(382827),t_=n(229796),tm=n(482996),tu=n(925658),tp=n(540983),tf=n(621689),tg=n(488355),tx=n(112773),th=n(483193),tb=n(319057),ty=n(366797),tT=n(631571),tw=n(76635);function tv(){let{openCooperPublishFlow:e}=(0,tx.t)();return(0,c.jsx)(M.e6,{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1r7xphn x1a33sea",onClick:()=>e("editor-pre-publish-banner"),trackingProperties:{trackingDescriptor:eD.c.PUBLISH_TEMPLATE,buttonContext:(0,R.t)("slides.templates.banner.publish_template_button"),productType:Z._Y.COOPER},children:(0,R.tx)("slides.templates.banner.publish_template_button")})}function tj(){return(0,c.jsx)(M.e6,{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk xkq88pg x1tk3asg x1ypdohk",onClick:()=>(0,j.FJ)(tp.qv,"_blank"),trackingProperties:{trackingDescriptor:eD.c.SHOW_ME_HOW,buttonContext:(0,R.t)("cooper.templates.show_me_how"),productType:Z._Y.COOPER},children:(0,R.tx)("cooper.templates.show_me_how")})}var tE=n(983930),tk=n(649266),tA=n(678184),tC=n(91478),tI=n(268389);function tN({manager:e,userCanEditFile:t,isUserConnected:n}){return(0,c.jsx)(tC.bL,{manager:e,width:"fit-content",children:(0,c.jsxs)(tI.vo,{children:[(0,c.jsx)(tI.Y9,{children:(0,c.jsx)(tI.hE,{children:t?(0,R.t)("multiplayer_upgrade_modal.content_saving"):(0,R.t)("multiplayer_upgrade_modal.content_reloading")})}),n||(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(tI.nB,{children:(0,R.t)("multiplayer_upgrade_modal.content_offline")})}),(0,c.jsx)(tI.wi,{children:(0,c.jsx)(tI.jk,{children:(0,c.jsx)(te.k,{size:"md"})})})]})})}var tS=n(523256),tO=n(472436),tP=n(803752),tM=n(524101),tR=n(582652),tL=n(147836);let tD=JSON.parse('{"safari":"16","firefox":"101","chrome":"99","edge":"121","deprecatedOn":"2024-03-18T08:00:00.000Z"}');var tF=n(253353),tB=n(104766),tU=n(316388);let tz={bannerId:ee.om.TestWarningBanner,Banner:function(e){let t=(0,s.q5)();if(t?._name==="_BANNERTEST PAYMENT"){let t={bannerType:ee.x1.WARN,icon:tU.A,mainText:"Payment failed",description:"Our last attempted charge was unsuccessful. Please update your payment source as soon as possible. File editing will be locked after 3 more failed attempts.",button:{buttonText:"Update payment",onClick:()=>{}},dismissible:!0};return(0,c.jsx)(e7.f,{...e,bannerContent:t})}return null},dataTestId:"test-warning-banner"},tW={bannerId:ee.om.TestOOMBanner,Banner:function(e){let t=(0,s.q5)();if(t?._name==="_BANNERTEST OOM"){let t={bannerType:ee.x1.WARN,icon:tU.A,mainText:"80% of memory used",customElem:(0,c.jsx)("div",{className:tF.DB,children:(0,c.jsx)(e8.wc,{memoryUsagePercent:80})}),description:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("b",{style:L.sx.fontSemiBold.$,children:"This file is almost out of browser memory."})," Remove content to lower memory use to 50% or less. This will ensure you can continue to work in this file safely."]}),button:{buttonText:"Show memory-reduction tips",onClick:()=>{}}};return(0,c.jsx)(e7.f,{...e,bannerContent:t})}return null},dataTestId:"test-oom-banner"},tG={bannerId:ee.om.BrowserDeprecationBanner,Banner:function(e){let{deprecatedOn:t,...n}=tD,a=(0,I.R)("day"),r=new Date(t);if(r>new Date(a.getTime()+24192e5)||!N.Ay.isUnsupportedBrowser(n))return null;let i=r>a?(0,R.t)("banner.browser_deprecation.description",{deprecationDate:r}):(0,R.t)("banner.browser_deprecation.description_now"),o={dismissible:!0,bannerType:ee.x1.WARN,icon:tU.A,mainText:(0,R.t)("banner.browser_deprecation.title"),description:i,button:{buttonText:(0,R.t)("banner.browser_deprecation.learn_more"),onClick:()=>C.Ay.redirect("https://help.figma.com/hc/articles/360039827194-Figma-browser-requirements","_blank")}};return(0,c.jsx)(e7.f,{...e,bannerContent:o})},dataTestId:"browser-deprecation-banner"},tq={bannerId:ee.om.CooperOldFileBanner,Banner:function(e){let t=(0,eN.to)();if(!(0,_.useMemo)(()=>{if(!t||!(0,eN.HH)())return!1;let e=(0,y.UN)();if(!e||!e.isValidScene)return[];let n=(0,b.bV)(e,"0:1");if(n.find(e=>"cooper_root"===e.name))return!0;let a=n.find(e=>"SLIDE_GRID"===e.type);return!!(a&&a.childrenNodes.find(e=>e.maxWidth!==h.IPu.gridMaxWidth()))},[t]))return null;{let t={dismissible:!1,bannerType:ee.x1.WARN,icon:tU.A,mainText:(0,R.t)("banner.cooper.old_file.title"),description:(0,R.t)("banner.cooper.old_file.description")};return(0,c.jsx)(e7.f,{...e,bannerContent:t})}},dataTestId:"cooper-old-file-banner"},tH={bannerId:ee.om.InteropPagesBanner,Banner:function(e){return(0,eB.V6)()?(0,c.jsx)(e7.f,{...e,bannerContent:{dismissible:!0,bannerType:ee.x1.WARN_SOFT,icon:tU.A,mainText:"[Internal] Interop pages",description:(0,c.jsxs)("span",{children:["We\u2019ve sunset interop pages, so this file might be wonky. Ping ",(0,c.jsx)("a",{href:"https://figma.slack.com/archives/C065U6BKPBR",target:"_blank",rel:"noopener noreferrer",children:"#feat-interop-pages"})," for help."]})}}):null},dataTestId:"interop-pages-banner"},tK={bannerId:ee.om.DesktopDeprecationBanner,Banner:function(e){let t=(0,k.GN)();if(null==t||T.zl.get(A.Pi))return null;let n=(0,R.t)("banner.desktop_app_deprecation.description",{deprecationDate:t.toDate()}),a={dismissible:!0,bannerType:ee.x1.WARN,icon:tU.A,mainText:(0,R.t)("banner.desktop_app_deprecation.title"),description:n,button:{buttonText:(0,R.t)("banner.desktop_app_deprecation.learn_more"),onClick:()=>C.Ay.unsafeRedirect("https://figma.com/downloads","_blank")},dismissedAtom:A.Pi};return(0,c.jsx)(e7.f,{...e,bannerContent:a})},dataTestId:"desktop-deprecation-banner"},tV={bannerId:ee.om.TestInfoBanner,Banner:function(e){let t=(0,s.q5)();if(t?._name==="_BANNERTEST EDU"){let t={bannerType:ee.x1.INFO,icon:tB.A,mainText:"File in Education Team",description:"This file is in an Education team. To keep editing this file after 00/00, verify that you're a student or educator.",button:{buttonText:"Verify status",onClick:()=>C.Ay.redirect("/education/apply",N.Ay.isIpadNative?void 0:"_blank")}};return(0,c.jsx)(e7.f,{...e,bannerContent:t})}return null},dataTestId:"test-info-banner"},t$={bannerId:ee.om.ProTeamPastDue,Banner:function(e){let t=(0,a.wA)(),n=(0,eT.cD)(),r=(0,a.d4)(e=>n?e.teams[n]:null),i=(0,eH.FC)(),o=n&&(0,eZ.canAdminTeam)(n,i),l=(0,s.q5)(),d=!!l?.canEdit,_=r&&r.subscription===Z.Qh.PAST_DUE,m={"data-tooltip-type":ev.Ib.TEXT,"data-tooltip":(0,R.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0};if(_&&!d){let n={bannerType:ee.x1.WARN_SOFT,icon:(0,c.jsx)(g.Z,{}),iconSize:"medium",mainText:o?(0,R.t)("banner.pro_team_past_due_revamp.title"):(0,R.t)("banner.pro_team_past_due_revamp.title_viewer"),description:o?(0,R.t)("banner.pro_team_past_due_revamp.subtitle.can_admin"):(0,R.t)("banner.pro_team_past_due_revamp.subtitle.no_admin"),button:o?{type:ee.MA.CUSTOM,element:(0,c.jsx)(p.$n,{onClick:()=>{t?.(eb.sf({view:"teamAdminConsole",teamId:r.id,teamAdminConsoleViewTab:ew.Iv.BILLING}))},variant:"secondary",htmlAttributes:m,children:(0,R.t)("banner.pro_team_past_due_revamp.cta")})}:void 0,dismissible:!1};return(0,c.jsx)(e7.f,{...e,bannerContent:n})}return null},dataTestId:"pro-team-past-due-banner"},tY={bannerId:ee.om.ExternalContentControlBanner,Banner:function(e){let t=(0,a.wA)(),n=(0,s.q5)(),r=(0,Y.iZ)(),i=(0,l.dq)(),o=(0,eY.R$)(r,i),d=(0,a.d4)(e=>{if(!o)return null;let t=e.orgById[r.external_restricted_org_id];return t?t.name:null});if(o&&d){let a=!!n&&n.viewerExportRestricted,r={bannerType:ee.x1.WARN,icon:tU.A,mainText:(0,R.tx)("external_collaboration_restricted.banner.title"),description:(0,R.tx)("external_collaboration_restricted.banner.restriction_description",{organizationName:d}),button:a?void 0:{buttonText:(0,R.t)("external_collaboration_restricted.banner.export_file"),onClick:()=>{n?.editorType==="design"?t(eS.u1({id:eL.C9})):t(H.to({type:tE.B,data:{pickerInfo:{selectionArea:0,canvasArea:0,nodeCounts:{selectionNodeCount:0,canvasNodeCount:0,selectionStickyCount:0,canvasStickyCount:0,selectionTableCount:0,canvasTableCount:0}}}}))}},dismissible:!1};return(0,c.jsx)(e7.f,{...e,bannerContent:r})}return null},dataTestId:"external-content-control-banner"},tZ={bannerId:ee.om.ProTeamChargeFailed,Banner:function(e){let t=(0,a.wA)(),n=(0,eT.cD)(),r=(0,a.d4)(e=>n?e.teams[n]:null),i=(0,eH.FC)(),o=n&&(0,eZ.canAdminTeam)(n,i),s=r&&r.subscription===Z.Qh.GRACE_PERIOD,l={"data-tooltip-type":ev.Ib.TEXT,"data-tooltip":(0,R.t)("billing.open_invoice_reminder.button_tooltip"),"data-tooltip-show-immediately":!0};if(s&&o){let n={bannerType:ee.x1.WARN_SOFT,icon:(0,c.jsx)(g.Z,{}),iconSize:"medium",mainText:(0,R.t)("banner.pro_team_charge_failed_revamp.title"),description:(0,R.t)("banner.pro_team_charge_failed_revamp.subtitle.can_admin"),button:{type:ee.MA.CUSTOM,element:(0,c.jsx)(p.$n,{onClick:()=>{t?.(eb.sf({view:"teamAdminConsole",teamId:r.id,teamAdminConsoleViewTab:ew.Iv.BILLING}))},variant:"secondary",htmlAttributes:l,children:(0,R.t)("banner.pro_team_past_due_revamp.cta")})},dismissible:!1};return(0,c.jsx)(e7.f,{...e,bannerContent:n})}return null},dataTestId:"pro-team-charge-failed-banner"},tQ={bannerId:ee.om.ProTeamNoMonthlySubEditorCountExceeded,Banner:function(e){let t=(0,a.wA)(),n=(0,eT.cD)(),r=(0,a.d4)(e=>n?e.teams[n]:null),o=(0,eH.FC)(),s=n&&(0,eZ.canAdminTeam)(n,o);if(r&&r.subscription===Z.Qh.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED){let a=s?(0,c.jsx)("span",{children:(0,R.tx)("banner.pro_team_no_monthly_sub.over_limit_as_admin.seat_rename",{contactSupportLink:(0,c.jsx)("a",{href:`mailto:${(0,i.W4)()}`,children:(0,R.tx)("banner.pro_team_no_monthly_sub.contact_support")})})}):(0,c.jsx)("span",{children:(0,R.tx)("banner.pro_team_no_monthly_sub.over_team_limit_without_admin.seat_rename",{teamName:r.name})}),o={bannerType:ee.x1.WARN,icon:tU.A,mainText:(0,R.t)("banner.pro_team_no_monthly_sub.locked"),description:a,button:s?{buttonText:(0,R.t)("banner.pro_team_no_monthly_sub.manage_plan"),onClick:()=>{t?.(eb.sf({view:"teamAdminConsole",teamId:n,teamAdminConsoleViewTab:ew.Iv.SETTINGS}))}}:void 0};return(0,c.jsx)(e7.f,{...e,bannerContent:o})}return null},dataTestId:"pro-team-no-monthly-sub-editor-count-exceeded-banner"},tX={bannerId:ee.om.ProTrialsExpiryBanner,Banner:function(e){let t=(0,a.wA)(),n=(0,s.q5)(),r=(0,eT.cD)(),i=(0,a.d4)(e=>r?e.teams[r]:null),o=(0,eH.FC)(),l=(0,a.d4)(e=>e.userTeamFlags),d=(0,a.Pj)(),_=(0,eV.q)({teamId:r,flag:eQ.lg});if(!i||!n)return null;let m=(0,eZ.canEditTeam)(i.id,o),u=(0,e$.oc)(i.id,o);if(eQ.ng.canSeeExpiredProTrialBanner(l,i,o)&&(u||m&&!_)){let a,r,o;u?(o=ee.x1.WARN_SOFT,a=m?(0,R.tx)("banner.pro_trial_expiry.locked_description",{lowerUsageLink:(0,c.jsx)("button",{onClick:e=>{e.preventDefault(),t?.(H.to({type:tA.v,data:{teamId:i.id}}))},children:(0,R.tx)("banner.pro_trial_expiry.lower_usage")}),upgradeLink:(0,c.jsx)(K.$z,{onClick:e=>{e.preventDefault();let n=d.getState();t(eO.WX({teamId:i.id,selectedView:n.selectedView}))},children:(0,R.tx)("banner.pro_trial_expiry.upgrade")})}):(0,R.tx)("banner.pro_trial_expiry.locked_description_for_viewer_on_team",{teamName:i.name}),r={buttonText:(0,R.t)("banner.pro_trial_expiry.move_this_file_cta"),onClick:()=>(0,eA.h)({key:n.key,name:n.name,folder_id:n.folderId,team_id:n.teamId,editor_type:n.editorType,parent_org_id:n.parentOrgId},null,t)}):(o=ee.x1.INFO,a=(0,R.tx)("banner.pro_trial_expiry.expiry_description",{teamName:i.name}),r={buttonText:(0,R.t)("banner.pro_trial_upgrade_cta.upgrade_to_professional"),onClick:()=>{let e=d.getState();t(eO.WX({teamId:i.id,selectedView:e.selectedView}))}});let s={bannerType:o,icon:tU.A,mainText:(0,R.t)("banner.pro_trial_expiry.title"),dismissible:!u,onDismiss:u?void 0:()=>{t(eM.bE({all_team_flags:[{team_id:i.id,flags:{[eQ.lg]:!0}}]}))},description:a,button:m?r:void 0};return(0,c.jsx)(e7.f,{...e,bannerContent:s})}return null},dataTestId:"pro-trials-expiry-banner"},tJ={bannerId:ee.om.StarterTeamOverFreeLimitAndLocked,Banner:function(e){let t=(0,a.wA)(),n=(0,eT.cD)(),r=(0,a.d4)(e=>n?e.teams[n]:null),i=(0,eH.FC)(),l=(0,o.m0)(),d=(0,o.ow)(),_=(0,a.Pj)(),m=s.q5()?.canEdit,u=n&&(0,eZ.canEditTeam)(n,i),p=r&&!(0,e$.n0)(r)&&!r.student_team&&(0,e$.oc)(r.id,i);if(p){let a=r.student_team_state===Z.kU.STUDENT_TEAM_CURRENT||r.student_team_state===Z.kU.STUDENT_TEAM_EXPIRED,i=!!n&&p&&!a;if(i&&!m){let a=!!r.stripe_customer_id,i=d?(0,R.t)("locked_team.banner.this_board_is_part_of_a_locked_team"):(0,R.t)("locked_team.banner.this_file_is_part_of_a_locked_team"),o=(0,c.jsx)("div",{style:L.sx.add({marginLeft:"-32px"}).$,children:(0,R.tx)(l?"locked_team.banner.all_of_this_teams_work_is_currently_view_only_dev_mode":"locked_team.banner.all_of_this_teams_work_is_currently_view_only",{learnMoreLink:u?(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),t?.(H.to({type:tk.t,data:{teamId:n,canEditTeam:!0}}))},children:(0,R.tx)("locked_team.banner.learn_more")})}):(0,c.jsx)(c.Fragment,{})})}),s=a?(0,R.t)("locked_team.banner.reactivate_professional"):(0,R.t)("locked_team.banner.upgrade_to_professional"),m={bannerType:ee.x1.WARN_SOFT,icon:(0,c.jsx)(x.s,{}),mainText:i,description:o,button:u?{buttonText:s,onClick:()=>{let e=_.getState();t(eO.WX({teamId:n,selectedView:e.selectedView}))},className:tF.Vg}:void 0};return(0,c.jsx)(e7.f,{...e,bannerContent:m})}if(!i&&!l){let a;a=u?(0,c.jsxs)("span",{children:[(0,c.jsxs)("b",{style:L.sx.fontSemiBold.$,children:[(0,R.tx)("banner.free_limit_locked.team_locked_over_starter_limits",{teamName:r.name})," "]}),(0,R.tx)("banner.free_limit_locked.upgrade_team_or_lower_usage",{teamName:r.name,learnMoreLink:(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),t?.(H.to({type:tA.v,data:{teamId:n}}))},children:(0,R.tx)("banner.free_limit_locked.learn_more")})})})]}):(0,c.jsxs)("span",{children:[(0,c.jsx)("b",{style:L.sx.fontSemiBold.$,children:(0,R.tx)("banner.free_limit_locked.team_locked_over_starter_limits",{teamName:r.name})})," ",(0,R.tx)("banner.free_limit_locked.ask_your_team_admin_for_details")]});let i={bannerType:ee.x1.WARN,icon:tU.A,mainText:(0,R.t)("banner.free_limit_locked.locked"),description:a,button:u?{buttonText:(0,R.t)("banner.free_limit_locked.upgrade_now"),onClick:()=>{let e=_.getState();t(eO.WX({teamId:n,selectedView:e.selectedView}))},className:tF.n3}:void 0};return(0,c.jsx)(e7.f,{...e,bannerContent:i})}}return null},dataTestId:"starter-team-over-free-limit-and-locked-banner"},t0={bannerId:ee.om.OrphanedOrgDraftsFile,Banner:function(e){let t=(0,s.q5)(),n=(0,l.dq)(),r=(0,a.d4)(Q.wA),i=null,o=null;if(i=n&&(0,w.oA)(t?.isAbandonedDraftFile),o=(0,w.oA)(t?.canMove)?(0,c.jsxs)(c.Fragment,{children:[(0,R.tx)("banner.orphaned_projects.move_to_project")," ",(0,c.jsx)(O.N_,{trusted:!0,target:"_blank",className:P.s.inline.ml4.$,href:"https://help.figma.com/hc/articles/4420549259799",children:(0,R.tx)("general.learn_more")})]}):(0,R.t)("banner.orphaned_projects.move_to_project.member",{orgName:r?.name??""}),i&&t){let t={bannerType:ee.x1.WARN,icon:tU.A,mainText:(0,R.t)("banner.orphaned_projects.file_in_an_abandoned_project"),description:o};return(0,c.jsx)(e7.f,{...e,bannerContent:t})}return null},dataTestId:"orphaned-org-drafts-file-banner"},t1={bannerId:ee.om.TeamAbandonedDraftsFile,Banner:function(e){let t=(0,s.q5)(),n=(0,l.dq)(),a=(0,w.oA)(t?.isAbandonedDraftFile),r=(0,eT.ol)();if(r&&!n&&a){let n=(0,w.oA)(t?.canMove)?(0,c.jsxs)(c.Fragment,{children:[(0,R.tx)("banner.orphaned_projects.move_to_project.team")," ",(0,c.jsx)(O.N_,{trusted:!0,target:"_blank",className:P.s.inline.ml4.$,href:"https://help.figma.com/hc/articles/4420549259799",children:(0,R.tx)("general.learn_more")})]}):(0,R.t)("banner.orphaned_projects.move_to_project.team_member",{teamName:r.name??""});if(t){let t={bannerType:ee.x1.WARN,icon:tU.A,mainText:(0,R.t)("banner.orphaned_projects.file_in_an_abandoned_project"),description:n};return(0,c.jsx)(e7.f,{...e,bannerContent:t})}}return null},dataTestId:"team-abandoned-drafts-file-banner"},t4={bannerId:ee.om.PersonalProjectDeprecatedFile,Banner:function(e){let t=(0,s.q5)(),n=(0,eT.cD)(),r=(0,a.d4)(e=>n?e.teams[n]:null),i=(0,l.dq)(),o=(0,a.wA)(),d=(0,eH.FC)();if(!(i&&t?.project&&(0,eW.n3)(t.project))&&!r&&t&&(0,e$.f4)(t.folderId,t.teamId,d)){let t={bannerType:ee.x1.WARN,icon:tU.A,mainText:(0,R.t)("banner.personal_projects.locked"),description:(0,c.jsx)(c.Fragment,{children:(0,R.tx)("banner.personal_projects.deprecation_message",{learnMoreLink:(0,c.jsx)("a",{href:"/pricing-faq#what-changes-for-me",children:(0,R.tx)("banner.personal_projects.learn_more")})})}),button:{buttonText:(0,R.t)("banner.personal_projects.back_to_files"),onClick:()=>o?.(eb.sf({view:"recentsAndSharing"}))}};return(0,c.jsx)(e7.f,{...e,bannerContent:t})}return null},dataTestId:"personal-project-deprecated-file-banner"},t2={bannerId:ee.om.EduGracePeriodAccessRestricted,Banner:function(e){let t=(0,s.q5)(),n=(0,eT.cD)(),r=(0,a.d4)(e=>n?e.teams[n]:null),i=(0,Y.iZ)(),o=(0,eF.nF)(),l=(0,a.d4)(e=>e.userEduGracePeriods);if(!n||!i)return null;if(r&&!o?.enabled&&t?.canEditIgnoreEduGracePeriod&&r&&(0,S.GU)(l,(0,S.cn)(i),n,!!r.student_team).showAccessRestricted){let t={bannerType:ee.x1.WARN,icon:tU.A,mainText:(0,R.t)("banner.edu_grace_period.verification_required"),description:(0,R.t)("banner.edu_grace_period.editing_restricted_on_file",{teamName:r.name}),button:{buttonText:(0,R.t)("banner.edu_grace_period.verify_status_button"),onClick:()=>C.Ay.redirect("/education/apply",N.Ay.isIpadNative?void 0:"_blank")}};return(0,c.jsx)(e7.f,{...e,bannerContent:t})}return null},dataTestId:"edu-grace-period-access-restricted-banner"},t3={bannerId:ee.om.EduGracePeriodShowReminder,Banner:function(e){let t=(0,s.q5)(),n=(0,eT.cD)(),r=(0,a.d4)(e=>n?e.teams[n]:null),i=(0,Y.iZ)(),o=(0,eF.nF)(),l=(0,a.d4)(e=>e.userEduGracePeriods);if(n&&i){let a=r&&!o?.enabled&&t?.canEditIgnoreEduGracePeriod&&r&&(0,S.GU)(l,(0,S.cn)(i),n,!!r.student_team).showReminder,s=(0,S.zR)(l,n);if(a){let t={bannerType:ee.x1.INFO,icon:tB.A,mainText:(0,R.t)("banner.edu_grace_period.verification_required"),description:(0,R.t)("banner.edu_grace_period.grace_period_team_reminder",{teamName:r.name,endDate:s}),dismissible:!0,button:{buttonText:(0,R.t)("banner.edu_grace_period.verify_status_button"),onClick:()=>C.Ay.redirect("/education/apply",N.Ay.isIpadNative?void 0:"_blank")}};return(0,c.jsx)(e7.f,{...e,bannerContent:t})}}return null},dataTestId:"edu-grace-period-show-reminder-banner"};function t9(e){let t;if(!e)return(0,R.t)("banner.multiplayer_session_upgrade.page_out_of_date");switch(e){case Z._Y.DESIGN:t=(0,R.t)("general.figma_design");break;case Z._Y.WHITEBOARD:t=(0,R.t)("general.figjam");break;case Z._Y.SLIDES:t=(0,R.t)("general.figma_slides");break;case Z._Y.SITES:t=(0,R.t)("general.figma_sites");break;case Z._Y.COOPER:t=(0,R.t)("general.figma_buzz");break;case Z._Y.FIGMAKE:t=(0,R.t)("general.figma_rev");break;default:(0,u.xb)(e)}return(0,R.t)("banner.multiplayer_session_upgrade.with_editor_type",{editorType:t})}let t5={bannerId:ee.om.MultiplayerSessionUpgrade,Banner:function(e){let t=(0,eq.p8)("multiplayerSessionState")!==h.kul.UNJOINED,n=!(0,eq.p8)("isReadOnly"),i=(0,a.d4)(e=>e.showingUpgradeBanner),o=s.q5()?.editorType,[l,d]=(0,_.useState)(!1),m=f.hS({open:l,onClose:()=>{},preventUserClose:!0});if(i){let a={bannerType:ee.x1.INFO,icon:tU.A,mainText:(0,r.k)().force_client_reloads_fullscreen_banner_string?t9(o):(0,R.t)("banner.multiplayer_session_upgrade.page_out_of_date"),description:n?(0,R.t)("banner.multiplayer_session_upgrade.out_of_date.editor"):(0,R.t)("banner.multiplayer_session_upgrade.out_of_date.viewer"),button:{buttonText:n?(0,R.t)("banner.multiplayer_session_upgrade.save_and_reload"):(0,R.t)("banner.multiplayer_session_upgrade.reload"),onClick:()=>{(0,v.sx)("Upgrade Banner Clicked"),h.h3O.startUpgrade(),d(!0)}}};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e7.f,{...e,bannerContent:a}),(0,c.jsx)(tN,{manager:m,userCanEditFile:n,isUserConnected:t})]})}return null},dataTestId:"multiplayer-session-upgrade-banner"},t6={bannerId:ee.om.ForceClientReload,Banner:function(e){let[t,n]=_.useState(!1),[i,o]=_.useState(!1),l=(0,T.md)(eG.T),d=(0,a.d4)(e=>!!e.saveStatus?.hasUnsavedChanges),m=s.q5()?.editorType;if(_.useEffect(()=>{l&&!i&&(v.az.trackDefinedEvent("scenegraph_and_sync.force_client_reload_banner.shown",{}),o(!0))},[l,i]),_.useEffect(()=>{t&&!d&&C.Ay.reload("force client reload banner",{isForceClientReloadBanner:!0})},[t,d]),l){let a={bannerType:ee.x1.INFO,icon:tU.A,mainText:(0,r.k)().force_client_reloads_fullscreen_banner_string?t9(m):(0,R.t)("banner.multiplayer_session_upgrade.page_out_of_date"),button:{buttonText:(0,R.t)("banner.multiplayer_session_upgrade.reload"),onClick:()=>{n(!0),v.az.trackDefinedEvent("scenegraph_and_sync.force_client_reload_banner.clicked",{})},disabled:t}};return(0,c.jsx)(e7.f,{...e,bannerContent:a})}return null},dataTestId:"force-client-reload-banner"},t7={bannerId:ee.om.FigJamTryDraftsBanner,Banner:function(e){let t=(0,a.wA)(),n=(0,s.q5)(),r=(0,eF.nF)(),i=(0,Y.iZ)(),o=(0,eK.f)("dismissed_figjam_try_drafts_banner"),l=(0,I.R)("minute");if(!r?.enabled||!n||!i)return null;if(!n.isTryFile&&!n.parentOrgId&&n.folderId===i.drafts_folder_id&&!o){let a=(0,E.A)(l),i=Math.ceil((0,E.A)(r.until).diff(a,"hours",!0)),o={bannerType:ee.x1.INFO,icon:tB.A,mainText:i>1?(0,R.t)("figjam_try.drafts_banner_title_more_time",{num_hours:i}):(0,R.t)("figjam_try.drafts_banner_title_1_hour_or_less"),description:(0,R.t)("figjam_try.drafts_banner_description"),onDismiss:()=>t?.(eP.b({dismissed_figjam_try_drafts_banner:!0})),dismissible:!0,button:{buttonText:(0,R.t)("figjam_try.move_file"),onClick:()=>(0,eA.h)({key:n.key,name:n.name,folder_id:n.folderId,team_id:n.teamId,editor_type:n.editorType,parent_org_id:n.parentOrgId},null,t)}};return(0,c.jsx)(e7.f,{...e,bannerContent:o})}return null},dataTestId:"figjam-try-drafts-banner"},t8={bannerId:ee.om.FigJamTryClaimBanner,Banner:function(e){let t=(0,a.wA)(),{onClaim:n}=function(){let e=(0,s.q5)(),t=(0,a.wA)(),n=(0,a.d4)(e=>e.plans);_.useEffect(()=>{t((0,tP.hr)({loadedPlans:n}))},[]);let i=(0,tM.rc)();if(!e||!e.key)return{onClaim:F.lQ};let o=n=>{t(tO.Q({file_key:e?.key,folder_id:n}))};return{onClaim:()=>{(0,r.k)().dtm_deprecation_plan_picker_for_files?t((0,H.to)({type:tR.h,data:{payload:{workspaces:i,onSelectWorkspace:e=>{o(e.draftFolderId)},editorType:e.editorType,useCase:"figjamTry"}}})):o()}}}(),i=(0,s.q5)(),o=(0,eF.nF)(),l=(0,Y.iZ)(),d=(0,eK.f)("dismissed_figjam_try_claim_banner"),m=(0,I.R)("minute"),u=i?.key;if(!i?.isTryFile||N.Ay.isMeetDevice||!l||!o?.enabled||!u||d)return null;let p=(0,E.A)(m),f=Math.ceil((0,E.A)(o.until).diff(p,"hours",!0)),g={bannerType:ee.x1.INFO,icon:tB.A,mainText:f>1?(0,R.t)("figjam_try_v2.timer_hours_left",{hoursLeft:f}):(0,R.t)("figjam_try.claim_banner_title_1_hour_or_less"),description:(0,R.t)("figjam_try_v2.logged_in.after_that_this_board_will_be_deleted"),onDismiss:()=>t?.(eP.b({dismissed_figjam_try_claim_banner:!0})),dismissible:!0,button:{buttonText:(0,R.t)("figjam_try_v2.claim_file_logged_in"),onClick:()=>n()}};return(0,c.jsx)(e7.f,{...e,bannerContent:g})},dataTestId:"figjam-try-claim-banner"},ne={bannerId:ee.om.DowntimeBanner,Banner:function(e){let t=(0,a.d4)(e=>e.showingDowntimeBanner),{payload:n,status:i}=(0,a.d4)(e=>e.downtime);if(!n||!(0,r.k)().display_downtime_banner)return null;let o=(0,R.tx)("downtime_banner.warning.description",{minLengthMinutes:n.minLengthMinutes,maxLengthMinutes:n.maxLengthMinutes,startTime:n.downtimeStartDate,helpcenterLink:(0,c.jsx)(O.CY,{target:"_blank",href:n.helpcenterUrl,trusted:!0,children:(0,R.t)("downtime_banner.ongoing_and_warning.learn_more_link")})}),s=(0,c.jsx)("p",{children:(0,R.tx)("downtime_banner.ongoing.description",{minLengthMinutes:n.minLengthMinutes,maxLengthMinutes:n.maxLengthMinutes,helpcenterLink:(0,c.jsx)(O.CY,{target:"_blank",href:n.helpcenterUrl,trusted:!0,children:(0,R.t)("downtime_banner.ongoing_and_warning.learn_more_link")})})}),l=()=>{let e=n.downtimeStartDate.getTime(),t=Date.now();return Math.floor((t<e?Math.floor((e-t)/1e3):0)/60)},d=null;return(t?d={bannerType:ee.x1.WARN,icon:tU.A,dismissible:!1,mainText:(0,R.t)("downtime_banner.ongoing.scheduled_maintenance_will_begin_in_minutes",{minutes:l()}),description:o}:i===e0.A.Ongoing?d={bannerType:ee.x1.WARN,icon:tU.A,dismissible:!1,mainText:(0,R.t)("downtime_banner.ongoing.scheduled_maintenance_in_progress_header"),description:s}:i===e0.A.Imminent&&(d={bannerType:ee.x1.WARN,icon:tU.A,dismissible:!1,mainText:(0,R.t)("downtime_banner.ongoing.scheduled_maintenance_will_begin_in_minutes",{minutes:l()}),description:o}),d)?(0,c.jsx)(e7.f,{...e,bannerContent:d}):null},dataTestId:"downtime-banner"};function nt({hubFile:e}){return(0,eI._)(e)?(0,R.tx)("banner.freemium_preview.this_is_just_a_preview"):(0,R.tx)("banner.freemium_preview.get_the_full_file_on_community")}function nn({hubFile:e}){return(0,eI._)(e)?(0,R.tx)("banner.freemium_preview.you_purchased_this_file_already"):(0,R.tx)("banner.freemium_preview.this_is_just_a_preview_of_the_file_you_can_buy_on_community")}function na({hubFile:e}){let t=(0,eI._)(e),n=t?"":`?${eR.Tb}`;return(0,c.jsx)(eC.A6,{to:`/community/file/${e.id}${n}`,children:(0,c.jsx)(O.tM,{trackingProperties:{trackingDescriptor:t?eD.c.OPEN_IN_COMMUNITY:eD.c.BUY_THE_RESOURCE},children:t?(0,R.tx)("banner.freemium_preview.open_in_community"):(0,R.tx)("banner.freemium_preview.buy_the_resource")})})}let nr={bannerId:ee.om.FreemiumPreviewBanner,Banner:function(e){let t=(0,s.tS)(),n=(0,a.d4)(e=>t?e.figFileDuplicatedFromHubFile[t]:null),r=(0,a.d4)(e=>n?e.hubFiles[n.hubFileId]:null);return n&&n.isPreview&&r&&r.monetized_resource_metadata?(0,c.jsx)(e7.f,{...e,bannerContent:{bannerType:ee.x1.INFO,icon:tB.A,dismissible:!1,mainText:(0,c.jsx)(nt,{hubFile:r}),description:(0,c.jsx)(nn,{hubFile:r}),button:{type:ee.MA.CUSTOM,element:(0,c.jsx)(na,{hubFile:r})}}}):null},dataTestId:"freemium-preview-banner"},ni={bannerId:ee.om.FileCreationFailureBanner,Banner:function(e){if((0,a.d4)(e=>e.showingFileCreationFailureBanner)){let t={bannerType:ee.x1.WARN,dismissible:!1,mainText:(0,R.tx)("banner.file_creation_failure.title"),description:(0,R.tx)("banner.file_creation_failure.description")};return(0,c.jsx)(e7.f,{...e,bannerContent:t})}return null},dataTestId:"file-creation-failure-banner"},no={bannerId:ee.om.FileIsTeamTemplate,Banner:function(e){let t=(0,a.wA)(),n=(0,eq.aV)(),r=(0,ta.kD)(),i=(0,tr.b4)(),l=(0,s.q5)(),d=(0,ta.tS)(),_=(0,ta.ac)(),m=(0,tl.Td)(),u=(0,o.lg)(),f=(0,tc.sO)(),g=(0,eN.to)(),x=(0,Y.iZ)(),h=x?.id&&r&&r.publishedByUserId===x.id,b=(0,ta.J3)(),y=(0,tr.WS)(),T=null!=r&&y(r.fileKey);if(!d||n||!l||!r||m||null===_)return null;let w=_&&b===ta.kN.CAN_PUBLISH,v=()=>{if(r&&l){if(g){let e=new URL((0,ts.e)(u,ti.f6.TEAM_TEMPLATE_BANNER,l.libraryKey),document.baseURI).href;C.Ay.redirect(e,"_blank")}else i({templateIdentifier:{type:to.vt.TeamTemplate,file_key:r.fileKey},templateName:r.name,openInNewTab:u===Z._Y.FIGMAKE})}},j=()=>{(0,td.YM)(t,r.fileKey,u,"editor-republish-banner")},E=f?(0,R.t)("slides.templates.banner.new_deck_button"):(0,R.t)("whiteboard.delightful_toolbar.custom_template_banner.new_file_button"),k=(0,c.jsx)(tn.vu,{editorType:u,libraryKey:l.libraryKey,variant:w&&h?"bannerSecondary":"bannerPrimary"}),A=(0,c.jsx)("div",{className:"x1n2onr6",children:(0,c.jsxs)(p.$n,{variant:"secondary","data-testid":"banner-cta-button",children:[(0,c.jsx)("span",{className:"xlshs6z",children:E}),(0,c.jsx)("span",{className:"x10l6tqk xwa60dl x1nrll8i x11lhmoz",children:(0,c.jsx)(te.k,{size:"md"})})]})}),I=T?{type:ee.MA.CUSTOM,element:A}:{type:ee.MA.STRUCTURED,onClick:v,trackingDescriptor:eD.c.USE_IN_NEW_FILE,buttonText:E},N=T?A:(0,c.jsx)("div",{className:"x1n2onr6",children:(0,c.jsx)(M.e6,{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk xkq88pg x1tk3asg xt0e3qv xwa2v1s",onClick:v,trackingProperties:{trackingDescriptor:eD.c.USE_IN_NEW_FILE,buttonContext:E,productType:u},"data-testid":"buzz-banner-cta-button",children:E})});if(w){if(!h){let t=g?{type:ee.MA.CUSTOM,element:(0,c.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[N,k]})}:I;return(0,c.jsx)(e7.f,{...e,bannerContent:{dismissible:!1,bannerType:ee.x1.INFO,icon:t_.A,mainText:(0,R.t)("templates.banner.republish.primary_text"),description:(0,R.t)("templates.banner.republish.secondary_text_not_owner"),button:t}})}let t={type:ee.MA.STRUCTURED,onClick:j,trackingDescriptor:eD.c.PUBLISH_CHANGES,buttonText:(0,R.t)("templates.banner.republish.republish_action")},n=(0,c.jsx)(M.e6,{className:"x78zum5 xjwf9q1 xx99whi xl56j7k x6s0dn4 x19y5rnk x1r7xphn x1a33sea",onClick:j,trackingProperties:{trackingDescriptor:eD.c.PUBLISH_CHANGES,buttonContext:(0,R.t)("templates.banner.republish.republish_action"),productType:u},children:(0,R.t)("templates.banner.republish.republish_action")}),a=g?{type:ee.MA.CUSTOM,element:(0,c.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[N,k,n]})}:t;return(0,c.jsx)(e7.f,{...e,bannerContent:{dismissible:!1,bannerType:ee.x1.INFO,icon:t_.A,mainText:(0,R.t)("templates.banner.republish.primary_text"),description:(0,R.t)("templates.banner.republish.secondary_text"),button:a}})}let S=r.publishedByUser?.handle&&(h?f?(0,R.tx)("slides.templates.banner.republish.you"):(0,R.tx)("templates.banner.made_by_you"):(0,R.tx)("templates.banner.republish.made_by_publisher_name",{publisherName:r.publishedByUser.handle})),O=S?f?(0,R.tx)("slides.templates.banner.republish.made_this",{madeByPublisherName:S}):(0,R.tx)("templates.banner.republish.you_re_viewing_a_template_made_by_publisher_name",{madeByPublisherName:(0,c.jsx)("span",{className:P.s.fontNormal.$,children:S})}):(0,R.t)("templates.banner.republish.you_re_viewing_a_template"),L=g?{type:ee.MA.CUSTOM,element:(0,c.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[N,k]})}:I;return(0,c.jsx)(e7.f,{...e,bannerContent:{dismissible:!1,bannerType:ee.x1.INFO,icon:(0,c.jsx)(tt.Q,{...{0:{className:"xwa2v1s"},1:{}}[!!f<<0]}),iconSize:"medium",mainText:O,description:f?(0,R.t)("slides.templates.banner.republish.templates_can_be_used_to_create_a_new_slide_deck"):void 0,button:L}})},dataTestId:"team-templates-banner"},ns={bannerId:ee.om.TemplatePublishingNudgeBanner,Banner:function(e){let t=(0,eq.aV)(),n=(0,ta.kD)(),a=(0,s.q5)(),r=(0,ta.J3)(),i=(0,tg.j)()&&(0,ta.JU)(r),{draftTemplateKeys:o,isCurrentFileDraftTemplate:l,setUserDraftTemplateKeyForCurrentFile:d}=(0,tw.Iv)(),{openSlidesPublishFlow:m}=(0,tb.X)(),{openMakePublishFlow:u}=(0,th.X)(),p=(0,T.md)(tf.Hk),f=(0,T.md)(ty.Np);(0,_.useEffect)(()=>{(p||f)&&!l()&&d()},[l,p,f,d]);let g=a?.editorType===Z._Y.SLIDES,x=a?.editorType===Z._Y.COOPER,h=a?.editorType===Z._Y.FIGMAKE,b=(0,tm.bF)()&&(0,ta.JU)(r),y=x&&!i,w=!!a?.editorType&&!n&&!t&&Object.keys(o).length>0&&(l()||p||f)&&!y&&!(h&&!b),v=(0,tu.l)(x&&w),j=(0,T.md)(tT.td)||!1;if(!w)return null;let E=x?{type:ee.MA.CUSTOM,element:(0,c.jsxs)("div",{className:"x78zum5 x6s0dn4 x167g77z",children:[(0,c.jsx)(tj,{}),(0,c.jsx)(tv,{})]})}:{type:ee.MA.STRUCTURED,onClick:g?()=>m("editor-pre-publish-banner"):()=>u("editor-pre-publish-banner"),trackingDescriptor:eD.c.PUBLISH_TEMPLATE,buttonText:(0,R.t)("slides.templates.banner.publish_template_button")};return(0,c.jsx)(e7.f,{...e,bannerContent:{dismissible:!1,bannerType:ee.x1.INFO,icon:(0,c.jsx)(tt.Q,{...{0:{className:"xwa2v1s"},1:{}}[!!g<<0]}),iconSize:"medium",mainText:(0,R.t)("slides.templates.banner.making_a_template"),description:(0,R.t)("slides.templates.banner.publish_when_youre_done"),button:x&&v||h&&j?void 0:E}})},dataTestId:"template-publishing-nudge-banner"},nl={bannerId:ee.om.OrgDowngradeBanner,Banner:function(e){let t=(0,eU.a9)(),n=(0,l.sZ)();if(!(0,r.k)().org_downgrade_banner||t?.permission!==Z._D.ADMIN||n?.org_downgrade?.operation_state!=="scheduled")return null;let a=n?.org_downgrade?.scheduled_run_at;if(!a)return null;let i=new Date(a);if(i<new Date)return null;let o={bannerType:ee.x1.WARN,dismissible:!1,mainText:(0,R.tx)("banner.org_downgrade.reminder.title",{orgName:n?.name||"",downgradeDate:i}),positionStatic:!0,button:{type:ee.MA.CUSTOM,element:(0,c.jsx)(D.V,{onClick:()=>{(0,j.FJ)("https://help.figma.com/hc/requests/new?ticket_form_id=9707134248215","_blank")},variant:"inverse",children:(0,R.tx)("banner.org_downgrade.reminder.contact_support")})}};return(0,c.jsx)(e7.f,{...e,bannerContent:o})},dataTestId:"org-downgrade-banner"},nd={bannerId:ee.om.SeatBillingTermsReminder,Banner:function(){let e=(0,a.wA)(),t=(0,Y.iZ)(),n=(0,l.sZ)(),i=!!n?.id,o=(0,U.gY)(q.l),s=(0,r.k)().terms_of_service_may_2025_update,d=(0,W.T)(n),_=!!d?.data?.isEligible,m=(0,V.vK)({planParentId:n?.id||"",planType:Z.OL.ORG},{enabled:i&&_}),u=!!m.data,p=(0,V.jv)({billableProductKeys:$.N_,baseQuery:{tier:(0,Q.kA)(n)?X.Ju.ENTERPRISE:X.Ju.ORG,currency:m.data,renewalTerm:X.IX.YEAR,unit:X.IX.MONTH},options:{enabled:u}});if(!n?.id||"loaded"!==d.status||!d.data.isEligible)return null;let f=d.data.orgTermsInfo.renewalDate,x=(0,E.A)(),h=30>=(0,E.A)(f).diff(x,"day");if(!f||!p.data)return null;let b=(0,c.jsxs)("span",{children:[s&&(0,R.tx)("seat_billing_terms.banner.urgent.main_text_v2"),!s&&(h?(0,R.tx)("seat_billing_terms.banner.urgent.main_text"):(0,R.tx)("seat_billing_terms.banner.info.main_text",{renewalDate:f.toDate()}))]}),y=(0,c.jsxs)("span",{children:[s&&(0,R.tx)("seat_billing_terms.banner.urgent.description_v2",{renewalDate:f.toDate()}),!s&&(h?(0,R.tx)("seat_billing_terms.banner.urgent.description"):(0,R.tx)("seat_billing_terms.banner.info.description"))]});return(0,c.jsx)(K.fu,{name:"Seat Billing Terms Reminder Banner",properties:{userId:t?.id,orgId:n?.id,variant:h?s?"error":"warning":"info"},children:(0,c.jsx)("div",{className:P.s.sticky.top0.$,style:L.sx.add({zIndex:2}).$,children:(0,c.jsx)(J.C,{content:{id:ee.om.SeatBillingTermsReminder,bannerType:h?ee.x1.DANGER:ee.x1.INFO_SOFT,mainText:b,description:y,dismissible:!1,positionStatic:!0,icon:h?(0,c.jsx)(g.Z,{}):(0,c.jsx)(B.b,{}),iconSize:"medium",button:{buttonText:(0,R.tx)("seat_billing_terms.banner.review_and_accept"),onClick:()=>{e(H.to({type:(0,G.w)(),data:{orgId:n.id,organizationName:n.name,renewalDate:f,isEnterprise:(0,Q.kA)(n),onAccept:()=>o({planParentId:n.id,planType:Z.OL.ORG}).then(()=>{e(z.F.enqueue({message:(0,R.t)("seat_billing_terms.modal.success")}))}),prices:p.data}}))}}},onDismiss:F.lQ,dataTestId:"seat-billing-terms-banner"})})})},dataTestId:"seat-billing-terms-banner"},nc={bannerId:ee.om.TeamAdminOpenInvoiceReminder,Banner:function(){let e=(0,eT.ol)(),t=(0,ej.R)(e?.id),n=(0,d.n)();return e&&t&&n?(0,c.jsx)(ek,{team:e}):null},dataTestId:"team-admin-open-invoice-reminder-banner"},n_={bannerId:ee.om.DevModeDemoFileUpsellBanner,Banner:function(e){let t=(0,e2.xo)(),n=!!(0,e3.hA)(),r=(0,Y.TA)(),i=function(){let e=(0,e2.xo)(),t=(0,a.wA)(),n=(0,Y.iZ)(),r=(0,s.q5)();return e&&r&&n?async()=>{let e=await e6.S.copyFile(r.key);if(e.data.meta){let t=e.data.meta;if(k.eD){k.eD.openFile({fileKey:t.key,title:t.name,fileEditorType:"dev_handoff",target:k.aw.FOCAL_TAB,isBranch:!1,isLibrary:!1,isTeamTemplate:!1,userId:n?.id});return}C.Ay.redirect((0,e9.jN)({file:t,isDevHandoff:!0}),"_blank")}else t(e4.s.error((0,R.t)("file_browser.file_browser_actions.file_copy_error")))}:null}(),[o,l]=(0,_.useState)(!1),[d,m]=(0,e5.QF)(r||"")||[],u=async()=>{i&&(l(!0),await i(),l(!1))};if(!t||n)return null;let p=(0,c.jsx)(M.c,{disabled:!i||o,onClick:u,variant:"primary",trackingProperties:{planId:m,planType:d},children:(0,R.t)("dev_handoff.demo_file.request_access")});return(0,c.jsx)(e7.f,{...e,bannerContent:{dismissible:!1,bannerType:ee.x1.INFO_SOFT,icon:(0,c.jsx)(e1.A,{className:"x1aue78i"}),iconSize:"medium",mainText:(0,c.jsx)("span",{className:"xemv814",children:(0,R.t)("dev_handoff.demo_file.get_dev_mode_to_simplify")}),button:{type:ee.MA.CUSTOM,element:p}}})},dataTestId:"dev-mode-demo-file-upsell-banner"},nm={bannerId:ee.om.OrderFormBillingTermsBanner,Banner:function(){let e=(0,a.wA)(),t=(0,Y.iZ)(),n=(0,l.sZ)(),r=(0,eo.Az)(n),[i,o]=_.useState(!1),s=_.createRef();if(!r.data?.isEligible)return null;let{isEligible:d,warningType:m,renewalDate:u}=r.data;if(!(d&&m&&u)||i)return null;let{variant:p,buttonText:f,onDismiss:g}={warning:{variant:"warn",buttonText:(0,R.tx)("order_form_billing_terms.button_text.warn"),onDismiss:()=>o(!0)},error:{variant:"danger",buttonText:(0,R.tx)("order_form_billing_terms.button_text.warn"),onDismiss:void 0}}[m];return(0,c.jsx)(K.fu,{name:"Order Form Renewal Banner",properties:{userId:t?.id,orgId:n?.id,variant:p},children:(0,c.jsxs)("div",{className:P.s.sticky.top0.$,style:L.sx.add({zIndex:2}).$,children:[(0,c.jsxs)(et.Cs,{variant:p,onDismiss:g,"data-testid":"near-renewal-warning-banner",children:[(0,c.jsx)(en.Q,{title:(0,R.tx)("order_form_billing_terms.headline_banner_text.danger"),children:(0,c.jsx)("p",{children:(0,R.tx)("order_form_billing_terms.description_banner_text.warn",{renewalDate:u.toDate()})})}),(0,c.jsx)(ea.$,{onClick:()=>{(0,er.ny)({name:t?.name||null,email:t?.email||null},{ticketForms:["billing"],locale:t?.locale,fields:[{id:0x53d2eb6d8d,value:(0,R.t)("order_form_billing_terms.billing_contact_subject")},{id:0x53d2eb6da1,value:(0,R.t)("order_form_billing_terms.billing_contact_description")},{id:0x8d435084517,value:"b_something_else"}],suppressAnswerBot:!0})},children:f})]}),(0,c.jsx)(ei.F,{ref:s,dispatch:e,userName:t?.name||null,userEmail:t?.email||null})]})})},dataTestId:"order-form-billing-terms-banner"},nu={bannerId:ee.om.NonAdminBillingTermsBanner,Banner:function(){let e=(0,Y.iZ)(),t=(0,l.sZ)(),n=(0,T.md)((0,W.b)(t?.id??null)),a=(0,T.md)(ef),i=(0,r.k)().terms_of_service_may_2025_update,o=!!t?.created_at&&(0,el.d)({date:new Date(t?.created_at)}),s=(0,e_.D6)("NonAdminBillingTermsBanner"),d=(0,e_.Ty)(s?.data??null),[m]=(0,ec.IT)(eg({orgId:t?.id}),{enabled:!!t?.id&&i&&o&&!d}),u=(0,ec.gY)(ex),p=n.unwrapOr(!1),f=s?.data?.key.parentId,{is_eligible:g,renewal_date:x,admin_settings_url:h,admin_emails:b}=m.unwrapOr({is_eligible:!1,renewal_date:"",admin_settings_url:"",admin_emails:[]}),y=(0,E.A)(),w=(0,E.A)(x),j=y.isBefore(w)&&7>=w.diff(y,"day"),k=_.useMemo(()=>(function({adminEmails:e,renewalDate:t,userName:n,adminSettingsLink:a}){if(!e||!t||!a||!t.isValid())return"";let r=encodeURIComponent((0,R.t)("non_admin_billing_terms.email_subject")),i=encodeURIComponent((0,R.t)("non_admin_billing_terms.email_body",{renewalDate:t.toDate(),admin_link:a,userName:n||""})),o=e.join(", ");return`mailto:${o}?subject=${r}&body=${i}`})({adminEmails:b,renewalDate:w,userName:e?.name,adminSettingsLink:h}),[b,w,e,h]);return w.isValid()&&t?.id&&i&&p&&!a.data&&f&&g&&j&&o?(0,c.jsx)(K.fu,{name:"Non Admin Billing Terms Reminder Banner",properties:{userId:e?.id,orgId:t?.id,emails:b?.join(", ")},children:(0,c.jsxs)(et.Cs,{variant:"warn",onDismiss:()=>{(0,v.sx)("CTA Clicked",{name:"Non Admin Billing Terms Reminder Banner dismissed",currentOrgId:t.id,userId:e?.id,emails:b?.join(",")}),u({orgUserId:f})},children:[(0,c.jsx)(en.Q,{children:(0,R.tx)("non_admin_billing_terms.banner_description",{name:t.name,renewalDate:w.toDate()})}),k&&(0,c.jsx)(es.pW,{href:k,variant:"secondary",children:(0,R.tx)("non_admin_billing_terms.contact_admin_button")})]})}):null},dataTestId:"non-admin-billing-terms-banner"},np={bannerId:ee.om.starterViewOnlySitesBanner,Banner:function(e){let t=(0,s.q5)(),n=t?.editorType==="sites",{isEligible:a,canEditTeam:i}=(0,tS.V)(),o=(0,e_.X$)("StarterViewOnlySitesBanner"),l=o.unwrapOr(null)?.tier||null,d=l===m.Agb.STARTER||l===m.Agb.STUDENT&&!(0,r.k)().sts_student_enabled,_=(0,ez.y)(t?.teamId??"",eJ.b.STARTER_VIEW_ONLY_BANNER);if(!(a&&n&&d))return null;let u=l===m.Agb.STUDENT?(0,R.tx)("banner.student_view_only"):(0,R.tx)("banner.starter_view_only.not_available"),p={bannerType:ee.x1.FPL_BRAND,icon:tU.A,mainText:u,description:(0,R.tx)("banner.starter_view_only.upgrade_to_pro"),button:i?{type:ee.MA.CUSTOM,element:(0,c.jsx)(M.e6,{onClick:_,style:L.sx.mr8.colorTextBrand.$,children:(0,R.tx)("banner.starter_view_only.upgrade_button")})}:void 0};return(0,c.jsx)(e7.f,{...e,bannerContent:p})},dataTestId:"starter-team-view-only-sites-banner"};ee.om.DevModeMCPSSEDeprecationBanner,tL.Y;let nf={bannerId:ee.om.SlotsEnablementReload,Banner:function(e){let[t,n]=_.useState(!1),r=(0,eX.N)(),i=(0,a.d4)(e=>!!e.saveStatus?.hasUnsavedChanges);if(_.useEffect(()=>{t&&!i&&C.Ay.reload("slots enablement reload banner",{isSlotsEnablementReloadBanner:!0})},[t,i]),r){let a={bannerType:ee.x1.INFO,icon:tU.A,mainText:(0,c.jsxs)("span",{children:["This file contains slots, but you are not in all the necessary feature flags. Please refresh the page to enable them. See"," ",(0,c.jsx)(O.CY,{href:"https://go/slots-staging",target:"_blank",trusted:!0,children:"this FAQ"})," ","or #feat-slots for more info."]}),button:{buttonText:(0,R.t)("banner.multiplayer_session_upgrade.reload"),onClick:()=>{n(!0)},disabled:t},dismissible:!0};return(0,c.jsx)(e7.f,{...e,bannerContent:a})}return null},dataTestId:"slots-enablement-reload-banner"},ng=[ne,tG,tK,t5,t6,...!(0,i.O_)()&&(0,r.k)().dse_slots_file_enablement?[nf]:[],tq,no,ns,t$,tZ,tQ,tX,tJ,tY,t0,t1,t4,t2,t3,np,t7,t8,nr,tH,...(0,i.b5)()?[tz,tW,tV]:[]],nx=[tK,t5,t6,n_,t0],nh=[ni],nb=[],ny=[],nT=[nl,nd,nm,nu],nw=[nc];function nv(){let e=(0,s.q5)(),t=(0,o.m0)(),n=e?.teamId,r=(0,a.d4)(e=>n?e.teams[n]:null);return e?n&&!r?nb:t?nx:ng:nh}function nj(){let e=(0,d.n)();return(0,l.dq)()?nT:e?nw:ny}},918830:(e,t,n)=>{n.d(t,{Y:()=>i});var a=n(104076),r=n(716976);let i=r.memo(function({prioritizedBanners:e,location:t}){let{bannerIdToShow:n,registerActiveBanner:i}=function({prioritizedBanners:e}){let[t,n]=(0,r.useState)(new Set);return{registerActiveBanner:(0,r.useCallback)(e=>(n(t=>{if(t.has(e))return t;let n=new Set(t);return n.add(e),n}),()=>{n(t=>{if(t.has(e)){let n=new Set(t);return n.delete(e),n}return t})}),[]),bannerIdToShow:function(e,t=[]){let n=(0,r.useMemo)(()=>t.map(e=>e.bannerId).reduce((e,t,n)=>(e.set(t,n),e),new Map),[t]),a=(0,r.useMemo)(()=>[...e].reduce((e,t)=>{let a=n.get(t)??1/0;return a<e?a:e},1/0),[e,n]);return t[a]?.bannerId??null}(t,e)}}({prioritizedBanners:e});return(0,a.jsx)(a.Fragment,{children:e.map(({bannerId:e,Banner:r,dataTestId:o})=>(0,a.jsx)(r,{bannerId:e,shouldDisplay:e===n,registerAsActive:i,location:t,dataTestId:o},e))})})},138611:(e,t,n)=>{n.d(t,{P:()=>l});var a=n(513369),r=n(845945),i=n(977710),o=n(944350),s=n(904017);function l(){let e=(0,s.T5)("useDefaultResourceHubTab"),t=e.data?.type===o.OL.TEAM?e.data?.key.parentId:null,n=e.data?.type===o.OL.ORG?e.data?.key.parentId:null,l="loaded"===e.status&&e.data?.tier===o.Ag.STARTER,d=e.data?.type!==o.OL.ORG||(0,a.oA)(e.data.customTemplatesAllowed),c=(0,i.er)(e.data?.tier??null,t,!d,1),_=(0,i.NQ)(e.data?.tier??null,n,!d,1),{[o._Y.COOPER]:{templates:m,isLoading:u},[o._Y.WHITEBOARD]:{templates:p,isLoading:f},[o._Y.SLIDES]:{templates:g,isLoading:x}}=n?_:c,h=[...m,...p,...g],b="loaded"===e.status&&(e.data?.tier===o.Ag.PRO||e.data?.tier===o.Ag.STUDENT)&&!(u||f||x)&&0===h.length;return l||b?r.N$.COMMUNITY:r.N$.INTERNAL}},216816:(e,t,n)=>{n.d(t,{a:()=>g});var a=n(104076),r=n(795033),i=n(653899),o=n(192075),s=n(244205),l=n(422872),d=n(235711),c=n(143277),_=n(61102),m=n(909342),u=n(654200),p=n(441030);let f=(0,d.r1)("seen_dtm_deprecation_post_migration_overlay");function g(e){let t=(0,r.md)(f),{show:n,isShowing:d,complete:g}=(0,l.e)({overlay:p.ak5,priority:c.N.DEFAULT_MODAL},[t]);(0,i.h)(()=>{n({canShow:e=>!e})});let x=(0,a.jsx)(a.Fragment,{}),h=(0,a.jsx)(a.Fragment,{});if("plan_nav"===e.entryPoint){let t=(0,o.tx)("file_browser.drafts_to_move.drafts_to_move_files_are_now_in_org_name",{orgName:e.planName||""}),n=(0,o.tx)("file_browser.drafts_to_move.the_drafts_to_move_section_has_been_removed",{orgName:e.planName||""}),a=(0,o.tx)("file_browser.drafts_to_move.any_files_from_that_page_are_now_in_a_new_free_starter_team"),r=(0,o.tx)("file_browser.drafts_to_move.you_can_now_find_them_in_drafts_within_team_name",{teamName:e.planName||""}),i=(0,o.tx)("file_browser.drafts_to_move.drafts_to_move_files_have_relocated"),s=(0,o.tx)("file_browser.drafts_to_move.looking_for_your_drafts_to_move");x=e.isOrg?t:e.starterTeamCreated?i:s,h=e.isOrg?n:e.starterTeamCreated?a:r}else x=e.isOrg?(0,o.tx)("file_browser.drafts_to_move.drafts_to_move_files_have_relocated"):(0,o.tx)("file_browser.drafts_to_move.looking_for_your_drafts_to_move"),h=e.isOrg?(0,o.tx)("file_browser.drafts_to_move.the_files_that_were_on_that_page_can_now_be_found_here"):(0,o.tx)("file_browser.drafts_to_move.you_can_now_find_them_in_drafts_within_team_name",{teamName:e.planName||""});return(0,a.jsx)(_.rq,{arrowPosition:u.F_.LEFT_TITLE,description:(0,a.jsx)("p",{children:h}),emphasized:!0,isShowing:d,onClose:g,primaryCta:{label:e.navigateToPlan?(0,o.tx)("file_browser.drafts_to_move.show_me"):(0,o.tx)("file_browser.modal.got_it"),type:"button",onClick:()=>{e.navigateToPlan&&e.navigateToPlan(),g()},ctaTrackingDescriptor:s.c.DONE},secondaryCta:{label:(0,o.tx)("file_browser.drafts_to_move.viewbar_learn_more_link"),type:"link",href:"https://help.figma.com/hc/articles/18409526530967",ctaTrackingDescriptor:s.c.LEARN_MORE},targetKey:e.targetKey||"dtm_deprecation_post_migration_overlay_drafts_key",title:x,trackingContextName:"Dtm Deprecation Post Migration Overlay",width:350,zIndex:m.R.MODAL})}},803276:(e,t,n)=>{n.d(t,{A:()=>M});var a=n(104076),r=n(716976),i=n(903927),o=n(746175);if(443==n.j)var s=n(475477);var l=n(812714),d=n(795033),c=n(755444),_=n(997477),m=n(816565);if(443==n.j)var u=n(843859);var p=n(192075),f=n(366535),g=n(443192),x=n(244205),h=n(373547),b=n(422872),y=n(381059),T=n(235711),w=n(143277),v=n(187429),j=n(116450),E=n(874747),k=n(441030),A=(e=>(e.SPAIN="spain",e.NON_SPAIN="non_spain",e))(A||{});let C=443==n.j?864e5:null,I=()=>Date.now()-C,N=e=>{let t=c.Ay()?.iso_code,n=c.Ay()?.user_data?.signup_locale;if(!(null!=e&&e.getTime()<I()))return!1;if("es-es"===n)return!0;let a=(0,v.zo)();return"latam"!==a&&("spain"===a||!(t&&u.rX.includes(t))&&!!(t&&u.vz.includes(t)))},S=e=>{let t=c.Ay()?.iso_code,n=c.Ay()?.user_data?.signup_locale,a=null!=e&&e.getTime()<I(),r="es-es"===n||"ES"===t||navigator.languages.some(e=>u.Q5.includes(e)),i="es-la"===n||t&&u.rX.includes(t)||navigator.languages.some(e=>u.sJ.includes(e));return a&&r?"spain":a&&i?"non_spain":void 0};function O(e){let t=(0,i.wA)(),n=(0,h.DP)(),r=e.isSpainVariant?(0,p.tx)("es_es_announcement.spain.description"):(0,p.tx)("es_es_announcement.nonspain.description");return(0,a.jsx)(j._l,{isShowing:e.isShowing,trackingContextName:"es_es_launch_announcement_spain",onClose:e.onClose,title:(0,p.tx)("es_es_announcement.title"),description:(0,a.jsxs)(a.Fragment,{children:[r,(0,a.jsx)("br",{}),(0,a.jsx)(s.N,{href:"https://www.figma.com/figma-ahora-en-espanol/",trusted:!0,newTab:!0,children:(0,p.tx)("es_es_launch_announcement.learn_more")})]}),primaryCta:{label:(0,p.tx)("es_es_announcement.cta_button"),type:"button",onClick:()=>{t((0,f.to)({type:E.kA,data:{source:E.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:x.c.UPDATE_LANGUAGE_SETTINGS},media:(0,a.jsx)(m.oW,{width:332,height:404,src:(0,c.ck)("dark"===n?"d5144836652ddb3ef93938b550364428430fbdf2":"2c6b6c235309104ec7fe7c99d6d85cc3c8a91e8e"),alt:(0,p.t)("es_es_launch_announcement.image_alt_text")})})}let P=(0,T.r1)("has_tried_es_es");function M(){let e=(0,i.wA)(),t=(0,d.md)(P),n=(0,d.md)(y.mp),s="loaded"===n.status,{getConfig:m}=(0,_.I7)("exp_i18n_es_es_new_users"),{getConfig:u}=(0,_.I7)("exp_i18n_es_es_existing_users"),{show:p,isShowing:f,complete:x}=(0,b.e)({overlay:k.kKu,priority:w.N.SECONDARY_MODAL,experiment:{check:()=>{if((0,l.k)().i18n_es_es)return!0;let e=m().get("announcement_banner_enabled",!1),t=u().get("announcement_banner_enabled",!1);return e||t},predicate:e=>e,postCheck:(e,t)=>!t}},[n,t]);if((0,r.useEffect)(()=>{c.Ay().user_data?.locale===o.hT.ES_ES&&"loaded"===t.status&&!1===t.data&&e(g.b({has_tried_es_es:!0}))},[e,t]),(0,r.useEffect)(()=>{if(!s)return;let e=!1;e=(0,l.k)().i18n_es_la_announcement_modal?N(n.data):!!S(n.data),c.Ay().user_data?.locale!==o.hT.ES_ES&&e&&p()},[e,p,s,n]),!s)return null;let h=S(n.data);if((0,l.k)().i18n_es_la_announcement_modal){if(!N(n.data))return null}else if(void 0===h)return null;return(0,a.jsx)(O,{isShowing:f,onClose:x,isSpainVariant:!!(0,l.k)().i18n_es_la||"spain"===h})}},187429:(e,t,n)=>{n.d(t,{Ay:()=>O,zo:()=>k});var a=n(104076),r=n(716976),i=n(903927),o=n(746175),s=n(812714),l=n(795033),d=n(755444),c=n(816565);if(443==n.j)var _=n(843859);var m=n(192075),u=n(366535),p=n(443192),f=n(244205),g=n(373547),x=n(422872),h=n(381059),b=n(235711),y=n(143277),T=n(116450),w=n(874747),v=n(441030);let j=443==n.j?864e5:null,E=()=>Date.now()-j;function k(){let e=new Set(_.sJ),t=new Set(_.Q5);for(let n of navigator.languages){if(e.has(n))return"latam";if(t.has(n))return"spain"}}var A=(e=>(e.HAS_SEEN_ES_ES_ANNOUNCEMENT="has_seen_es_es_announcement",e.HAS_NOT_SEEN_ES_ES_ANNOUNCEMENT="has_not_seen_es_es_announcement",e))(A||{});let C=(e,t,n)=>{let a=d.Ay()?.iso_code,r=d.Ay()?.user_data?.signup_locale;if(!(!t&&null!=e&&e.getTime()<E()))return;if("es-la"===r)return n?"has_seen_es_es_announcement":"has_not_seen_es_es_announcement";let i=k();return"latam"===i?n?"has_seen_es_es_announcement":"has_not_seen_es_es_announcement":"spain"===i?void 0:a&&_.rX.includes(a)?n?"has_seen_es_es_announcement":"has_not_seen_es_es_announcement":void 0};function I(e){let t=(0,i.wA)(),n=(0,g.DP)(),r=e.hasSeenEsEsModal?(0,m.tx)("es_la_announcement.seen_es_es_description"):(0,m.tx)("es_la_announcement.not_seen_es_es_description");return(0,a.jsx)(T._l,{isShowing:e.isShowing,trackingContextName:"es_la_launch_announcement",onClose:e.onClose,title:(0,a.jsx)(a.Fragment,{children:(0,m.tx)("es_la_announcement.title")}),description:r,primaryCta:{label:(0,m.tx)("es_la_announcement.cta_button"),type:"button",onClick:()=>{t((0,u.to)({type:w.kA,data:{source:w.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:f.c.UPDATE_LANGUAGE_SETTINGS},media:(0,a.jsx)(c.oW,{width:332,height:404,src:(0,d.ck)("dark"===n?"d0bae5ffbf320d1ec97034348702b49fd549969e":"28a10c6e6bb3668d3cc281fda53dd7a6f7f27ad8"),alt:(0,m.t)("es_la_launch_announcement.image_alt_text")})})}let N=(0,b.r1)("has_tried_es_la"),S=(0,b.r1)("seen_es_es_launch_announcement");function O(){let e=(0,i.wA)(),t=(0,l.md)(N),n=(0,l.md)(S),c=(0,l.md)(h.mp),_="loaded"===t.status&&"loaded"===c.status&&"loaded"===n.status,{show:m,isShowing:u,complete:f}=(0,x.e)({overlay:v.FJT,priority:y.N.SECONDARY_MODAL},[c,t,n]);if((0,r.useEffect)(()=>{d.Ay().user_data?.locale===o.hT.ES_LA&&"loaded"===t.status&&!1===t.data&&e(p.b({has_tried_es_la:!0}))},[e,t]),(0,r.useEffect)(()=>{_&&(0,s.k)().i18n_es_la_announcement_modal&&d.Ay().user_data?.locale!==o.hT.ES_LA&&C(c.data,t.data,n.data)&&m()},[e,m,_,t,c,n]),!_||!(0,s.k)().i18n_es_la_announcement_modal)return null;let g=C(c.data,t.data,n.data);return void 0===g?null:(0,a.jsx)(I,{isShowing:u,onClose:f,hasSeenEsEsModal:"has_seen_es_es_announcement"===g})}},693356:(e,t,n)=>{n.d(t,{f:()=>i});let a=443==n.j?864e5:null,r=()=>Date.now()-14*a;function i({userCreatedAt:e,lastUsedFigjamDate:t,hasSeenOverlayV2:n}){return!!(e.getTime()<=r()&&(null==t||t.getTime()<=r()))&&!n}},140464:(e,t,n)=>{n.d(t,{P:()=>v});var a=n(104076),r=n(903927),i=n(795033),o=n(653899),s=n(755444),l=n(192075),d=n(366535),c=n(244205),_=n(422872),m=n(381059),u=n(235711),p=n(592726),f=n(143277),g=n(116450),x=n(874747),h=n(441030);let b=443==n.j?864e5:null,y=()=>Date.now()-b,T="seen_japanese_launch_announcement",w=(0,u.r1)(T);function v(){let e=(0,r.wA)(),t=(0,p.TA)(),n=(0,i.md)(m.mp),u=(0,i.md)(w),b=(0,_.e)({overlay:h.hxO,priority:f.N.DEFAULT_MODAL},[n,u]);return(0,o.h)(()=>{let e=s.Ay()?.iso_code==="JP",t=s.Ay()?.user_data?.locale==="ja";e&&!t&&b.show({canShow:(e,t)=>!t&&null!=e&&e.getTime()<y()})}),(0,a.jsx)(g._l,{isShowing:b.isShowing,title:(0,l.tx)("rcs.japanese_launch_modal.title"),description:(0,l.tx)("rcs.japanese_launch_modal.body"),media:(0,a.jsx)("img",{width:408,src:(0,s.ck)("aa243114f8307af99f0c1728ada3182f8568a919"),alt:""}),primaryCta:{type:"button",label:(0,l.tx)("rcs.japanese_launch_modal.button"),onClick:()=>{e((0,d.to)({type:x.kA,data:{source:x.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:c.c.UPDATE_LANGUAGE_SETTINGS,trackingProperties:{userId:t}},trackingContextName:"Japanese Launch Announcement Modal",userFlagOnShow:T,onClose:b.complete})}},618316:(e,t,n)=>{n.d(t,{A:()=>N});var a=n(104076),r=n(716976),i=n(903927),o=n(746175),s=n(812714),l=n(795033),d=n(755444),c=n(997477),_=n(816565);if(443==n.j)var m=n(843859);var u=n(192075),p=n(366535),f=n(443192),g=n(244205),x=n(373547),h=n(422872),b=n(381059),y=n(235711),T=n(143277),w=n(116450),v=n(874747),j=n(441030);let E=443==n.j?864e5:null,k=()=>Date.now()-E,A=(e,t)=>{let n=d.Ay()?.iso_code,a=d.Ay()?.user_data?.signup_locale,r=!t&&null!=e&&e.getTime()<k(),i="ko-kr"===a||n&&m.QS.includes(n)||navigator.languages.some(e=>m.Tq.includes(e));return r&&i};function C(e){let t=(0,i.wA)(),n=(0,x.DP)();return(0,a.jsx)(w._l,{isShowing:e.isShowing,trackingContextName:"ko_kr_launch_announcement",onClose:e.onClose,title:(0,u.tx)("ko_kr_announcement.title"),description:(0,u.tx)("ko_kr_announcement.description"),primaryCta:{label:(0,u.tx)("ko_kr_announcement.cta_button"),type:"button",onClick:()=>{t((0,p.to)({type:v.kA,data:{source:v.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:g.c.UPDATE_LANGUAGE_SETTINGS},media:(0,a.jsx)(_.oW,{width:332,height:404,src:(0,d.ck)("dark"===n?"18dcbb2ade042dcce59156457f26cf74bff4c14a":"705f5bf3c6cdb84a903c3a2fcd7e70de3294fc96"),alt:(0,u.t)("ko_kr_launch_announcement.image_alt_text")})})}let I=(0,y.r1)("has_tried_ko_kr");function N(){let e=(0,i.wA)(),t=(0,l.md)(I),n=(0,l.md)(b.mp),_="loaded"===t.status&&"loaded"===n.status,{getConfig:m}=(0,c.I7)("exp_i18n_ko_kr_new_users"),{getConfig:u}=(0,c.I7)("exp_i18n_ko_kr_existing_users"),{show:p,isShowing:g,complete:x}=(0,h.e)({overlay:j.Tw6,priority:T.N.SECONDARY_MODAL,experiment:{check:()=>{if((0,s.k)().i18n_ko_kr)return!0;let e=m().get("announcement_banner_enabled",!1),t=u().get("announcement_banner_enabled",!1);return e||t},predicate:e=>e,postCheck:()=>!0}},[n,t]);return((0,r.useEffect)(()=>{d.Ay().user_data?.locale===o.hT.KO_KR&&"loaded"===t.status&&!1===t.data&&e(f.b({has_tried_ko_kr:!0}))},[e,t]),(0,r.useEffect)(()=>{_&&d.Ay().user_data?.locale!==o.hT.KO_KR&&A(n.data,t.data)&&p()},[e,p,_,t,n]),_)?(0,a.jsx)(C,{isShowing:g,onClose:x}):null}},915316:(e,t,n)=>{n.d(t,{C:()=>F});var a=n(104076),r=n(716976),i=n(903927),o=n(929302),s=n(91478),l=n(268389),d=n(293422),c=n(795033),_=n(883765),m=n(653899),u=n(681398),p=n(555013),f=n(652539),g=n(192075),x=n(835211),h=n(443192),b=n(111297),y=n(422872),T=n(249586),w=n(592726),v=n(174730),j=n(143277),E=n(6449),k=n(708729),A=n(628188),C=n(989226),I=n(400837),N=n(389391),S=n(441030),O=n(190028),P=n(248518),M=n(288747),R=n(904017),L=n(831814);let D="Job Title Prompt";function F({source:e}){let t=function(){let e=(0,R.X$)("useIsEligibleForJobTitleReprompt"),t=(0,R.YY)(e).unwrapOr(!1),n=(0,w.Pc)(),a=(0,M.sZ)(),i=n.profile.job_title,o=(0,P.HB)(i);return(0,r.useCallback)(()=>!(a&&a.k12_google_org||n.email.endsWith(".edu")||t||(0,O.A)(n.email_validated_at).add(14,"day").isAfter((0,O.A)(Date.now())))&&(!i||("something_else"===i?!!(0,O.A)(n.email_validated_at).isBefore((0,O.A)(new Date("2024-12-10"))):"other"===o&&(!a||!a.saml_sso_only))),[a,t,o,i,n.email,n.email_validated_at])}(),n=(0,c.Xr)(k.bk),i=(0,c.Xr)(k.Q7),o=(0,w.Pc)().name,s=!!(0,v.f)("submitted_job_title_prompt_overlay"),{show:l,complete:d,isShowing:_}=(0,y.e)({overlay:S.CAe,priority:j.N.OVERRIDING_MODAL});return((0,m.h)(()=>{(0,u.C8)()||window.matchMedia("(max-width: 840px)").matches||s||l({canShow:t,onShow:()=>{n(A.pu.WHAT_DO_YOU_DO),i(o)}})}),_)?(0,a.jsx)(E.M,{testId:"job-title-prompt-overlay",isShowing:_,children:(0,a.jsx)(B,{isShowing:_,dismissModal:d,overlaySource:e})}):null}function B({isShowing:e,dismissModal:t,overlaySource:n}){let m=(0,i.wA)(),u=(0,w.Pc)(),y=u.id,v=u.profile.job_title,[j,E]=(0,c.fp)(k.ZE),[A,S]=r.useState(""),{questionKey:O,options:P,questionTitle:M,questionSubtitle:R,getOptionDisplay:F}=(0,N.Xg)(),B=Array.from(P).toString(),U=o.hS({open:e,onClose:({source:e})=>{(0,T.Cu)({trackingContext:D,text:"Dismiss Job Title Prompt",source:e,view:n,jobTitleList:B}),t()}}),z=j.has("something_else")&&!A;return(0,a.jsx)(b.fu,{name:D,properties:{jobTitleList:B,source:n},children:(0,a.jsx)(s.bL,{manager:U,width:"fit-content",height:"fixed",children:(0,a.jsx)(l.Wk,{children:(0,a.jsxs)("div",{className:"job_title_prompt_overlay--container--Chyt7",children:[(0,a.jsxs)("div",{className:"job_title_prompt_overlay--leftContainer--J7Zlz",children:[(0,a.jsx)(f.B,{svg:L.A,useOriginalSrcFills_DEPRECATED:!0,autosize:!0,height:"32px",width:"24px"}),(0,a.jsx)(p.Kz,{multiple:3}),(0,a.jsx)("h1",{children:M}),(0,a.jsx)(p.Kz,{multiple:.5}),(0,a.jsx)("p",{className:"job_title_prompt_overlay--jobTitleSubheading--1t5Ue",children:R}),(0,a.jsx)(p.Kz,{multiple:3}),(0,a.jsx)(C.L,{isSingleSelect:!0,questionKey:O,options:P,selectedOptions:j,onItemsChange:E,getOptionDisplay:F,endingOption:j.has("something_else")?(0,a.jsx)(p.ks,{autoFocus:!0,dataTestId:"custom_job_title_input",className:"job_title_prompt_overlay--otherInput--aNBXq",placeholder:(0,g.t)("user_onboarding_signals.v1.answer.other.placeholder"),value:A,onChange:e=>S(e.currentTarget.value)}):void 0,variant:"compact"}),(0,a.jsx)(p.Kz,{multiple:3}),(0,a.jsx)("span",{className:"job_title_prompt_overlay--submitButton--uVeNa",children:(0,a.jsx)(d.WW,{variant:"primary",onClick:()=>{let[e]=j,t=e,n="job_title_prompt_selection";"something_else"===t&&A.length>0&&(t=A,n="job_title_prompt_custom"),m(x.yJ({user:{id:y,job_title:t,job_title_source:n},userInitiated:!0})),_.az.trackDefinedEvent("activation.job_title_changed",{newJobTitle:t,prevJobTitle:v,source:n,jobTitleSeenList:B}),(0,T.Cu)({trackingContext:D,text:"Submit Job Title",jobTitle:t,prevJobTitle:v,jobTitleList:B}),m(h.b({submitted_job_title_prompt_overlay:!0})),U.props.close({source:"other"})},disabled:0===j.size||z,children:(0,g.tx)("rcs.surveys.submit")})})]}),(0,a.jsx)("div",{className:"job_title_prompt_overlay--rightContainer--Fa6gK",children:(0,a.jsx)(I.m,{isInModal:!0})})]})})})})}},673540:(e,t,n)=>{n.d(t,{A:()=>S});var a=n(104076),r=n(716976),i=n(903927),o=n(746175),s=n(812714),l=n(795033),d=n(755444),c=n(997477),_=n(816565);if(443==n.j)var m=n(843859);var u=n(192075),p=n(366535),f=n(443192),g=n(244205),x=n(373547),h=n(422872),b=n(381059),y=n(235711),T=n(143277),w=n(116450),v=n(874747),j=n(441030),E=(e=>(e.BRAZILIAN="brazilian",e.NON_BRAZILIAN="non_brazilian",e))(E||{});let k=443==n.j?864e5:null,A=()=>Date.now()-k,C=e=>{let t=d.Ay()?.iso_code,n=d.Ay()?.user_data?.signup_locale,a=null!=e&&e.getTime()<A(),r=[...m.B1,...m.Vb],i=[...m.EK,...m.Kz],o="pt-br"===n||t&&i.includes(t)||navigator.languages.some(e=>r.includes(e));if(a&&o)return t&&m.EK.includes(t)||navigator.languages.some(e=>m.B1.includes(e))?"brazilian":"non_brazilian"};function I(e){let t=(0,i.wA)(),n=(0,x.DP)(),r=e.isBrazilianVariant?(0,u.tx)("pt_br_announcement.description"):(0,u.tx)("pt_br_announcement.non_brazilian.description");return(0,a.jsx)(w._l,{isShowing:e.isShowing,trackingContextName:"pt_br_launch_announcement",onClose:e.onClose,title:(0,u.tx)("pt_br_announcement.title"),description:r,primaryCta:{label:(0,u.tx)("pt_br_announcement.cta_button"),type:"button",onClick:()=>{t((0,p.to)({type:v.kA,data:{source:v.IO.ANNOUNCEMENT_MODAL}}))},ctaTrackingDescriptor:g.c.UPDATE_LANGUAGE_SETTINGS},media:(0,a.jsx)(_.oW,{width:332,height:404,src:(0,d.ck)("dark"===n?"1f8cff5121905a8bd088cf9dc7759e22322a90ef":"e9552341c3ffb2f3090e2cd95e29faaddf7b8397"),alt:(0,u.t)("pt_br_launch_announcement.image_alt_text")})})}let N=(0,y.r1)("has_tried_pt_br");function S(){let e=(0,i.wA)(),t=(0,l.md)(N),n=(0,l.md)(b.mp),_="loaded"===t.status&&"loaded"===n.status,{getConfig:m}=(0,c.I7)("exp_i18n_pt_br_new_users"),{getConfig:u}=(0,c.I7)("exp_i18n_pt_br_existing_users"),{show:p,isShowing:g,complete:x}=(0,h.e)({overlay:j.gik,priority:T.N.SECONDARY_MODAL,experiment:{check:()=>{if((0,s.k)().i18n_pt_br)return!0;let e=m().get("announcement_banner_enabled",!1),t=u().get("announcement_banner_enabled",!1);return e||t},predicate:e=>e,postCheck:()=>!0}},[n,t]);if((0,r.useEffect)(()=>{d.Ay().user_data?.locale===o.hT.PT_BR&&"loaded"===t.status&&!1===t.data&&e(f.b({has_tried_pt_br:!0}))},[e,t]),(0,r.useEffect)(()=>{_&&d.Ay().user_data?.locale!==o.hT.PT_BR&&C(n.data)&&p()},[e,p,_,t,n]),!_)return null;let y=C(n.data);return void 0===y?null:(0,a.jsx)(I,{isShowing:g,onClose:x,isBrazilianVariant:"brazilian"===y})}},629560:(e,t,n)=>{n.d(t,{wc:()=>P,QU:()=>R});var a=n(104076),r=n(716976),i=n(903927),o=n(420680),s=n(266808),l=n(795033),d=n(883765),c=n(219199),_=n(409019),m=n(652539),u=n(130249),p=n(259161),f=n(192075),g=n(147046),x=n(819851),h=n(508011),b=n(106112),y=n(985416),T=n(176203),w=n(788846),v=n(242196),j=n(540725);let E="memory_warning--memoryUsageContainer--CWdMy";var k=n(7452),A=n(965092),C=n(193428),I=n(945453),N=n(57540),S=n(821527);function O(e){let t,n,r,o,l;let d=(0,i.d4)(e=>!e.openFile?.canEdit),c=(0,h.TY)(),_=(0,i.d4)(e=>e.mirror.appModel.activeCanvasEditModeType===s.m1T.HISTORY&&e.versionHistory.activeId&&"current_version"!==e.versionHistory.activeId),u=e.warningLevel,g=(u===b.Wy.WARNING?(l=(0,f.tx)("fullscreen.pages_panel.memory_usage_try_removing_unneeded_content"),c?l=(0,f.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high_content"):d&&!_?l=(0,f.tx)("fullscreen.pages_panel.memory_usage_warning_edit_access_needed"):d&&_?l=(0,f.tx)("fullscreen.pages_panel.memory_usage_read_only_view_version_history"):!d&&_&&(l=(0,f.tx)("fullscreen.pages_panel.memory_usage_warning_edit_view_version_history"))):u===b.Wy.ERROR?(l=(0,f.tx)("fullscreen.pages_panel.memory_usage_to_avoid_losing_file_access"),c?l=(0,f.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high_content"):d&&!_?l=(0,f.tx)("fullscreen.pages_panel.memory_usage_error_contact_file_owner"):d&&_?l=(0,f.tx)("fullscreen.pages_panel.memory_usage_read_only_view_version_history"):!d&&_&&(l=(0,f.tx)("fullscreen.pages_panel.memory_usage_error_edit_view_version_history"))):u===b.Wy.SAFE&&e.hasHadUnsafeWarningLevel&&(l=(0,f.tx)("fullscreen.pages_panel.memory_usage_this_file_has_enough_memory"),c&&(l=(0,f.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_low_content"))),l);if(u===b.Wy.WARNING)t="memory_warning--warningMemoryContentContainerWarning--SUOy5 memory_warning--warningMemoryContentContainer--xajq3",n="memory_warning--memoryWarningContentIconWarning--7lQhY",r=c?I.A:A.A,o=c?(0,f.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high"):(0,f.tx)("fullscreen.pages_panel.memory_usage_memory_running_low");else if(u===b.Wy.ERROR)t="memory_warning--warningMemoryContentContainerError---AmhI memory_warning--warningMemoryContentContainer--xajq3",n="memory_warning--memoryWarningContentIconError--iWcmQ",r=c?I.A:N.A,o=c?(0,f.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_high"):(0,f.tx)("fullscreen.pages_panel.memory_usage_almost_out_of_memory");else{if(u!==b.Wy.SAFE||!e.hasHadUnsafeWarningLevel)return null;t="memory_warning--warningMemoryContentContainerSafe--KUmYN memory_warning--warningMemoryContentContainer--xajq3",n="memory_warning--memoryWarningContentIconSafe--BHw5o",r=k.A,o=c?(0,f.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_low"):(0,f.tx)("fullscreen.pages_panel.memory_usage_youre_good_to_go")}return(0,a.jsx)("div",{className:"memory_warning--memoryWarningContentBetaContainer--xcDgj",children:(0,a.jsxs)("div",{className:t,children:[(0,a.jsx)("div",{className:"memory_warning--memoryWarningContentIconContainer--CeqsI",children:(0,a.jsx)(m.B,{className:n,svg:r})}),(0,a.jsxs)("div",{className:"memory_warning--memoryWarningContentBodyHeader--HRmSt",children:[(0,a.jsx)("div",{className:"memory_warning--memoryWarningContentHeader--b9El-",children:o}),(0,a.jsxs)("p",{children:[g," ",(u===b.Wy.ERROR||u===b.Wy.WARNING)&&(0,a.jsx)(p.o,{newTab:!0,className:u===b.Wy.ERROR?"memory_warning--learnMoreLinkError--JsmPQ":"memory_warning--learnMoreLinkWarning--AHB-S",href:"https://help.figma.com/hc/articles/360040528173-Reduce-memory-usage-in-files",trusted:!1,trackingEventName:"memory_warning_learn_more_clicked",children:(0,f.tx)("fullscreen.pages_panel.memory_usage_learn_more")})]})]})]})})}function P(e){let t=e.showSidePercentage,n=e.warningLevel&&e.warningLevel>=b.Wy.ERROR;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"memory_warning--usageBarContainer--F67OB",children:[(0,a.jsx)(m.B,{style:{left:`${b.xk}%`},className:"memory_warning--icon--HcqCK",svg:C.A}),(0,a.jsx)("div",{className:t&&n?"memory_warning--usageBarBorderDanger--3tbol memory_warning--usageBarBorder--RmhaH":"memory_warning--usageBarBorder--RmhaH",children:(0,a.jsx)("div",{className:t&&n?"memory_warning--usageBarFillDanger--Ew9Tl memory_warning--usageBarFill--ximmI":"memory_warning--usageBarFill--ximmI",style:{width:`${e.memoryUsagePercent}%`}})})]}),t&&(0,a.jsx)("div",{className:n?"memory_warning--usageBarTextDanger--d9-gr memory_warning--usageBarText--6Z1O9":"memory_warning--usageBarText--6Z1O9",children:`${Math.trunc(e.memoryUsagePercent).toString()}%`})]})}let M=(0,y.Wh)(()=>(0,l.eU)(b.Wy.SAFE));function R(e){let t=(0,i.wA)(),{toggleManageMemoryModal:n,closeManageMemoryModal:o}=function(){let e=(0,v.dp)(),t=(0,h.TY)(),n=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{t&&!n.current&&(n.current=!0,e.open(j.XB),s.Ez5?.uiState().showMemoryUsage.set(!0))},[t,e]),(0,r.useMemo)(()=>({toggleManageMemoryModal(){let t=(0,b.P3)();(0,d.sx)("toggle_manage_memory_modal",{memoryUsedPercent:t,totalLayers:s.CeL?.getFileNodeCount(),pageContentPct:t-(0,b.Zz)()}),e.toggle(j.XB)},closeManageMemoryModal(){e.close(j.XB)}}),[e])}(),c=(0,l.md)(b.Tm),m=(0,l.md)(b.Vu),u=(0,l.md)(b.eE),p=function({warningLevel:e}){let t=e!==b.Wy.SAFE,[n,a]=(0,r.useState)(t);return(0,r.useEffect)(()=>{t&&a(!0)},[t]),n}({warningLevel:u}),f=(0,x.E3)(),g=(0,h.TY)(),[y,T]=(0,r.useState)(g);!function({warningLevel:e,usingTestMemory:t,memoryUsedPercent:n,fileKey:a}){let[o,s]=(0,l.fp)(M),d=(0,i.Pj)(),c=(0,_.F)(()=>{var t,r;let i=d.getState(),o=!i.openFile?.canEdit,s=i.mirror.appModel.topLevelMode;t={warningEvent:"BANNER_LEVEL_CHANGE",fileKey:a},r={warningLevel:b.Wy[e],memoryUsedPercent:n,topLevelMode:s,isReadOnly:o},(0,w.$w)(t,{warningOnPct:b.xk,errorOnPct:b.pl,...r})}),m=e!==o&&!t;(0,r.useEffect)(()=>{m&&(s(e),c.current())},[e,m,s,c])}({warningLevel:u,usingTestMemory:m,memoryUsedPercent:c,fileKey:e.fileKey}),function({warningLevel:e,hasHadUnsafeWarningLevel:t}){let n=e===b.Wy.SAFE&&t;(0,r.useEffect)(()=>{if(n){let e=()=>{"hidden"===document.visibilityState&&(s.Ez5.uiState().showMemoryUsage.set(!1),document.removeEventListener("visibilitychange",e))};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}},[n])}({warningLevel:u,hasHadUnsafeWarningLevel:p}),function({warningLevel:e}){(0,r.useEffect)(()=>{let t=e!==b.Wy.SAFE;s.Ez5.uiState().showInFileMemoryPercentage.set(t),t&&s.Ez5.uiState().showMemoryUsage.set(!0)},[e])}({warningLevel:u});let E=(0,h.Ht)();return E||g?(0,a.jsx)(L,{closeManageMemoryModal:o,dispatch:t,editorType:f,fileKey:e.fileKey,hasHadUnsafeWarningLevel:p,memoryUsedPct:c,recoveryMemDisplay:y,setRecoveryMemDisplay:T,showMemoryUsage:E,toggleManageMemoryModal:n,warningLevel:u}):null}function L(e){let t=t=>{let n={view:"fullscreen",editorType:t===T.nT.Design?T.nT.Design:T.nT.Whiteboard,fileKey:e.fileKey,isRecoveryMode:!1};(0,d.sx)("exit_recovery_mode",{currentAllocatedBytes:s.hMR?.getTotalUsedHeapMemory(),maxAllocatedBytes:s.hMR?.getMaxUsedHeapMemory(),fileKey:e.fileKey}),e.dispatch(g.sf(n)),c.Ay.reload("Memory warning panel")},{warningLevel:n,hasHadUnsafeWarningLevel:r,memoryUsedPct:i,showMemoryUsage:l,editorType:_,recoveryMemDisplay:p}=e,x=n===b.Wy.ERROR,y=(0,h.TY)();return(0,a.jsx)(a.Fragment,{children:(l||p)&&(0,a.jsxs)("div",{className:E,id:E,children:[(0,a.jsxs)("div",{className:"memory_warning--memoryUsageHeader--WNS5R",children:[(0,a.jsx)("div",{className:"memory_warning--memoryUsageHeaderTitle--65Nsp",children:(0,f.tx)("fullscreen.pages_panel.memory_usage")}),(0,a.jsx)("div",{className:"memory_warning--memoryUsageCloseIcon--6rw0p",children:!x&&(0,a.jsx)(o.K,{"aria-label":(0,f.t)("common.close"),onClick:()=>{(0,d.sx)("manage_memory_modal_closed",{currentAllocatedBytes:s.hMR?.getTotalUsedHeapMemory(),maxAllocatedBytes:s.hMR?.getMaxUsedHeapMemory(),fileKey:e.fileKey}),s.Ez5.uiState().showMemoryUsage.set(!1),s.Ez5.uiState().showInFileMemoryPercentage.set(!1),e.closeManageMemoryModal(),e.setRecoveryMemDisplay(!1)},children:(0,a.jsx)(m.B,{svg:S.A})})})]}),(0,a.jsx)("div",{className:x?"memory_warning--memoryUsageBodyContainerError--6oxZX":"memory_warning--memoryUsageBodyContainer--NE4lJ",children:(0,a.jsx)(P,{memoryUsagePercent:i,showSidePercentage:!0,warningLevel:n})}),(0,a.jsx)(O,{warningLevel:n,hasHadUnsafeWarningLevel:r}),(()=>{let t=(0,f.t)("manage_memory_modal.manage_memory_button"),n=()=>{e.toggleManageMemoryModal()};return(0,a.jsx)("div",{className:"memory_warning--memoryWarningButtonContainer--GkcGB",children:(0,a.jsx)(u.Ih,{variant:"secondary",onClick:()=>n(),trackingProperties:{buttonContext:t},children:t})})})(),y&&i<b.im&&(0,a.jsx)("div",{className:l?"memory_warning--recoveryModeBannerExitButtonContainer--7A1pw":"memory_warning--recoveryModeExitButtonContainer--Y21eB",children:(0,a.jsx)(u.Ih,{variant:"primary",onClick:()=>t(_),children:(0,f.tx)("fullscreen.pages_panel.memory_usage_recovery_mode_exit")})})]})})}},285359:(e,t,n)=>{n.d(t,{ZL:()=>E});var a=n(104076),r=n(903927),i=n(511570),o=n.n(i),s=n(449572),l=n(889438),d=n(555013),c=n(652539),_=n(236631),m=n(192075),u=n(111679),p=n(366535),f=n(483200),g=n(111297),x=n(657878),h=n(592726),b=n(174730),y=n(944350),T=n(59849),w=n(959834),v=n(432786),j=n(619883);let E=(0,w.Ju)(function(e){let t=(0,h.iZ)(),n=(0,r.wA)(),i=(0,x._6)(),w=(0,s.Rs)(T.UpR,{}),E=(0,s.Rs)(T.FA_,{teamId:e.teamId||""},{enabled:!!e.teamId}),k=!!(0,b.f)("edu_hide_verification");if("loaded"!==w.status||"loaded"!==E.status||!t)return null;let A=(0,l.x$)(w.data.currentUser?.eduPeriodEnd,(0,l.cn)(t));if(A===1/0||!E.data.team)return null;let C=E.data.team.isOwner,I=A>0?function(e){if(e.studentTeamState!==y.kU.STUDENT_TEAM_CURRENT)return null;let t=null;return e.isOwner?t=(0,m.tx)("edu.offboarding_modal.the_team_you_own_will_become_view_only_for_all_members_once_your_plan_expires",{teamName:(0,a.jsx)("strong",{children:e.name})}):e.canEdit&&(t=(0,m.tx)("edu.offboarding_modal.you_ll_lose_edit_access_to_team_once_your_plan_expires",{teamName:(0,a.jsx)("strong",{children:e.name})})),t}(E.data.team):function(e){if(e.studentTeamState!==y.kU.STUDENT_TEAM_EXPIRED)return null;let t=null;return e.isOwner?t=(0,m.tx)("edu.offboarding_modal.the_team_you_own_is_now_view_only_for_all_members",{teamName:(0,a.jsx)("strong",{children:e.name})}):e.canView&&(t=(0,m.tx)("edu.offboarding_modal.you_can_no_longer_edit_team",{teamName:(0,a.jsx)("strong",{children:e.name})})),t}(E.data.team);if(null===I)return null;let N=()=>{n(p.Ce())},S=()=>{N(),n(u.Dw({}))};return(0,a.jsx)(g.fu,{name:"Edu Offboarding Modal",children:(0,a.jsxs)(v.OJ,{title:(0,m.t)("edu.offboarding_modal.your_education_status"),maxWidth:381,onClose:N,children:[(0,a.jsxs)("div",{className:o()(_.s.flex.itemsCenter.p8.$,_.s.if(A>0,_.s.colorBgWarningTertiary,_.s.colorBgDangerTertiary).$),children:[(0,a.jsx)(c.B,{className:_.s.p8.colorIcon.$,svg:j.A}),(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:A>0?(0,m.tx)("edu.offboarding_modal.your_education_plan_expires_in_days",{daysLeft:A}):(0,m.tx)("edu.offboarding_modal.your_education_plan_has_expired")})})]}),(0,a.jsxs)("div",{className:_.s.px16.pt8.pb12.$,children:[(0,a.jsx)("p",{children:I}),(0,a.jsxs)("div",{className:_.s.pt16.flex.$,children:[(0,a.jsx)("div",{className:_.s.w4.h4.colorBgDisabled.mt6.mr8.flexShrink0.$}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:(0,m.tx)("edu.offboarding_modal.if_you_graduated")}),C?(0,m.tx)("edu.offboarding_modal.continue_below_to_upgrade_your_team_s_to_the_professional_plan_or",{createProTeamLink:(0,a.jsx)(d.Us,{onClick:S,trusted:!0,children:(0,m.tx)("edu.offboarding_modal.create_a_new_professional_team")})}):(0,m.tx)("edu.offboarding_modal.create_a_new_professional_team_and_start_fresh")]})]}),!k&&(0,a.jsxs)("div",{className:_.s.pt16.flex.$,children:[(0,a.jsx)("div",{className:_.s.w4.h4.colorBgDisabled.mt6.mr8.flexShrink0.$}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:(0,m.tx)("edu.offboarding_modal.if_you_re_still_in_education")}),(0,m.tx)("edu.offboarding_modal.verify_your_status_to_keep_collaborating_with_your_teams",{verifyStatusLink:(0,a.jsx)(d.Us,{href:"/education/apply",target:"_blank",trusted:!0,children:(0,m.tx)("edu.offboarding_modal.verify_your_status")})})]})]}),(0,a.jsxs)("div",{className:_.s.pt16.flex.$,children:[(0,a.jsx)("div",{className:_.s.w4.h4.colorBgDisabled.mt6.mr8.flexShrink0.$}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:(0,m.tx)("edu.offboarding_modal.to_save_your_work")}),C?(0,m.tx)("edu.offboarding_modal.duplicate_or_move_files_to_your_drafts_to_save_them_for_later_and_consider_transferring_ownership_of_your_team_s",{transferringOwnershipLink:(0,a.jsx)(d.Us,{href:"https://help.figma.com/hc/articles/360038512093",target:"_blank",trusted:!0,children:(0,m.tx)("edu.offboarding_modal.transferring_ownership")})}):(0,m.tx)("edu.offboarding_modal.duplicate_or_move_files_to_your_drafts_to_save_them_for_later")]})]}),(0,a.jsx)("div",{className:_.s.flex.flexColumn.itemsEnd.pt32.$,children:C?(0,a.jsx)(d.vd,{onClick:()=>{N(),n(f.WX({teamId:e.teamId||null,selectedView:i}))},children:(0,m.tx)("edu.offboarding_modal.upgrade_to_professional")}):(0,a.jsx)(d.vd,{onClick:S,children:(0,m.tx)("edu.offboarding_modal.create_a_new_professional_team_cta")})})]})]})})},"EDU_OFFBOARDING_MODAL")},678184:(e,t,n)=>{n.d(t,{v:()=>w});var a=n(104076),r=n(903927),i=n(449572),o=n(513369),s=n(555013),l=n(652539),d=n(192075),c=n(366535),_=n(483200),m=n(459494),u=n(244205),p=n(111297),f=n(657878),g=n(59849),x=n(853039),h=n(959834),b=n(354174),y=n(201019),T=n(821527);let w=(0,h.Ju)(function(e){let{teamId:t}=e,n=(0,r.wA)(),h=(0,f._6)(),w=(0,r.d4)(e=>e.folders),v=(0,i.Rs)(g.bel,{teamId:t}),j=(0,m.E9)(),E=(0,o.oA)(v.data?.team?.teamFileCounts?.totalFileCount)??0,k=v.data?.team?.teamFileCounts?.designFileCount??0,A=v.data?.team?.teamFileCounts?.whiteboardFileCount??0,C=(0,r.d4)(e=>e.teams[t]),I=e=>{e.preventDefault(),n(c.Lo())},N=k>x.WW&&!j,S=A>x.WW&&!j,O=E>x.WW&&j,P=Object.keys(w).filter(e=>w[e]?.is_view_only).map(e=>w[e]),M=Object.keys(w).filter(e=>w[e]?.is_invite_only).map(e=>w[e]);return(0,a.jsx)(p.fu,{name:"LockedTeamUsageModal",properties:{teamId:t},children:(0,a.jsxs)(b.d_,{className:"locked_team_usage_modal--modal--hgYFc",size:"medium",children:[(0,a.jsx)("div",{className:"locked_team_usage_modal--modalBar--wjRk6",children:(0,a.jsx)(l.B,{className:"locked_team_usage_modal--modalCloseX--aPcCQ",svg:T.A,onClick:I})}),(0,a.jsx)("h3",{className:"locked_team_usage_modal--headerText--5KMOz",children:(0,d.tx)("payments_modal.to_meet_the_limits_for_your_starter_plan")}),(0,a.jsxs)("ul",{children:[O&&(0,a.jsx)("li",{children:(0,d.tx)("payments_modal.move_figma_files_to_drafts",{numFigmaFiles:E-x.WW})}),N&&(0,a.jsx)("li",{children:(0,d.tx)("payments_modal.move_figma_files_to_drafts",{numFigmaFiles:k-x.WW})}),S&&(0,a.jsx)("li",{children:(0,d.tx)("payments_modal.move_figjam_files_to_drafts",{numFigJamFiles:A-x.WW})}),(0,a.jsx)(function(){return!C?.projects||C.projects<=x.Wf?null:(0,a.jsx)("li",{children:(0,d.tx)("payments_modal.remove_projects",{numProjects:C.projects-x.Wf})})},{}),P.length>0&&(0,a.jsx)("li",{children:(0,d.tx)("payments_modal.remove_view_only_permissions_from_all_projects")}),M.length>0&&(0,a.jsx)("li",{children:(0,d.tx)("payments_modal.remove_invite_only_permissions_from_all_projects")})]}),(0,a.jsx)("p",{children:(0,d.tx)("payments_modal.if_you_would_rather_keep_the_current_limits",{upgradeToProfessional:(0,a.jsx)(s.Us,{onClick:e=>{e.preventDefault(),n(c.Lo()),n(_.WX({teamId:t,selectedView:h}))},trackingProperties:{trackingDescriptor:u.c.UPGRADE_TO_PROFESSIONAL},trusted:!0,children:(0,d.tx)("payments_modal.upgrade_to_professional")})})}),(0,a.jsx)("div",{className:`${y.v0} locked_team_usage_modal--buttonRow--y7F3c`,children:(0,a.jsx)(s.M7,{onClick:I,trackingProperties:{teamId:t},children:(0,d.tx)("payments_modal.okay")})})]})})},"LockedTeamUsageModal")},148470:(e,t,n)=>{n.d(t,{c:()=>a});var a=(e=>(e[e.WARN=0]="WARN",e[e.WARN_SOFT=1]="WARN_SOFT",e[e.ANNOUNCEMENT=2]="ANNOUNCEMENT",e[e.EVENT=3]="EVENT",e))(a||{})},151240:(e,t,n)=>{n.d(t,{X:()=>r});var a=n(716976);function r({containerRef:e,targetRef:t,targetKey:n,onIntersectionChange:r,rootMargin:i,threshold:o}){let s=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(window.IntersectionObserver)return s.current=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&r(e)})},{root:e?.current,rootMargin:i,threshold:o}),t.current&&s.current.observe(t.current),()=>{s.current&&s.current.disconnect()}},[n,r,i,o,e,t])}},401763:(e,t,n)=>{n.d(t,{M:()=>o});var a=n(104076),r=n(141330),i=n(578420);function o(){return(0,a.jsx)(i.y,{helpUrlVariant:r.JT.CODE_CHAT})}},978183:(e,t,n)=>{n.d(t,{aX:()=>S,ev:()=>C,jl:()=>k,yd:()=>A});var a=n(104076),r=n(716976),i=n(903927),o=n(795033);n(120440);var s=n(755444),l=n(816565),d=n(668134),c=n(259161),_=n(192075),m=n(171660),u=n(147046),p=n(443192),f=n(244205),g=n(422872),x=n(235711),h=n(143277),b=n(116450),y=n(700126),T=n(441030);if(443==n.j)var w=n(963433);var v=n(401763);let j="acknowledged_figmake_ai_tos_onboarding",E=(0,x.r1)(j);function k(){return(0,o.md)(E)}function A(e){let t=(0,i.wA)(),n=r.useCallback(e=>{t(p.b({[j]:e}))},[t]),a=r.useCallback(()=>{n(!0),e()},[n,e]),o=r.useCallback(()=>{t(u.sf({view:"recentsAndSharing"}))},[t]);return{onAcknowledge:a,onClose:r.useCallback(()=>{n(!1),o()},[n,o])}}function C(){let e=(0,d.a)(),t=k(),{figmakeInFullscreen:n}=(0,w.Ve)(),i=(0,y.l)(),{show:o,isShowing:s,complete:l}=(0,g.e)({overlay:T.qmK,priority:h.N.HIGH_PRIORITY_MODAL-1},[t]),{onAcknowledge:c,onClose:u}=A(l);return r.useEffect(()=>{n||i||o({canShow:t=>!t&&e})},[n,i,o,e]),(0,a.jsx)(b._l,{description:(0,_.tx)("figmake.legal_onboarding_modal.body"),disclaimerFooter:(0,a.jsx)(S,{}),isShowing:s,media:(0,a.jsx)(I,{}),onClose:u,preventUserClose:!0,primaryCta:{type:"button",label:(0,a.jsx)(m.E,{fontSize:11,children:(0,_.tx)("figmake.legal_onboarding_modal.try_figmake_button")}),onClick:c,ctaTrackingDescriptor:f.c.NEXT},secondaryCta:{type:"button",label:(0,_.tx)("figmake.legal_onboarding_modal.back_to_files"),onClick:u,ctaTrackingDescriptor:f.c.CLOSE},title:(0,a.jsx)(N,{}),trackingContextName:"Rev Onboarding > Terms of Service"})}function I(){return(0,a.jsx)(l.oW,{src:(0,s.ck)("d158cef30c1ce26cce260c1051ecdf35dd527c94"),alt:"Figma Rev Terms of Service",width:332})}function N(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"xeq5yr9 xod5an3",children:(0,a.jsx)(v.M,{})}),(0,_.tx)("figmake.legal_onboarding_modal.title")]})}function S(){if(!(0,d.a)())return null;let e=(0,a.jsx)(c.Ph,{newTab:!0,trusted:!0,href:"/sub-processors/",children:(0,_.tx)("figmake.legal_onboarding_modal.disclaimer_figmas_ai_subprocessor_link")}),t=(0,a.jsx)(c.Ph,{newTab:!0,trusted:!0,href:"/product-specific-terms/",children:(0,_.tx)("figmake.legal_onboarding_modal.disclaimer_figmas_beta_terms")}),n=(0,a.jsx)(c.Ph,{newTab:!0,trusted:!0,href:"/legal/aup/",children:(0,_.tx)("figmake.legal_onboarding_modal.disclaimer_figmas_acceptable_use_policy")});return(0,_.tx)("figmake.legal_onboarding_modal.footer_disclaimer_beta_2",{figmas_beta_terms_link:t,figmas_ai_subprocessors_link:e,figmas_acceptable_publication_policy:n})}},947035:(e,t,n)=>{n.d(t,{$:()=>C});var a=n(104076),r=n(716976),i=n(903927),o=n(812714),s=n(795033);n(120440);var l=n(755444),d=n(681398),c=n(816565),_=n(221602),m=n(192075),u=n(171660),p=n(915707),f=n(244205),g=n(422872),x=n(381059),h=n(944350),b=n(904017),y=n(299640),T=n(143277),w=n(116450),v=n(441030),j=n(401763),E=n(978183);let k={button:{kaIpWk:"x1sxf85j",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kWkggS:"xu5wzci",kMwMTN:"x1tk3asg",k1xSpc:"x78zum5",kAzted:"x21xpn4",kmVPX3:"x897kq8",kg3NbH:null,kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,k8WAf4:null,kLKAdn:null,kGO01o:null,kGNEyG:"x6s0dn4",k9WMMc:"x2b8uid",kMv6JI:"xclx6tv",kGuDYH:"x17akokd",kKX8nH:"x1j61x8r",k63SB2:"x1qxcl5b",kLWn49:"xno9bf3",kb6lSQ:"xqp8s7e",$$css:!0}};function A(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"xeq5yr9 xod5an3",children:(0,a.jsx)(j.M,{})}),(0,m.tx)("figmake.marketing_modal.body")]})}function C(){let e=(0,E.jl)(),t=(0,o.k)().marketing_promo_modal_figmake_launch,n=(0,i.d4)(e=>e.user?.drafts_folder_id),{data:l,status:c}=(0,_.nt)(n),j=!!l?.canCreateFigmakeFileWithReasons.result,C=(0,b.X$)("FigmakePromoModalOverlay"),N=C.unwrapOr(null)?.tier||null,S=N&&([h.Ag.PRO,h.Ag.ORG,h.Ag.ENTERPRISE].includes(N)||N===h.Ag.STARTER&&(0,o.k)().bake_starter_limit),O=(0,s.md)(x.mp),P=(0,d.C8)(),M=(0,p.$)({isDraftsFolder:!0,editorType:h._Y.FIGMAKE,newFileFrom:y.f6.FIGMAKE_PROMO_MODAL,contextClicked:"figmake_marketing_modal"}),{show:R,isShowing:L,complete:D}=(0,g.e)({overlay:v.CBZ,priority:T.N.DEFAULT_MODAL},[e,O]),{onAcknowledge:F}=(0,E.yd)(D);return r.useEffect(()=>{!0===t&&j&&S&&R({canShow:(e,t)=>(N!==h.Ag.STARTER||!!function(e){let t=Date.now();return e.getTime()<=t-864e5}(t))&&!P&&!e})},[R,t,j,S,N,P]),(0,a.jsx)(w._l,{closeButtonColor:"dark",description:(0,m.tx)("figmake.marketing_modal.subtitle"),disclaimerFooter:(0,a.jsx)(E.aX,{}),isShowing:L,media:(0,a.jsx)(I,{}),onClose:D,primaryCta:{type:"button",label:(0,a.jsx)(u.E,{children:(0,m.tx)("figmake.marketing_modal.button")}),onClick:()=>{F(),M()},ctaTrackingDescriptor:f.c.OPEN_FIGMAKE,variantOverride:"custom",customVariantStyles:k.button},title:(0,a.jsx)(A,{}),trackingContextName:"Figmake Promo Modal",trackingProperties:{planTier:N}})}function I(){return(0,a.jsx)("div",{className:"x165vjil x14ggrba",children:(0,a.jsx)(c.oW,{src:(0,l.ck)("0b908885241f3422b8940078d7f3be979a8fece0"),alt:"Figma Make promotional image",width:332})})}},523256:(e,t,n)=>{n.d(t,{V:()=>i});var a=n(211862),r=n(307858);function i(){let e=(0,a.q5)(),t=!!e?.canEdit,n=!!(e&&e.teamId&&!t),i=e&&e.teamId?e.teamId:null;return{isEligible:n,canEditTeam:(0,r.$Y)(i),teamId:i}}},211498:(e,t,n)=>{n.d(t,{Q$:()=>g,Us:()=>p,mz:()=>w,nn:()=>x,zY:()=>f});var a=n(104076),r=n(716976),i=n(903927),o=n(511570),s=n.n(o),l=n(407644),d=n(506192),c=n(592726),_=n(696781),m=n(985884),u=n(681339),p=(e=>(e[e.FULL=0]="FULL",e[e.ADD_ONLY=1]="ADD_ONLY",e))(p||{}),f=(e=>(e[e.TILE_CONTENT=0]="TILE_CONTENT",e[e.TILE_POST=1]="TILE_POST",e[e.DETAIL_POST=2]="DETAIL_POST",e[e.DETAIL_COMMENT_NO_REACTION=3]="DETAIL_COMMENT_NO_REACTION",e[e.DETAIL_COMMENT_WITH_REACTION=4]="DETAIL_COMMENT_WITH_REACTION",e[e.FILE_POPOVER=5]="FILE_POPOVER",e))(f||{});function g(e){let t=(0,i.wA)(),n=(0,c.iZ)(),{existingReactionIdForCurrentUser:o}=y(e.feedReactions,n),s=r.useCallback(({emoji:n,addOnly:a})=>{let r=o(n);r?a||t(l.Oy({feedPostUuid:e.postUuid,emoji:n,reactionId:r})):t(l.EF({feedPostUuid:e.postUuid,feedPostId:e.postId,emoji:n}))},[t,o,e.postUuid,e.postId]);return(0,a.jsx)(h,{type:e.type,source:e.source,hideAddReactionButton:e.hideAddReactionButton,prependToList:e.prependToList,toggleReaction:s,feedResource:{type:"post",id:e.postUuid},feedReactions:e.feedReactions})}function x(e){let t=(0,i.wA)(),n=(0,c.iZ)(),{existingReactionIdForCurrentUser:o}=y(e.feedReactions,n),s=r.useCallback(({emoji:n,addOnly:a})=>{let r=o(n);r?a||t(l.t9({commentUuid:e.commentUuid,emoji:n,reactionId:r})):t(l.FJ({commentUuid:e.commentUuid,commentId:e.commentId,emoji:n}))},[t,o,e.commentUuid,e.commentId]);return(0,a.jsx)(h,{type:e.type,source:e.source,hideAddReactionButton:e.hideAddReactionButton,prependToList:e.prependToList,toggleReaction:s,feedResource:{type:"comment",id:e.commentUuid},feedReactions:e.feedReactions})}function h(e){let t=(0,c.iZ)(),{toggleReaction:n}=e,{reactionsWithSelected:i}=y(e.feedReactions,t),o=r.useCallback((e,t)=>{t.stopPropagation(),n({emoji:e.emoji,addOnly:!1})},[n]),s=r.useCallback(e=>{n({emoji:e,addOnly:!0})},[n]),l=(0,a.jsx)(b,{type:e.type,feedResource:e.feedResource,source:e.source,onAddReaction:s,hideAddReactionButton:e.hideAddReactionButton});return 1===e.type?l:(0,a.jsx)("div",{className:u.KD,children:(0,a.jsx)(m.Kb,{reactions:i,collapseOverflow:!1,onClickExisting:o,prependToList:e.prependToList,children:l})})}function b(e){let t=r.useRef(null),{isReactionPickerVisible:n,toggleReactionPicker:i,emojiPicker:o}=v(e.feedResource,e.source,t,e.onAddReaction);return e.hideAddReactionButton&&!n?(0,a.jsx)("div",{className:u.$S}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{ref:t,className:s()(1===e.type?u.D5:u.HL),children:(0,a.jsx)(m.ny,{onClick:i,selected:n,styleClassName:u.$S,selectedStyleClassName:u.Qi})}),n&&o]})}let y=(e,t)=>{let n=r.useMemo(()=>{let n={};if(!t)return n;for(let a of e)a.user.id===t.id&&(n[a.emoji]=a.id);return n},[e,t]),a=r.useCallback(e=>n[e],[n]);return{reactionsWithSelected:r.useMemo(()=>{let t={};for(let n of e){let{emoji:e,user:r,createdAt:i}=n;t[e]||(t[e]={emoji:e,users:[],selected:!!a(e),createdAt:i.getTime(),skinTonesToUsers:{}}),t[e].createdAt=Math.min(t[e].createdAt,i.getTime()),t[e].users.push({handle:r.handle,id:r.id,img_url:r.imgUrl})}return Object.values(t).sort((e,t)=>e.createdAt-t.createdAt||e.emoji.localeCompare(t.emoji))},[e,a]),existingReactionIdForCurrentUser:a}},T=(e,t)=>`FEED_TILE_EMOJI_PICKER-${e}${t?`-${t}`:null}`;function w(e,t){return(0,d.BK)(T(t,e?.id)).showing}let v=(e,t,n,i)=>{let o=(0,d.BK)(T(t,e?.id)),s=r.useCallback(e=>{i(e.shortcodes),o.hide()},[o,i]),l=n.current&&(0,a.jsx)(_._,{onInsert:s,onCancel:o.hide,targetRect:n.current.getBoundingClientRect()});return{isReactionPickerVisible:o.showing,toggleReactionPicker:o.toggle,emojiPicker:l}}},809439:(e,t,n)=>{n.d(t,{Hx:()=>h,Wu:()=>y,j8:()=>T});var a=n(104076),r=n(716976),i=n(903927),o=n(883765),s=n(432099),l=n(665261),d=n(192075),c=n(366535),_=n(407644),m=n(592726),u=n(904017),p=n(959834),f=n(354174),g=n(521126);let x=(0,p.Ju)(function(e){let t=(0,d.tx)("fig_feed.delete_confirmation");return e.numComments&&e.numReactions?t=(0,d.tx)("fig_feed.delete_confirmation_with_comments_and_reactions",{numCommentsAndReactions:e.numComments+e.numReactions}):e.numComments?t=(0,d.tx)("fig_feed.delete_confirmation_with_comments",{numComments:e.numComments}):e.numReactions&&(t=(0,d.tx)("fig_feed.delete_confirmation_with_reactions",{numReactions:e.numReactions})),(0,a.jsx)(f.yX,{destructive:!0,confirmationTitle:(0,d.tx)("fig_feed.delete_post"),confirmText:(0,d.tx)("fig_feed.delete"),onConfirm:e.onConfirm,popStack:!0,children:(0,a.jsx)("p",{children:t})})},"PostConfirmDeleteModal");var h=(e=>(e.USER="user_post_context_menu",e.SYSTEM="system_post_context_menu",e))(h||{});let b=e=>{let t=(0,m.iZ)(),n=(t&&t.id===e.creator.id)??!1,a=(0,u.D6)("useUserPostPermissions");return{canDelete:n,canAdminDelete:(0,u.j_)(a).unwrapOr(!1)}};function y(e){let t=(0,i.wA)(),n=r.useCallback(()=>t(_.Y9()),[t]),{feedPost:m}=e,{canDelete:u,canAdminDelete:p}=b(m),f=m.comments.length,h=m.reactions.length,y=r.useCallback(()=>{t((0,c.AS)()),s.Ay.del(`/api/feed_posts/post_uuid/${m.publicUuid}`).then(()=>{(0,o.sx)("Team Feed Post Deleted",{postUuid:m.publicUuid}),n()})},[t,m.publicUuid,n]),w=r.useCallback(()=>{t((0,c.to)({type:x,data:{onConfirm:y,numComments:f,numReactions:h},showModalsBeneath:!0}))},[t,y,f,h]);if(!u&&!p)return null;let v=u?(0,d.tx)("fig_feed.delete_ellipsis"):(0,d.tx)("fig_feed.delete_admin_ellipsis"),j=[(!!u||!!p)&&(0,a.jsx)(l.c$,{onClick:w,children:v},"delete")];return(0,a.jsx)(g.V,{dropdownId:T("user_post_context_menu",e.feedPost.publicUuid,e.source),options:j,hideTarget:e.hideTarget,lean:"left",maxWidth:120})}let T=(e,t,n)=>e+t+n},927919:(e,t,n)=>{n.d(t,{xZ:()=>j});var a=n(104076),r=n(716976),i=n(903927),o=n(989941),s=n(623411),l=n(790009),d=n(755444),c=n(130249),_=n(192075),m=n(668242),u=n(443192),p=n(484495),f=n(631370),g=n(944350),x=n(299640),h=n(226492),b=n(909342);function y(e){switch(e){case"developer":return{title:(0,_.tx)("whiteboard.whats_new.diagram.title"),carousel:[(0,d.ck)("d17ad024cc18607d4a8b1a00d5e2c2d9c33f7124"),(0,d.ck)("6c43de4a393f0c6a62c810c9e624475937af46b1"),(0,d.ck)("39e86727a54bf46978d4893784240e752197b537")],body:(0,_.tx)("whiteboard.whats_new.engineer.control.body")};case"researcher":return{title:(0,_.tx)("whiteboard.whats_new.workshop.title"),carousel:[(0,d.ck)("3875dfbdfc499dfc81addcc2cb4c425432e4d83c"),(0,d.ck)("19c6fa16695aa643eb32b6de523e34682c99ff74"),(0,d.ck)("d32d06accd71ec34d461ebeb0683d372ce3c4e86")],body:(0,_.tx)("whiteboard.whats_new.research.control.body")};case"designer":return{title:(0,_.tx)("whiteboard.whats_new.brainstorm.title"),carousel:[(0,d.ck)("86daaf50ff13c8defd9b675fbfabffe8fe2b6913"),(0,d.ck)("4d374f6472949a2b2b6428ea45e6e09d4608b5b2"),(0,d.ck)("532f390ae672946525645d4b0bdaaf4d84a2d1e5")],body:(0,_.tx)("whiteboard.whats_new.design.control.body")};case"marketer":return{title:(0,_.tx)("whiteboard.whats_new.workshop.title"),carousel:[(0,d.ck)("86daaf50ff13c8defd9b675fbfabffe8fe2b6913"),(0,d.ck)("19c6fa16695aa643eb32b6de523e34682c99ff74"),(0,d.ck)("5828c6e302bd2cf83170176485c5cae9a7e09fa9")],body:(0,_.tx)("whiteboard.whats_new.marketing.control.body")};case"product-manager":return{title:(0,_.tx)("whiteboard.whats_new.meeting.title"),carousel:[(0,d.ck)("07a2696df083d2dcbbc25f3c1b184c88b72ed4a6"),(0,d.ck)("19c6fa16695aa643eb32b6de523e34682c99ff74"),(0,d.ck)("d42ae46e1e5c846580f4cfa3d275a0a4fde6c482")],body:(0,_.tx)("whiteboard.whats_new.product.control.body")};default:return{title:(0,_.tx)("whiteboard.whats_new.diagram.title"),carousel:[(0,d.ck)("c58d5f4a37c974b72777d0d482b5e168819ed339"),(0,d.ck)("87363e4551c98cc4dd5c2eb17c8a1c216b4df558"),(0,d.ck)("17e4b5731b359b5da1cc9498bee8d19a574ecb39")],body:(0,_.tx)("whiteboard.whats_new.other.control.body")}}}function T(){let e=y((0,p.w)({rolesToDefaultToOther:["education"]})).carousel,t=(0,r.useRef)(null),[n,i]=(0,r.useState)(1),o=(0,r.useCallback)(()=>(t.current&&(1===n?t.current.style.transition="none":t.current.style.transition="transform 0.4s ease-in-out"),n===2*e.length-2)?i(1):i(e=>e+1),[e.length,n]);return(0,r.useEffect)(()=>{setTimeout(()=>{setTimeout(()=>{o(),t.current&&(t.current.style.transform=`translateX(-${210*n-45}px)`)},1===n?400:3e3)},0)},[n,o,45]),(0,a.jsx)("div",{className:"whats_new_v2_carousel--carouselContainer--fm3dW",children:(0,a.jsxs)("div",{className:"whats_new_v2_carousel--slideTrack--CsJL8",ref:t,children:[(0,a.jsx)("img",{src:e[2],alt:"clone of last thumbnail"}),(0,a.jsx)("img",{src:e[0],alt:"first thumbnail"}),(0,a.jsx)("img",{src:e[1],alt:"second thumbnail"}),(0,a.jsx)("img",{src:e[2],alt:"last thumbnail"}),(0,a.jsx)("img",{src:e[0],alt:"clone of first thumbnail"}),(0,a.jsx)("img",{src:e[1],alt:"clone of second thumbnail"})]})})}let w=(0,d.ck)("d67cccad0bd5d4d8f50d8cac15b5ed848027e0a8"),v=(0,d.ck)("f9217dd1dac2a765d218e1de9eb6fcbb32a454ec");function j(e){let t=(0,i.wA)(),n=(0,f.B)(),o=(0,p.w)({rolesToDefaultToOther:["education"]}),[s,d]=r.useState(!0),j=`Design to FigJam What's New v2 > ${o} > ${e.context}`,{title:k,body:A}=y(o),{onClose:C}=e,I=(0,r.useCallback)(()=>{t(u.b({dont_show_figjam_updates_in_figma_design:!s})),C()},[s,t,C]);return(0,a.jsx)(h.X,{trackingContextName:j,position:b.Q.BOTTOM_RIGHT,title:k,onClose:I,description:A,media:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:v,alt:"",className:"whats_new_v2--newBadge--kl1gy"}),(0,a.jsx)("img",{src:w,alt:"",className:"whats_new_v2--peaceIcon--Uk3-s"}),(0,a.jsx)(T,{})]}),overrideFooter:(0,a.jsxs)("div",{className:"whats_new_v2--ctaRow--8jvr-",children:[(0,a.jsx)(l.J,{brand:"whiteboard",children:(0,a.jsx)(c.$z,{onClick:()=>{I(),t(u.b({interacted_figjam_whats_new_v2_cta:!0})),t(m.zE({state:n,editorType:g._Y.WHITEBOARD,team:void 0,from:x.f6.FIGJAM_WHATS_NEW_MODAL,openNewFileIn:x.ai.NEW_TAB}))},children:(0,_.tx)("rcs.whats_new_in_figjam.try_fig_jam")})}),"editor"===e.context&&(0,a.jsx)("div",{className:"whats_new_v2--checkboxRow--eYDbx",children:(0,a.jsx)(E,{checked:s,setChecked:()=>d(!s)})})]}),userFlagOnShow:"seen_whats_new_v2_modal",isShowing:e.isShowing})}function E({checked:e,setChecked:t}){return(0,a.jsx)(o.S,{label:(0,a.jsx)(s.J,{children:(0,_.t)("rcs.whats_new_in_figjam.show_fig_jam_updates")}),checked:e,onChange:t})}},527123:(e,t,n)=>{n.d(t,{l:()=>o});var a=n(104076),r=n(716976),i=n(933135);let o=(0,r.memo)(function(e){return(0,i.O)()?(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M16.354 13.854a.5.5 0 0 1-.708 0L12 10.207l-3.646 3.647a.5.5 0 0 1-.708-.708l4-4a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .708",clipRule:"evenodd"})}):(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M15.854 13.854a.5.5 0 0 1-.708 0L11.5 10.207l-3.646 3.647a.5.5 0 0 1-.708-.708l4-4a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .708",clipRule:"evenodd"})})})},715315:(e,t,n)=>{n.d(t,{R:()=>r});var a=n(104076);let r=(0,n(716976).memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M8 6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V9.5a.5.5 0 0 0-1 0V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h3a.5.5 0 0 0 0-1zm9 0a5.5 5.5 0 0 0-5.5 5.5v1.793l-1.646-1.647a.5.5 0 0 0-.708.708l2.5 2.5a.5.5 0 0 0 .708 0l2.5-2.5a.5.5 0 0 0-.708-.708L12.5 13.293V11.5A4.5 4.5 0 0 1 17 7h.5a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})})},751536:(e,t,n)=>{n.d(t,{Q:()=>r});var a=n(104076);let r=(0,n(716976).memo)(function(e){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M6 6h12a1 1 0 0 1 1 1v3H5V7a1 1 0 0 1 1-1m-1 5v6a1 1 0 0 0 1 1h3v-7zm5 7h8a1 1 0 0 0 1-1v-6h-9zM4 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",clipRule:"evenodd"})})})},619636:(e,t,n)=>{n.d(t,{v:()=>o});var a=n(104076),r=n(716976),i=n(933135);let o=(0,r.memo)(function(e){return(0,i.O)()?(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M9.722 7.5h.414l.293-.293.935-.935a.9.9 0 0 1 1.272 0l.935.935.293.293H15.6a.9.9 0 0 1 .9.9v1.736l.293.293.935.935a.9.9 0 0 1 0 1.272l-.935.935-.293.293V15.6a.9.9 0 0 1-.9.9h-1.736l-.293.293-.934.934a.9.9 0 0 1-1.273 0l-.935-.934-.293-.293H8.4a.9.9 0 0 1-.9-.9v-1.736l-.293-.293-.934-.935-.708.708.708-.708a.9.9 0 0 1 0-1.272l.934-.935.293-.293V8.4a.9.9 0 0 1 .9-.9zm-4.157 3.156a1.9 1.9 0 0 0 0 2.688l.935.934V15.6c0 1.05.85 1.9 1.9 1.9h1.322l.935.935a1.9 1.9 0 0 0 2.687 0l.934-.935H15.6a1.9 1.9 0 0 0 1.9-1.9v-1.322l.935-.934a1.9 1.9 0 0 0 0-2.687l-.935-.935V8.4a1.9 1.9 0 0 0-1.9-1.9h-1.322l-.934-.935a1.9 1.9 0 0 0-2.687 0l-.935.935H8.4a1.9 1.9 0 0 0-1.9 1.9v1.322zm7.351-1.379a.5.5 0 1 0-.832-.554l-2 3a.5.5 0 0 0 .416.777h2.066l-1.482 2.223a.5.5 0 1 0 .832.554l2-3a.5.5 0 0 0-.416-.777h-2.066z",clipRule:"evenodd"})}):(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M9.22 6.997h.413l.293-.293.934-.935a.9.9 0 0 1 1.273 0l.935.935.292.293h1.737a.9.9 0 0 1 .9.9v1.736l.293.293.934.935a.9.9 0 0 1 0 1.272l-.934.935-.293.293v1.736a.9.9 0 0 1-.9.9H13.36l-.293.293-.935.935a.9.9 0 0 1-1.272 0l-.936-.936-.293-.292H7.898a.9.9 0 0 1-.9-.9V13.36l-.293-.293-.935-.935a.9.9 0 0 1 0-1.272l.935-.935.293-.293V7.897a.9.9 0 0 1 .9-.9zm0-1 .933-.935a1.9 1.9 0 0 1 2.687 0l.935.935h1.322c1.05 0 1.9.85 1.9 1.9v1.322l.935.934a1.9 1.9 0 0 1 0 2.688l-.935.934v1.322a1.9 1.9 0 0 1-1.9 1.9h-1.322l-.935.935a1.9 1.9 0 0 1-2.687 0l-.935-.935H7.897a1.9 1.9 0 0 1-1.9-1.9v-1.322l-.935-.934a1.9 1.9 0 0 1 0-2.687l.935-.935V7.897c0-1.05.85-1.9 1.9-1.9zm3.193 2.78a.5.5 0 0 0-.832-.554l-2 3a.5.5 0 0 0 .416.777h2.066l-1.482 2.223a.5.5 0 1 0 .832.554l2-3a.5.5 0 0 0-.416-.777H10.93z",clipRule:"evenodd"})})})}}]);

//# debugId=cf199b48-c747-508d-a120-a66b9b92ef38

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/94930ed924e7efb2b797778d3f089d8f05d2d483/4699-d48556ab519cb58d.min.js.map